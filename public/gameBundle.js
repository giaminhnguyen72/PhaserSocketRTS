(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Decoder:()=>Qt,Encoder:()=>Ft,PacketType:()=>Kt,protocol:()=>Ut});class s{constructor(t={keyboard:!1,mouse:!1}){this.tag="EVENTHANDLER",this.deleted=[],this.components=new Map,this.events=[],this.eventConfig=t,window.addEventListener("click",(t=>{this.events.push("click")})),window.addEventListener("keydown",(t=>{this.events.push(t.key)}))}registerListener(){}registerEmitter(){}getConfig(){return this.eventConfig}register(t,e){null!=t.componentId&&null!=t.componentId||(t.componentId=e,t.system=this,this.components.set(e,t)),console.log("Event Handler registered")}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){console.log("Event Handler"),console.log("Event  Handler Components:"+this.components.size),this.components.size;let e=[...this.components.keys()];for(let s of e)this.components.get(s).update(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(t?.componentId)}this.events=[]}}const i="GRAPHICS";class n{constructor(t){this.getQuad=new Map,this.parentNode=new o(t)}query(t){return this.parentNode.query(t)}clear(){this.parentNode.clear()}insert(t){let e=this.parentNode.insert(t);return this.getQuad.set(t,e),e}remove(t){let e=this.getQuad.get(t);if(!e)throw new Error;e.remove(t),this.getQuad.delete(t)}toString(){return this.parentNode.toString()}}class o{constructor(t,e=0){this.children=[],this.items=[],this.depth=0,this.maxDepth=3,this.area=t,this.depth=e,this.resize(t)}query(t){let e=[];return this.queryHelper(t,e),e}queryHelper(t,e){for(let s=0;s<this.items.length;s++)h(t,this.items[s].getRectangle())&&e.push(this.items[s]);for(let s=0;s<this.children.length;s++)r(t,this.children[s].area)?this.children[s].getItemList(e):h(this.children[s].area,t)&&this.children[s].queryHelper(t,e)}getItemList(t){for(let e of this.items)t.push(e);for(let e=0;e<this.children.length;e++)this.children[e].getItemList(t)}remove(t){for(let e=this.items.length-1;e>=0;e--)if(this.items[e]==t)return this.items[e]=this.items[this.items.length-1],this.items.pop(),!0;for(let e of this.children)if(e.remove(t))return!0;return!1}getRectangle(){return this.area}resize(t){this.clear(),this.area=t,this.depth+1<this.maxDepth&&(this.children.push(new o({pos:{x:t.pos.x-t.dim.length/4,y:t.pos.y+t.dim.height/4},dim:{length:t.dim.length/2,height:t.dim.height/2}},this.depth+1)),this.children.push(new o({pos:{x:t.pos.x-t.dim.length/4,y:t.pos.y-t.dim.height/4},dim:{length:t.dim.length/2,height:t.dim.height/2}},this.depth+1)),this.children.push(new o({pos:{x:t.pos.x+t.dim.length/4,y:t.pos.y+t.dim.height/4},dim:{length:t.dim.length/2,height:t.dim.height/2}},this.depth+1)),this.children.push(new o({pos:{x:t.pos.x+t.dim.length/4,y:t.pos.y-t.dim.height/4},dim:{length:t.dim.length/2,height:t.dim.height/2}},this.depth+1)))}clear(){this.items.length=0;for(let t=this.children.length-1;t>=0;t--)this.children[t].clear(),this.children.pop()}size(){let t=this.items.length;for(let e=0;e<4;e++)t+=this.children[e].size();return t}insert(t){for(let e=0;e<this.children.length;e++)if(r(this.children[e].area,t.getRectangle())&&this.depth+1<this.maxDepth)return this.children[e].insert(t);return this.items.push(t),this}toString(){let t="";for(let e=0;e<this.depth;e++)t+="     ";let e=""+t;e+=`Quad Position is ${this.area.pos.x},${this.area.pos.y} with area ${this.area.dim.height} x ${this.area.dim.height} \n`,e+=t,e+="Quad has "+this.children.length+" children at depth "+this.depth+"\n",e+=t,e+="Quad has "+this.items.length+" items\n",e+=t;for(let t of this.items)e+=JSON.stringify(t),e+="\n";for(let s of this.children)e+=t+"\n",e+=s;return e}}function r(t,e){let s=e.pos.x-e.dim.length/2,i=e.pos.y-e.dim.height/2,n=t.pos.x-t.dim.length/2,o=t.pos.y-t.dim.height/2;return s>=n&&s+e.dim.length<n+t.dim.length&&i>=o&&i+e.dim.height<o+t.dim.height}function h(t,e){let s=t.pos.x-t.dim.length/2,i=t.pos.y-t.dim.height/2,n=e.pos.x-e.dim.length/2,o=e.pos.y-e.dim.height/2;return s<n+e.dim.length&&s+t.dim.length>n&&i<o+e.dim.height&&i+t.dim.height>o}class a{constructor(t,e){this.registedElements=[],this.quadtree=new n(e)}registerStrategy(t){this.quadtree.insert(t)}deregisterStrategy(t){this.quadtree.remove(t)}render(t){for(let e of t){let t=e.getRectangle(),s=this.quadtree.query(t);e.render(s)}}clear(){}}class c{constructor(t,e){this.tag=i,this.rendering=[],this.graphicsConfig=t,this.components=new Map,this.deleted=[],document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.body.style.height="100%",document.body.style.width="100%",document.body.style.margin="0",this.contextInfo=e;let s={pos:{x:0,y:0,z:0},rot:0,dim:{length:this.contextInfo.getCanvas().width,height:this.contextInfo.getCanvas().height}};this.renderStrategy=new a(this,s)}register(t,e){null==t.componentId||null==t.componentId?(console.log("Registering undefined id in Ggraphics"),t.componentId=e,t.system=this,t.context=this.contextInfo,1==t.rendered&&(this.rendering.push(t),console.log("Pushing to rendering")),t.initialize(this),this.components.set(e,t)):(console.log("Graphics Registering id"+t.componentId),t.system=this,t.context=this.contextInfo,1==t.rendered?(this.rendering.push(t),console.log("Pushing to rendering")):0==t.rendered&&(this.renderStrategy.registerStrategy(t),console.log("Registered Strategy")),t.initialize(this),this.components.set(t.componentId,t))}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e),this.components.delete(t),this.renderStrategy.deregisterStrategy(e),console.log(e.entity+" s Component with id "+e.componentId+"is popped"))}update(t){this.contextInfo.ctx,console.log("Graphics engine running"),console.log("Graphics Components: "+this.components.size);for(let e of this.components)e[1].update(t);for(console.log("Rendering Components: "+this.rendering.length),this.renderStrategy.render(this.rendering);this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(t?.componentId)}}setScene(t){t.engineComponents.get(this.tag)}registerDomElements(){}}class l{constructor(t){this.tag="PHYSICS",this.deleted=[],this.components=new Map,this.config=t}register(t,e){null==t.componentId||null==t.componentId?(t.system=this,this.components.set(e,t)):(t.system=this,this.components.set(t.componentId,t))}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e),console.log(e.entity+" s Component with id "+e.componentId+"is popped"))}update(t){console.log("Physics engine running"),console.log("Physics Components: "+this.components.size);for(let e of this.components)e[1].update(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(t?.componentId)}}}var p,d;(d=p||(p={}))[d.SOCKETCLIENT=0]="SOCKETCLIENT",d[d.SOCKETSERVER=1]="SOCKETSERVER",d[d.CLIENTONLY=2]="CLIENTONLY",d[d.BOTH=3]="BOTH";class u{constructor(t){this.tag="SCRIPTING",this.deleted=[],this.components=new Map,this.engineType=t}register(t,e){null==t.componentId||null==t.componentId?(t.componentId=e,t.system=this,this.components.set(e,t)):(t.componentId=t.componentId,t.system=this,this.components.set(t.componentId,t))}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}initialize(t){}update(t){console.log("Scripting engine running"),console.log("Scripting Components: "+this.components.size);for(let e of this.components)(e[1].engineType==this.engineType||(e[1].engineType=p.BOTH))&&e[1].update(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(t?.componentId)}}}class g{constructor(t){this.graphicsConfig=t,this.graphicsConfig=t,document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.body.style.height="100%",document.body.style.width="100%",document.body.style.margin="0",this.setup(),this.canvas=this.generateCanvas(),this.ctx=this.canvas.getContext("2d"),this.div=this.generateDiv(this.graphicsConfig.parent)}generateDiv(t){let e=document.createElement("div");return e.id=t,e.style.height="100%",e.style.width="100%",e.style.zIndex="0",e.style.display="flex",e.style.justifyContent="center",e.appendChild(this.canvas),document.body.appendChild(e),console.log("test"),e}generateCanvas(){let t=document.createElement("CANVAS");return t.id=this.graphicsConfig.canvasID,console.log(this.parseStyle(this.graphicsConfig.style)),console.log("Before"),t.setAttribute("style",this.parseStyle(this.graphicsConfig.style)),t}getCtx(){return this.getCanvas().getContext("2d")}getCanvas(){let t=document.getElementById(this.graphicsConfig.canvasID);if(t instanceof HTMLCanvasElement)return t;throw Error("engineCanvas should be a reserved id for DOM Components")}parseStyle(t){let e=Object.entries(t).map((([t,e])=>t+":"+e+";"));return console.log(this.graphicsConfig.parent),e.join(" ")}setup(){if(this.graphicsConfig.background){let t=new Image;t.src=this.graphicsConfig.background,t.style.position="absolute",t.style.zIndex="-1",t.style.width="100%",t.style.height="100%",document.body.appendChild(t)}}}class f{constructor(t,e=[],s){this.scenes=new Map,this.id=0,this.componentId=0,this.systems=s,this.systemTag=new Map,this.engineConfig=t;let i=t.engineType;i==p.SOCKETCLIENT?f.EngineType=p.SOCKETCLIENT:i==p.SOCKETSERVER?f.EngineType=p.SOCKETSERVER:f.EngineType=p.CLIENTONLY;for(let t=0;t<e.length;t++){let s=e[t];s.sceneManager=this,s.engineComponents=new Map,console.log("In Scene Manager"),this.scenes.set(s.name,s)}this.setScene(e[0].name),this.sceneConfigs=e,f.currentIdx=this.sceneConfigs[0].name,this.systems=s}switchScenes(t){let e=this.scenes.get(t);if(e)for(var s of this.systems)if(!e.engineComponents.get(s.tag))throw Error("error in start method")}getCurrentScene(){let t=this.scenes.get(f.currentIdx);if(t)return t;throw Error("Cant get current scene")}setScene(t){let e=this.scenes.get(t);e&&(f.currScene=e,f.currentIdx=t)}getUniqueId(){if(f.EngineType==p.SOCKETCLIENT){let t=this.id-1;return this.id--,t}{let t=this.id+1;return this.id++,t}}getUniqueComponentId(){if(f.EngineType==p.SOCKETCLIENT){let t=this.componentId-1;return this.componentId--,t}{let t=this.componentId+1;return this.componentId++,t}}}f.EngineType=p.CLIENTONLY;class m{constructor(t){this.deleted=[],this.system=t}registerComponent(t){}update(t){for(var[e,s]of this.system.components)if(s.visible)for(var[i,n]of this.system.components)n.visible&&s.checkCollision(n)&&s!=n?s.collides(n):n.alive||this.deleted.push(n)}}class y{constructor(t){this.tag="COLLISION",this.components=new Map,this.config=t,this.deleted=[],t.bounds&&(this.bounds=t.bounds),this.collisionStrategy=new m(this)}register(t,e){null==t.componentId||null==t.componentId?(t.componentId=e,t.system=this,this.components.set(e,t)):(t.system=this,this.components.set(t.componentId,t)),this.collisionStrategy.registerComponent(t)}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){for(console.log("Collision System Running"),console.log("Collision Components: "+this.components.size),this.collisionStrategy.update(t);this.deleted.length>0;){let t=this.deleted.pop();t&&this.deleteComponent(t)}}deleteComponent(t){t.componentId&&this.components.delete(t.componentId)}}class v{constructor(t={engineType:p.CLIENTONLY},e){if(this.canvasID="engineCanvas",this.systems=[],this.startTime=0n,this.engineConfig=t,t.graphicsConfig&&(this.contextInfo=new g(t.graphicsConfig)),this.engineConfig.eventConfig&&this.contextInfo&&this.systems.push(new s(this.engineConfig.eventConfig)),this.engineConfig.physicsConfig&&this.systems.push(new l(this.engineConfig.physicsConfig)),this.engineConfig.scriptingConfig&&this.systems.push(new u(this.engineConfig.engineType)),e)for(let t of e)this.systems.push(t);if(this.engineConfig.collisionConfig&&this.systems.push(new y(this.engineConfig.collisionConfig)),this.engineConfig.graphicsConfig&&this.contextInfo&&(this.graphics=new c(this.engineConfig.graphicsConfig,this.contextInfo),this.systems.push(this.graphics)),e)for(let t of e)this.systems.push(t);this.sceneManager=new f(this.engineConfig,this.engineConfig.sceneConfig,this.systems),this.running=!0,this.running=!1}start(t){this.running=!0,console.log("Startng Engin ");let e=this.sceneManager.getCurrentScene();for(let t of this.systems){let s=this.sceneManager.getCurrentScene().engineComponents.set(t.tag,t.components);if(e.engineComponents.set(t.tag,t.components),this.sceneManager.systemTag.set(t.tag,t),!s)throw Error("error in start method")}let s=e.getSceneConfig(),i=s.entities.length;for(let t=0;t<i;t++)e.addEntity(e,s.entities[t]);this.engineConfig.engineType==p.CLIENTONLY||this.engineConfig.engineType==p.SOCKETCLIENT?window.requestAnimationFrame((t=>{let e=t-v.time;this.update(e),v.time=t})):(this.startTime=process.hrtime.bigint(),setInterval((()=>{this.running&&this.serverUpdate(t),console.log("Timeout runout")}),t))}update(t){for(let e of this.systems)e.update(t);console.log(t),window.requestAnimationFrame((t=>{let e=t-v.time;this.update(e),v.time=t}))}serverUpdate(t){console.log("updating");let e=process.hrtime.bigint(),s=(e-this.startTime)/1000000n;console.log(s);for(let t of this.systems)t.update(Number(s));v.time+=Number(s),this.startTime=e}}v.time=0;class w{constructor(t="engineDiv",e="engineCanvas",s={},i,n=1e3,o=500){this.width=n,this.height=o,this.parent=t,this.canvasID=e,this.style=s,this.background=i}}class b{constructor(t=[]){this.entities=t}}class C{constructor(t,e={x:0,y:0,z:0},s={x:0,y:0,z:0},i={x:0,y:0,z:0}){this.visible=!0,this.alive=!0,this.engineTag="PHYSICS",this.entity=t,this.pos=e,this.vel=s,this.accel=i}copy(t){this.pos.x=t.pos.x,this.pos.y=t.pos.y,this.pos.z=t.pos.z,this.vel.x=t.vel.x,this.vel.y=t.vel.y,this.vel.z=t.vel.z,this.accel.x=t.accel.x,this.accel.y=t.accel.y,this.accel.z=t.accel.z,this.entity=t.entity,this.componentId=t.componentId,this.visible=t.visible,this.alive=t.alive}update(t){console.log("Position is: "+this.pos.x+" and "+this.pos.y),this.vel.x=this.vel.x+this.accel.x*t,this.vel.y=this.vel.y+this.accel.y*t,this.vel.z=this.vel.z+this.accel.z*t,this.pos.x=this.pos.x+this.vel.x*t,this.pos.y=this.pos.y+this.vel.y*t,this.pos.z=this.pos.z+this.vel.z*t}toJSON(){return{pos:this.pos,vel:this.vel,accel:this.accel,entity:this.entity,componentId:this.componentId,visible:this.visible,alive:this.alive,engineTag:"PHYSICS"}}}function E(t){return t.pos.x-t.dim.length/2}function T(t){return t.pos.y-t.dim.height/2}class x{constructor(t,e,s){this.engineTag="GRAPHICS",this.rendered=!1,this.visible=!0,this.alive=!0,this.entity=t,this.src=s,this.shape=e,this.transform=this.shape.pos}unmount(){}copy(t){if(this.componentId=t.componentId,this.entity=t.entity,this.shape.dim.height=t.shape.dim.height,this.shape.dim.length=t.shape.dim.length,t.shape.pos.x!=t.transform.x)throw new Error;if(t.shape.pos.y!=t.transform.y)throw new Error;if(t.shape.pos.z!=t.transform.z)throw new Error;this.shape.pos.x=t.shape.pos.x,this.shape.pos.y=t.shape.pos.y,this.shape.pos.z=t.shape.pos.z,this.shape.rot=t.shape.rot,this.visible=t.visible,this.transform.x=t.transform.x,this.transform.y=t.transform.y,this.transform.z=t.transform.z}visit(t){}getRectangle(){return this.shape}render(){if(this.context.ctx){let t=E(this.shape),e=T(this.shape);this.context.ctx.drawImage(this.image,t,e,this.shape.dim.length,this.shape.dim.height)}}update(t){}initialize(){this.image=new Image,this.image.src=this.src}setSrc(t){console.log("Source changed"),this.src=t,this.image.src=t}toJSON(){return{entity:this.entity,componentId:this.componentId,engineTag:this.engineTag,transform:this.transform,visible:this.visible,alive:this.alive,src:this.src,shape:this.shape,renderred:this.rendered}}}class k{constructor(t){this.engineTag="EVENTHANDLER",this.visible=!0,this.alive=!0,this.events=new Map,Object.entries(t).map((([t,e])=>{this.events.set(t,e)}))}execute(t){let e=this.events.get(t.eventName);e&&e(t)}getEventType(){return"MOUSE"}copy(t){this.entity=t.entity,this.componentId=t.componentId,this.visible=t.visible,this.alive=t.alive}initialize(t){t.registerListener(this)}update(t,e){console.log("In mouse Listener")}toJSON(){return{entity:this.entity,engineTag:"EVENTHANDLER",componentId:this.componentId,visible:this.visible,alive:this.alive}}getEvents(){return this.events}}class I{constructor(t,e=p.CLIENTONLY){this.engineTag="SCRIPTING",this.visible=!0,this.alive=!0,this.callback=t,this.engineType=e}copy(t){}initialize(){}update(t,e){this.callback(t)}toJSON(){return{entity:this.entity,engineTag:this.engineTag,componenId:this.componentId,callback:this.callback}}}class S{constructor(t={x:20,y:20,z:0},e={x:.1,y:0,z:0},s=p.SOCKETSERVER){this.className="Player";let i={dim:{length:64,height:64},rot:0,pos:t},n=new x(-1,i,"/images/Knight_Forward.png");s==p.SOCKETCLIENT&&(n.rendered=!0,n.src="/images/Templar.png");let o=new C(-1,t,e),r=new I((t=>{console.log("Script runing"),o.pos.x<0&&(o.pos.x=0,o.vel.x*=-1,s==p.SOCKETCLIENT?(console.log(n.src),console.log("Client Hit 0: "+v.time)):(console.log(n.src),console.log("Server Hit 0: "+v.time))),o.pos.x+i.dim.length>500&&(s==p.SOCKETCLIENT?console.log("Client Hit 500: "+v.time):console.log("Server Hit 500: "+v.time),o.pos.x=250,o.vel.x*=-1),o.pos.y<0&&(o.pos.y=0,o.vel.y*=-1),o.pos.y+i.dim.height>300&&(o.pos.y=150,o.vel.y*=-1)}),p.BOTH),h=new k({click:t=>{console.log("Click")}});this.components=[o,n,r,h]}}class O{constructor(t,...e){this.components=[],this.scene=this,this.className="STAGE",this.time=0,this.entities=new Map,this.engineComponents=new Map,this.id=0,this.componentId=0,this.name=t,this.components=e}getSceneConfig(){return{entities:[this]}}addEntity(t,e){let s=this.sceneManager.getUniqueId();e.id=s,e.scene=this,this.entities.set(s,e);for(let t of e.components){let s=this.engineComponents.get(t.engineTag);if(t.entity=e.id,s){let e=this.sceneManager.systemTag.get(t.engineTag);e&&e.register(t,this.getUniqueComponentId())}else console.log(t.engineTag+"does not exist"),t.componentId=this.sceneManager.getUniqueComponentId()}return console.log("successfully added entity"),e}removeEntity(t){let e=this.entities.get(t);if(e){this.entities.delete(t);for(let t of e.components)console.log("Component"),console.log(t),console.log("System"),console.log(t.system),console.log("Component id "),console.log(t.componentId),t.system.unregister(t.componentId)}return e}addServerEntity(t,e){if(null==e.id||null==e.id)throw new Error("Entity id is undefined");if(e.scene=t,t.entities.set(e.id,e),t.newEntityQueue){if(!t.newEntityQueue.has(e.id)){for(let s of e.components)if(t.engineComponents.get(s.engineTag)){let e=t.sceneManager.systemTag.get(s.engineTag);e&&e.register(s,this.getUniqueComponentId())}else console.log(s.engineTag+" tagged System is not found");console.log("successfully added entitys")}return e}for(let s of e.components)if(t.engineComponents.get(s.engineTag)){let e=t.sceneManager.systemTag.get(s.engineTag);e&&e.register(s,this.getUniqueComponentId())}else console.log(s.engineTag+" tagged System is not found");return console.log("successfully added entitys"),e}getUniqueId(){if(f.EngineType==p.SOCKETCLIENT){let t=this.id-1;return this.id--,t}{let t=this.id+1;return this.id++,t}}getUniqueComponentId(){if(f.EngineType==p.SOCKETCLIENT){let t=this.componentId-1;return this.componentId--,t}{let t=this.componentId+1;return this.componentId++,t}}}class N{constructor(t){this.className="Templar",this.transform=new C(-1,{x:20*Math.random(),y:30*Math.random(),z:20},{x:10,y:10,z:0}),this.sprite=new x(-1,{pos:this.transform.pos,dim:{length:64,height:64},rot:0},"/images/Templar.png"),this.components=[this.sprite],t&&(this.transform.pos.x=t.x,this.transform.pos.y=t.y)}}class _{constructor(t=-1,e=-1,s=-1,i={x:0,y:0,z:-1},n={x:1,y:1}){this.visible=!0,this.alive=!0,this.engineTag="GRAPHICS",this.rendered=!0,this.height=s,this.width=e,this.pos=i,this.transform={x:0,y:0,z:0},this.entity=t,this.scale=n}unmount(){}getRectangle(){return{pos:this.pos,dim:{height:this.height,length:this.width},rot:0}}copy(t){this.entity=t.entity,this.componentId=t.componentId,this.width=t.width,this.height=t.height,this.visible=t.visible,this.alive=t.alive,this.scale.x=t.scale.x,this.scale.y=t.scale.y,this.rendered=t.rendered}initialize(){this.height<0&&(this.height=-1*this.height*this.context.canvas.height),this.width<0&&(this.width=-1*this.width*this.context.canvas.width),this.rendered&&(this.context.canvas.height=this.height,this.context.canvas.width=this.width)}update(t){this.context.ctx,this.pos.x+=this.transform.x,this.pos.y+=this.transform.y}render(t){this.context.ctx.translate(this.transform.x,this.transform.y),this.context.ctx.clearRect(-1*this.pos.x,-1*this.pos.y,this.width,this.height);let e=t;for(let s of e)s!=this&&s.render(t);console.log("Camera is rendered "+e.length+"elements"),this.transform.x=0,this.transform.y=0,this.context.ctx.save()}toJSON(){return{entity:this.entity,componentId:this.componentId,width:this.width,height:this.height,visible:this.visible,alive:this.alive,scale:this.scale,rendered:this.rendered,pos:this.pos}}}class R{constructor(t){this.visible=!0,this.alive=!0,this.engineTag="EVENTHANDLER",this.events=new Map,Object.entries(t).map((([t,e])=>{this.events.set(t,e)}))}getEvents(){return this.events}execute(t){let e=this.events.get(t.eventName);e&&e(t)}getEventType(){return"KEYBOARD"}initialize(t){t.registerListener(this)}copy(t){this.entity=t.entity,this.alive=t.alive,this.visible=t.visible,this.componentId=t.componentId}update(t,e){}toJSON(){return{entity:this.entity,alive:this.alive,visible:this.visible,componentId:this.componentId}}}class L{constructor(t){this.listeners=new Set,this.events=[],this.visible=!0,this.alive=!0,this.engineTag="EVENTHANDLER",this.engineType=t}initialize(t){t.registerEmitter(this),this.engineType!=p.SOCKETSERVER&&window.addEventListener("keydown",(t=>{this.events.push({eventName:"keydown",key:t.key})}))}addListener(t){this.listeners.add(t)}emit(t){for(let e of this.listeners)e.execute(t)}getEventType(){return"KEYBOARD"}update(t,e){for(let t=this.events.length-1;t>=0;t--)this.emit(this.events[t]),this.events.pop()}copy(t){this.alive=t.alive,this.visible=t.alive}toJSON(){return{visible:this.visible,alive:this.alive}}}class A{constructor(){this.camera=new _(-1,1e3,500),this.className="MainCamera",this.components=[this.camera,new R({keydown:t=>{"w"==t.key?(this.camera.transform.y-=1,console.log("W is pressed")):"a"==t.key?this.camera.transform.x-=1:"d"==t.key?this.camera.transform.x+=1:"s"==t.key&&(this.camera.transform.y+=1)}})]}}const B=Object.create(null);B.open="0",B.close="1",B.ping="2",B.pong="3",B.message="4",B.upgrade="5",B.noop="6";const M=Object.create(null);Object.keys(B).forEach((t=>{M[B[t]]=t}));const q={type:"error",data:"parser error"},z="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),P="function"==typeof ArrayBuffer,D=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,j=({type:t,data:e},s,i)=>z&&e instanceof Blob?s?i(e):H(e,i):P&&(e instanceof ArrayBuffer||D(e))?s?i(e):H(new Blob([e]),i):i(B[t]+(e||"")),H=(t,e)=>{const s=new FileReader;return s.onload=function(){const t=s.result.split(",")[1];e("b"+(t||""))},s.readAsDataURL(t)};function U(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let K;function F(t,e){return z&&t.data instanceof Blob?t.data.arrayBuffer().then(U).then(e):P&&(t.data instanceof ArrayBuffer||D(t.data))?e(U(t.data)):void j(t,!1,(t=>{K||(K=new TextEncoder),e(K.encode(t))}))}const V="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)V["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;const Q="function"==typeof ArrayBuffer,Y=(t,e)=>{if("string"!=typeof t)return{type:"message",data:W(t,e)};const s=t.charAt(0);return"b"===s?{type:"message",data:J(t.substring(1),e)}:M[s]?t.length>1?{type:M[s],data:t.substring(1)}:{type:M[s]}:q},J=(t,e)=>{if(Q){const s=(t=>{let e,s,i,n,o,r=.75*t.length,h=t.length,a=0;"="===t[t.length-1]&&(r--,"="===t[t.length-2]&&r--);const c=new ArrayBuffer(r),l=new Uint8Array(c);for(e=0;e<h;e+=4)s=V[t.charCodeAt(e)],i=V[t.charCodeAt(e+1)],n=V[t.charCodeAt(e+2)],o=V[t.charCodeAt(e+3)],l[a++]=s<<2|i>>4,l[a++]=(15&i)<<4|n>>2,l[a++]=(3&n)<<6|63&o;return c})(t);return W(s,e)}return{base64:!0,data:t}},W=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,G=String.fromCharCode(30);let $;function X(t){if(t)return function(t){for(var e in X.prototype)t[e]=X.prototype[e];return t}(t)}X.prototype.on=X.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},X.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},X.prototype.off=X.prototype.removeListener=X.prototype.removeAllListeners=X.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<i.length;n++)if((s=i[n])===e||s.fn===e){i.splice(n,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},X.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(s){i=0;for(var n=(s=s.slice(0)).length;i<n;++i)s[i].apply(this,e)}return this},X.prototype.emitReserved=X.prototype.emit,X.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},X.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Z="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function tt(t,...e){return e.reduce(((e,s)=>(t.hasOwnProperty(s)&&(e[s]=t[s]),e)),{})}const et=Z.setTimeout,st=Z.clearTimeout;function it(t,e){e.useNativeTimers?(t.setTimeoutFn=et.bind(Z),t.clearTimeoutFn=st.bind(Z)):(t.setTimeoutFn=Z.setTimeout.bind(Z),t.clearTimeoutFn=Z.clearTimeout.bind(Z))}class nt extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class ot extends X{constructor(t){super(),this.writable=!1,it(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,s){return super.emitReserved("error",new nt(t,e,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=Y(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}(t);return e.length?"?"+e:""}}const rt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ht=64,at={};let ct,lt=0,pt=0;function dt(t){let e="";do{e=rt[t%ht]+e,t=Math.floor(t/ht)}while(t>0);return e}function ut(){const t=dt(+new Date);return t!==ct?(lt=0,ct=t):t+"."+dt(lt++)}for(;pt<ht;pt++)at[rt[pt]]=pt;let gt=!1;try{gt="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const ft=gt;function mt(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||ft))return new XMLHttpRequest}catch(t){}if(!e)try{return new(Z[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function yt(){}const vt=null!=new mt({xdomain:!1}).responseType;class wt extends X{constructor(t,e){super(),it(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=void 0!==e.data?e.data:null,this.create()}create(){var t;const e=tt(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;const s=this.xhr=new mt(e);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&s.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{s.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var t;3===s.readyState&&(null===(t=this.opts.cookieJar)||void 0===t||t.parseCookies(s)),4===s.readyState&&(200===s.status||1223===s.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof s.status?s.status:0)}),0))},s.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=wt.requestsCount++,wt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=yt,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete wt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function bt(){for(let t in wt.requests)wt.requests.hasOwnProperty(t)&&wt.requests[t].abort()}wt.requestsCount=0,wt.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",bt):"function"==typeof addEventListener&&addEventListener("onpagehide"in Z?"pagehide":"unload",bt,!1));const Ct="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Et=Z.WebSocket||Z.MozWebSocket,Tt="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();function xt(t,e){return"message"===t.type&&"string"!=typeof t.data&&e[0]>=48&&e[0]<=54}const kt={websocket:class extends ot{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,s=Tt?{}:tt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=Tt?new Et(t,e,s):e?new Et(t,e):new Et(t)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],i=e===t.length-1;j(s,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(t){}i&&Ct((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=ut()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!Et}},webtransport:class extends ot{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const e=t.readable.getReader();let s;this.writer=t.writable.getWriter();const i=()=>{e.read().then((({done:t,value:e})=>{t||(s||1!==e.byteLength||54!==e[0]?(this.onPacket(function(t,e,s){$||($=new TextDecoder);const i=e||t[0]<48||t[0]>54;return Y(i?t:$.decode(t),"arraybuffer")}(e,s)),s=!1):s=!0,i())})).catch((t=>{}))};i();const n=this.query.sid?`0{"sid":"${this.query.sid}"}`:"0";this.writer.write((new TextEncoder).encode(n)).then((()=>this.onOpen()))}))})))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],i=e===t.length-1;F(s,(t=>{xt(s,t)&&this.writer.write(Uint8Array.of(54)),this.writer.write(t).then((()=>{i&&Ct((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}))}}doClose(){var t;null===(t=this.transport)||void 0===t||t.close()}},polling:class extends ot{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const e="https:"===location.protocol;let s=location.port;s||(s=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port}const e=t&&t.forceBase64;this.supportsBinary=vt&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const s=t.split(G),i=[];for(let t=0;t<s.length;t++){const n=Y(s[t],e);if(i.push(n),"error"===n.type)break}return i})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const s=t.length,i=new Array(s);let n=0;t.forEach(((t,o)=>{j(t,!1,(t=>{i[o]=t,++n===s&&e(i.join(G))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=ut()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new wt(this.uri(),t)}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},It=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,St=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ot(t){const e=t,s=t.indexOf("["),i=t.indexOf("]");-1!=s&&-1!=i&&(t=t.substring(0,s)+t.substring(s,i).replace(/:/g,";")+t.substring(i,t.length));let n=It.exec(t||""),o={},r=14;for(;r--;)o[St[r]]=n[r]||"";return-1!=s&&-1!=i&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const s=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||s.splice(0,1),"/"==e.slice(-1)&&s.splice(s.length-1,1),s}(0,o.path),o.queryKey=function(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,i){e&&(s[e]=i)})),s}(0,o.query),o}class Nt extends X{constructor(t,e={}){super(),this.writeBuffer=[],t&&"object"==typeof t&&(e=t,t=null),t?(t=Ot(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=Ot(e.host).host),it(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},s=t.split("&");for(let t=0,i=s.length;t<i;t++){let i=s[t].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new kt[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Nt.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),s=!1;Nt.priorWebsocketSuccess=!1;const i=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!s)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Nt.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{s||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function n(){s||(s=!0,c(),e.close(),e=null)}const o=t=>{const s=new Error("probe error: "+t);s.transport=e.name,n(),this.emitReserved("upgradeError",s)};function r(){o("transport closed")}function h(){o("socket closed")}function a(t){e&&t.name!==e.name&&n()}const c=()=>{e.removeListener("open",i),e.removeListener("error",o),e.removeListener("close",r),this.off("close",h),this.off("upgrading",a)};e.once("open",i),e.once("error",o),e.once("close",r),this.once("close",h),this.once("upgrading",a),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{s||e.open()}),200):e.open()}onOpen(){if(this.readyState="open",Nt.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(t+="string"==typeof(e=i)?function(t){let e=0,s=0;for(let i=0,n=t.length;i<n;i++)e=t.charCodeAt(i),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(i++,s+=4);return s}(e):Math.ceil(1.33*(e.byteLength||e.size))),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}var e;return this.writeBuffer}write(t,e,s){return this.sendPacket("message",t,e,s),this}send(t,e,s){return this.sendPacket("message",t,e,s),this}sendPacket(t,e,s,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof s&&(i=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const n={type:t,data:e,options:s};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?s():t()})):this.upgrading?s():t()),this}onError(t){Nt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let s=0;const i=t.length;for(;s<i;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}Nt.protocol=4,Nt.protocol;const _t="function"==typeof ArrayBuffer,Rt=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Lt=Object.prototype.toString,At="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Lt.call(Blob),Bt="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Lt.call(File);function Mt(t){return _t&&(t instanceof ArrayBuffer||Rt(t))||At&&t instanceof Blob||Bt&&t instanceof File}function qt(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,s=t.length;e<s;e++)if(qt(t[e]))return!0;return!1}if(Mt(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return qt(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&qt(t[e]))return!0;return!1}function zt(t){const e=[],s=t.data,i=t;return i.data=Pt(s,e),i.attachments=e.length,{packet:i,buffers:e}}function Pt(t,e){if(!t)return t;if(Mt(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}if(Array.isArray(t)){const s=new Array(t.length);for(let i=0;i<t.length;i++)s[i]=Pt(t[i],e);return s}if("object"==typeof t&&!(t instanceof Date)){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=Pt(t[i],e));return s}return t}function Dt(t,e){return t.data=jt(t.data,e),delete t.attachments,t}function jt(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=jt(t[s],e);else if("object"==typeof t)for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=jt(t[s],e));return t}const Ht=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ut=5;var Kt;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(Kt||(Kt={}));class Ft{constructor(t){this.replacer=t}encode(t){return t.type!==Kt.EVENT&&t.type!==Kt.ACK||!qt(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Kt.EVENT?Kt.BINARY_EVENT:Kt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==Kt.BINARY_EVENT&&t.type!==Kt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=zt(t),s=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(s),i}}function Vt(t){return"[object Object]"===Object.prototype.toString.call(t)}class Qt extends X{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const s=e.type===Kt.BINARY_EVENT;s||e.type===Kt.BINARY_ACK?(e.type=s?Kt.EVENT:Kt.ACK,this.reconstructor=new Yt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Mt(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===Kt[s.type])throw new Error("unknown packet type "+s.type);if(s.type===Kt.BINARY_EVENT||s.type===Kt.BINARY_ACK){const i=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const n=t.substring(i,e);if(n!=Number(n)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(n)}if("/"===t.charAt(e+1)){const i=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);s.nsp=t.substring(i,e)}else s.nsp="/";const i=t.charAt(e+1);if(""!==i&&Number(i)==i){const i=e+1;for(;++e;){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}s.id=Number(t.substring(i,e+1))}if(t.charAt(++e)){const i=this.tryParse(t.substr(e));if(!Qt.isPayloadValid(s.type,i))throw new Error("invalid payload");s.data=i}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case Kt.CONNECT:return Vt(e);case Kt.DISCONNECT:return void 0===e;case Kt.CONNECT_ERROR:return"string"==typeof e||Vt(e);case Kt.EVENT:case Kt.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===Ht.indexOf(e[0]));case Kt.ACK:case Kt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Yt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=Dt(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Jt(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const Wt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Gt extends X{constructor(t,e,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Jt(t,"open",this.onopen.bind(this)),Jt(t,"packet",this.onpacket.bind(this)),Jt(t,"error",this.onerror.bind(this)),Jt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(Wt.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const s={type:Kt.EVENT,data:e,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,i=e.pop();this._registerAckCallback(t,i),s.id=t}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,e){var s;const i=null!==(s=this.flags.timeout)&&void 0!==s?s:this._opts.ackTimeout;if(void 0===i)return void(this.acks[t]=e);const n=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),i);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(n),e.apply(this,[null,...t])}}emitWithAck(t,...e){const s=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((i,n)=>{e.push(((t,e)=>s?t?n(t):i(e):i(t))),this.emit(t,...e)}))}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...i)=>{if(s===this._queue[0])return null!==t?s.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...i)),s.pending=!1,this._drainQueue()})),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Kt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Kt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Kt.EVENT:case Kt.BINARY_EVENT:this.onevent(t);break;case Kt.ACK:case Kt.BINARY_ACK:this.onack(t);break;case Kt.DISCONNECT:this.ondisconnect();break;case Kt.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let s=!1;return function(...i){s||(s=!0,e.packet({type:Kt.ACK,id:t,data:i}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Kt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}}function $t(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}$t.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-s:t+s}return 0|Math.min(t,this.max)},$t.prototype.reset=function(){this.attempts=0},$t.prototype.setMin=function(t){this.ms=t},$t.prototype.setMax=function(t){this.max=t},$t.prototype.setJitter=function(t){this.jitter=t};class Xt extends X{constructor(t,s){var i;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(s=t,t=void 0),(s=s||{}).path=s.path||"/socket.io",this.opts=s,it(this,s),this.reconnection(!1!==s.reconnection),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=s.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new $t({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==s.timeout?2e4:s.timeout),this._readyState="closed",this.uri=t;const n=s.parser||e;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==s.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Nt(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=Jt(e,"open",(function(){s.onopen(),t&&t()})),n=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},o=Jt(e,"error",n);if(!1!==this._timeout){const t=this._timeout,s=this.setTimeoutFn((()=>{i(),n(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Jt(t,"ping",this.onping.bind(this)),Jt(t,"data",this.ondata.bind(this)),Jt(t,"error",this.onerror.bind(this)),Jt(t,"close",this.onclose.bind(this)),Jt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){Ct((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Gt(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const t of e)if(this.nsps[t].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Zt={};function te(t,e){"object"==typeof t&&(e=t,t=void 0);const s=function(t,e="",s){let i=t;s=s||"undefined"!=typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==s?s.protocol+"//"+t:"https://"+t),i=Ot(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const n=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+n+":"+i.port+e,i.href=i.protocol+"://"+n+(s&&s.port===i.port?"":":"+i.port),i}(t,(e=e||{}).path||"/socket.io"),i=s.source,n=s.id,o=s.path,r=Zt[n]&&o in Zt[n].nsps;let h;return e.forceNew||e["force new connection"]||!1===e.multiplex||r?h=new Xt(i,e):(Zt[n]||(Zt[n]=new Xt(i,e)),h=Zt[n]),s.query&&!e.query&&(e.query=s.queryKey),h.socket(s.path,e)}Object.assign(te,{Manager:Xt,Socket:Gt,io:te,connect:te});class ee{static getInstance(){return null!=ee.socket&&null!=ee.socket||(this.socket=te()),ee.socket}constructor(t,e){this.tag="EVENTHANDLER",this.emitters=new Map,this.unregistered=new Map,this.listeners=[],this.deleted=[],this.components=new Map,this.config=e,this.sceneManager=t,window.addEventListener("click",(t=>{ee.socket.emit("click")})),window.addEventListener("keydown",(t=>{ee.socket.emit("keydown",t.key)}))}getConfig(){return this.config}registerListener(t){let e=this.emitters.get(t.getEventType());e?e.addListener(t):this.listeners.push(t)}registerEmitter(t){this.emitters.set(t.getEventType(),t)}register(t){if(null==t.componentId||null==t.componentId){let e=this.sceneManager.getUniqueComponentId();t.componentId=e,t.system=this,t.initialize(this),this.components.set(e,t)}else t.system=this,this.components.set(t.componentId,t),t.initialize(this);console.log("Socket Manager registered")}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){console.log("Client Socket Handler"),console.log("Client Socket Handler Components:"+this.components.size);for(let e of this.emitters)e[1].update(t);for(let t=this.listeners.length-1;t>=0;t--){let e=this.emitters.get(this.listeners[t].getEventType());e&&(e.addListener(this.listeners[t]),this.listeners[t]=this.listeners[this.listeners.length-1],this.listeners.pop())}}}class se{update(t,e){}constructor(t){this.engineTag="GRAPHICS",this.visible=!0,this.alive=!0,this.rendered=!1,this.transform={x:100,y:100,z:0},this.text=t}unmount(){}copy(t){this.componentId=t.componentId,this.entity=t.entity,this.text=t.text,this.transform.x=this.transform.x,this.transform.y=this.transform.y}render(){this.context&&this.context.ctx.fillText(this.text,this.transform.x,this.transform.y)}initialize(){}getRectangle(){return{pos:this.transform,dim:{length:0,height:0},rot:0}}toJson(){return{entity:this.entity,engineTag:this.engineTag,componentId:this.componentId,text:this.text,visible:this.visible,alive:this.alive,transform:this.transform}}}class ie{constructor(){this.text=new se("test"),this.components=[this.text],this.className="Label"}}class ne{constructor(t,e,s,n){this.visible=!0,this.alive=!0,this.engineTag=i,this.state=0,this.time=0,this.rendered=!1,this.path=t,this.transform=e.pos,this.shape=e,this.delay=s}unmount(){throw new Error("Method not implemented.")}render(){if(this.context.ctx){let t=E(this.shape);console.log("Drawn with State "+this.state);let e=T(this.shape);this.context.ctx.drawImage(this.image,this.shape.dim.length*this.state,0,this.shape.dim.length,this.shape.dim.height,t,e,this.shape.dim.length,this.shape.dim.height)}else console.log("Context is not injected")}initialize(){this.image=new Image,this.image.src=this.path,this.state=0}update(t,e){if(this.time+=t,console.log("Updating Spritesheet"),this.time>this.delay){console.log("Time is greater than delay");let t=Math.floor(this.time/this.delay),e=Math.floor(this.image.width/this.shape.dim.length);console.log("Image width is "+this.image.width),console.log("State change is "+t),this.state=(1+this.state)%e,this.time=this.time%this.delay}}getRectangle(){return this.shape}copy(t){var e,s;this.entity=t.entity,this.visible=t.visible,this.alive=t.alive,this.componentId=t.componentId,this.path=t.path,this.delay=t.delay,this.rendered=t.rendered,this.transform.x=t.transform.x,this.transform.y=t.transform.y,this.transform.z=t.transform.z,e=this.shape,s=t.shape,e.dim.height=s.dim.height,e.dim.length=s.dim.length,e.pos.x=s.pos.x,e.pos.y=s.pos.y,e.pos.z=s.pos.z,e.rot=s.rot}toJSON(){return{entity:this.entity,componentId:this.componentId,engineTag:this.engineTag,transform:this.transform,visible:this.visible,alive:this.alive,src:this.path,shape:this.shape,delay:this.delay,state:this.state,time:this.time,path:this.path,rendered:this.rendered}}}class oe{constructor(){this.components=[new ne("/images/SwordSpriteSheet.png",{dim:{length:32,height:32},pos:{x:20,y:20,z:0},rot:0},3,32)],this.className="SWORDANIM"}}function re(t,e){if(null==e.id||null==e.id)throw new Error("Entity id is undefined");if(e.scene=t,t.entities.set(e.id,e),t.newEntityQueue){if(!t.newEntityQueue.has(e.id)){for(let s of e.components)if(t.engineComponents.get(s.engineTag)){let e=t.sceneManager.systemTag.get(s.engineTag);e&&e.register(s,t.getUniqueComponentId())}else console.log(s.engineTag+" tagged System is not found");console.log("successfully added entitys")}return e}for(let s of e.components)if(t.engineComponents.get(s.engineTag)){let e=t.sceneManager.systemTag.get(s.engineTag);e&&e.register(s,t.getUniqueComponentId())}else console.log(s.engineTag+" tagged System is not found");return console.log("successfully added entitys"),e}class he{constructor(t,e){this.emissionQueue=[],this.listenQueue=new Map,this.listenerLock=!1,this.visible=!0,this.alive=!0,this.engineTag="EVENTHANDLER",this.snapShots=[],this.time=0,this.socketMap=t,this.events=new Map,this.socketConfig=e}initialize(t){t.registerEmitter(this),t.registerListener(this),Object.entries(this.socketMap).map((([t,e])=>{this.events.set(t,e),ee.getInstance().on(t,(e=>{this.events.get(t)&&!this.listenerLock&&this.listenQueue.set(t,{event:t,data:e})}))})),this.events.set("update",(t=>{let e=f.currScene;if(console.log("Time Difference "+(t.timestamp-this.time)),e)for(let s of t.data){let t=e;if(!t)throw new Error("Scene not found");if(t.entities.get(s.id))for(let e=0;e<s.components.length;e++){let i=t.engineComponents.get(s.components[e].engineTag),n=i?.get(s.components[e].componentId);n&&n.copy(s.components[e])}else{console.log("Adding new Entity");let e=this.socketConfig.entityGeneratorMap.get(s.entityClass);if(e){let i=e();i.id=s.id,i.scene=t;for(let t=0;t<i.components.length;t++)i.components[t].copy(s.components[t]);re(t,i)}}}})),ee.getInstance().on("update",(t=>{this.events.get("update")&&!this.listenerLock&&(console.log("In updat"),console.log(t),this.listenQueue.set("update",{event:"update",data:t}))}))}addListener(t){let e=t.getEvents();for(let t of e)ee.getInstance().on(t[0],t[1])}emit(t){ee.getInstance().emit(t.event,t.data)}update(t,e){this.time+=t;for(let t=this.emissionQueue.length-1;t>=0;t--)this.emit(this.emissionQueue[t]),this.emissionQueue.pop();this.listenerLock=!0;for(let t of this.listenQueue){let e=this.events.get(t[0]);if(!e)throw new Error;e(t[1].data)}this.listenQueue.clear(),this.listenerLock=!1}queueEvent(t){this.emissionQueue.push(t)}copy(t){this.visible=t.visible,this.alive=t.alive,this.socketConfig.engineType=t.socketConfig.engineType}getEventType(){return"SocketServer"}execute(t){if(t){let e=this.events.get(t.event);e&&e(t.data)}}getEvents(){let t=new Map;return Object.entries(this.socketMap).map((([e,s])=>{t.set(e,s)})),t}toJSON(){let t=this.socketConfig.engineType==p.SOCKETCLIENT?p.SOCKETSERVER:p.SOCKETCLIENT;return{visible:this.visible,alive:this.alive,socketConfig:{engineType:t}}}}let ae=new Map;ae.set("Templar",(()=>new N)),ae.set("MainCamera",(()=>(console.log("camera made"),new A))),ae.set("Player",(()=>new S)),ae.set("Label",(()=>new ie)),ae.set("SWORDANIM",(()=>new oe));class ce extends O{constructor(t){super("Name"),this.time=0,this.entities=new Map,this.engineComponents=new Map,this.sceneConfig=new b(t);let e=new he({connect:()=>{console.log("connected");let t=window.location.pathname.split("/");ee.getInstance().emit("joined",window.sessionStorage.getItem("PlayerName"),t[t.length-1]),console.log("emitting"),e.emit({event:"clientInitialize",data:null})},disconnect:()=>{throw new Error}},{engineType:p.SOCKETCLIENT,entityGeneratorMap:ae});new k({click:t=>{console.log("Position x is "+t.pos.x),console.log("Position y is "+t.pos.y),console.log("Name is "+t.eventName),e.emit({event:"click",data:null})},dblclick:t=>{}}),this.components.push(e,new L(p.SOCKETCLIENT))}getSceneConfig(){let t=new S({x:20,y:20,z:20},{x:.1,y:0,z:0},p.SOCKETCLIENT);return this.sceneConfig.entities.push(this,t),this.sceneConfig}}window.onload=()=>{let t=new ce([new A]),e=new v({engineType:p.SOCKETCLIENT,graphicsConfig:new w("test","193as",{"display:flex;background-color":"white",width:"100%",height:"100%","z-index":"0"}),sceneConfig:[t],physicsConfig:{},scriptingConfig:{}});e.systems.push(new ee(e.sceneManager,{entityFactoryMap:ae,socketEventMap:t=>{t.on("connect",(()=>{console.log("connected");let e=window.location.pathname.split("/");t.emit("joined",window.sessionStorage.getItem("PlayerName"),e[e.length-1]),console.log("emitting"),t.emit("clientInitialize")}))}})),e.start(10)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YixJQWdEYkEsRUFBT3pDLEdBQUcsV0FBVyxLQUNqQnpULFFBQVFDLElBQUksYUFDWixJQUNJa3hCLEVBRFNqeUIsT0FBT21mLFNBQVMrUyxTQUNScmdCLE1BQU0sS0FDM0JtRixFQUFPMUcsS0FBSyxTQUFVdFEsT0FBT215QixlQUFlQyxRQUFRLGNBQWVILEVBQVFBLEVBQVEzd0IsT0FBUyxJQUM1RlIsUUFBUUMsSUFBSSxZQUNaaVcsRUFBTzFHLEtBQUssbUJBQW1CLEdBRWpDLEtBR1ZMLEVBQU92RSxNQUFNLEdBQUcsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9lbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2VuZ2luZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2VuZ2luZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9zeXN0ZW1zL2V2ZW50cy9FdmVudEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9zdHJ1Y3RzL1F1YWR0cmVlLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy90eXBlcy9jb21wb25lbnRzL2dyYXBoaWNzL1F1YWRUcmVlUmVuZGVyaW5nLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9zeXN0ZW1zL2dyYXBoaWNzL0dyYXBoaWNFbmdpbmUuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3N5c3RlbXMvcGh5c2ljcy9QaHlzaWNzRW5naW5lLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb25zdGFudHMvZW5naW5lVHlwZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvc3lzdGVtcy9zY3JpcHRpbmcvU2NyaXB0aW5nRW5naW5lLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb3JlL2NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvcmUvbWFuYWdlcnMvU2NlbmVNYW5hZ2VyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy90eXBlcy9jb21wb25lbnRzL2NvbGxpc2lvbi9Db2xsaXNpb25TdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvc3lzdGVtcy9Db2xsaXNpb24vQ29sbGlzaW9uU3lzdGVtLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb3JlL2VuZ2luZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29yZS9jb25maWcuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvUGh5c2ljcy90cmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3R5cGVzL2NvbXBvbmVudHMvY29sbGlzaW9uL3NoYXBlLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL1Nwcml0ZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9FdmVudC9MaXN0ZW5lci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9TY3JpcHQvU2NyaXB0LmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvR2FtZUZyb250ZW5kL3NjZW5lcy9lbnRpdGllcy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvcmUvc2NlbmUuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9HYW1lRnJvbnRlbmQvc2NlbmVzL2VudGl0aWVzL1RlbXBsYXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvQ2FtZXJhLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL0V2ZW50L0tleWJvYXJkLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvR2FtZUZyb250ZW5kL3NjZW5lcy9lbnRpdGllcy9NYWluQ2FtZXJhLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2VzbS9jb21tb25zLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2VzbS9lbmNvZGVQYWNrZXQuYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vY29udHJpYi9iYXNlNjQtYXJyYXlidWZmZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvZXNtL2RlY29kZVBhY2tldC5icm93c2VyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlci9pbmRleC5tanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2dsb2JhbFRoaXMuYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdXRpbC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL3BhcnNlcXMuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2NvbnRyaWIveWVhc3QuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2NvbnRyaWIvaGFzLWNvcnMuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMveG1saHR0cHJlcXVlc3QuYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9wb2xsaW5nLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS90cmFuc3BvcnRzL3dlYnNvY2tldC1jb25zdHJ1Y3Rvci5icm93c2VyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS90cmFuc3BvcnRzL3dlYnNvY2tldC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJ0cmFuc3BvcnQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2NvbnRyaWIvcGFyc2V1cmkuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3NvY2tldC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvYnVpbGQvZXNtL2lzLWJpbmFyeS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20vYmluYXJ5LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2J1aWxkL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vb24uanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL3NvY2tldC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9iYWNrbzIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL21hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL2luZGV4LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS91cmwuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvcmUvbWFuYWdlcnMvU29ja2V0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9UZXh0LmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvR2FtZUZyb250ZW5kL3NjZW5lcy9lbnRpdGllcy9MYWJlbC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9TcHJpdGVzaGVldC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L0dhbWVGcm9udGVuZC9zY2VuZXMvZW50aXRpZXMvU3dvcmRBbmltLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb3JlL3NjZW5lVXRpbHMuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvRXZlbnQvU29ja2V0U2VydmVyRW1pdHRlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L0dhbWVGcm9udGVuZC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImV4cG9ydCBjbGFzcyBFdmVudEhhbmRsZXIge1xyXG4gICAgY29uc3RydWN0b3IoZXZlbnRDb25maWcgPSB7XHJcbiAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgIG1vdXNlOiBmYWxzZVxyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMudGFnID0gXCJFVkVOVEhBTkRMRVJcIjtcclxuICAgICAgICB0aGlzLmRlbGV0ZWQgPSBbXTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcclxuICAgICAgICB0aGlzLmV2ZW50Q29uZmlnID0gZXZlbnRDb25maWc7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMucHVzaChcImNsaWNrXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMucHVzaChldmVudC5rZXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJMaXN0ZW5lcigpIHtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyRW1pdHRlcigpIHtcclxuICAgIH1cclxuICAgIGdldENvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmVudENvbmZpZztcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyKGNvbXAsIGlkKSB7XHJcbiAgICAgICAgaWYgKGNvbXAuY29tcG9uZW50SWQgPT0gdW5kZWZpbmVkIHx8IGNvbXAuY29tcG9uZW50SWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb21wLmNvbXBvbmVudElkID0gaWQ7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChpZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXZlbnQgSGFuZGxlciByZWdpc3RlcmVkXCIpO1xyXG4gICAgfVxyXG4gICAgdW5yZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgbGV0IGRlbGV0ZWQgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KGNvbXApO1xyXG4gICAgICAgIGlmIChkZWxldGVkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZWQuYWxpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVkLnB1c2goZGVsZXRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJFdmVudCBIYW5kbGVyXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXZlbnQgIEhhbmRsZXIgQ29tcG9uZW50czpcIiArIHRoaXMuY29tcG9uZW50cy5zaXplKTtcclxuICAgICAgICBsZXQgbGVuID0gdGhpcy5jb21wb25lbnRzLnNpemU7XHJcbiAgICAgICAgbGV0IGtleXMgPSBbLi4udGhpcy5jb21wb25lbnRzLmtleXMoKV07XHJcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiBrZXlzKSB7XHJcbiAgICAgICAgICAgIGxldCBsaXN0ZW5hYmxlID0gdGhpcy5jb21wb25lbnRzLmdldChjb21wKTtcclxuICAgICAgICAgICAgLy9sZXQgZXZlbnRNYXAgPSBsaXN0ZW5hYmxlLmV2ZW50TWFwXHJcbiAgICAgICAgICAgIC8vZm9yIChsZXQgZSBvZiB0aGlzLmV2ZW50cykge1xyXG4gICAgICAgICAgICAvLyAgIGlmIChldmVudE1hcCkge1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IGZ1bmMgPSBldmVudE1hcC5nZXQoZSlcclxuICAgICAgICAgICAgLy8gICBpZiAoZnVuYykge1xyXG4gICAgICAgICAgICAvLyAgICAgZnVuYygpXHJcbiAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBsaXN0ZW5hYmxlLnVwZGF0ZShkdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlICh0aGlzLmRlbGV0ZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgY29tcCA9IHRoaXMuZGVsZXRlZC5wb3AoKTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmRlbGV0ZShjb21wPy5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRIYW5kbGVyLmpzLm1hcCIsImV4cG9ydCBjb25zdCBQSFlTSUNTX1RBRyA9IFwiUEhZU0lDU1wiO1xyXG5leHBvcnQgY29uc3QgR1JBUEhJQ1NfVEFHID0gXCJHUkFQSElDU1wiO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnRUeXBlLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBRdWFkVHJlZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzaXplKSB7XHJcbiAgICAgICAgdGhpcy5nZXRRdWFkID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IG5ldyBRdWFkVHJlZU5vZGUoc2l6ZSk7XHJcbiAgICB9XHJcbiAgICBxdWVyeShib3gpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnROb2RlLnF1ZXJ5KGJveCk7XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLnBhcmVudE5vZGUuY2xlYXIoKTtcclxuICAgIH1cclxuICAgIGluc2VydChpdGVtKSB7XHJcbiAgICAgICAgbGV0IHF1YWROb2RlID0gdGhpcy5wYXJlbnROb2RlLmluc2VydChpdGVtKTtcclxuICAgICAgICB0aGlzLmdldFF1YWQuc2V0KGl0ZW0sIHF1YWROb2RlKTtcclxuICAgICAgICByZXR1cm4gcXVhZE5vZGU7XHJcbiAgICB9XHJcbiAgICByZW1vdmUoaXRlbSkge1xyXG4gICAgICAgIGxldCBxdWFkTm9kZSA9IHRoaXMuZ2V0UXVhZC5nZXQoaXRlbSk7XHJcbiAgICAgICAgaWYgKHF1YWROb2RlKSB7XHJcbiAgICAgICAgICAgIHF1YWROb2RlLnJlbW92ZShpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldFF1YWQuZGVsZXRlKGl0ZW0pO1xyXG4gICAgfVxyXG4gICAgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50Tm9kZS50b1N0cmluZygpO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFF1YWRUcmVlTm9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzaXplLCBkZXB0aCA9IDApIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZGVwdGggPSAwO1xyXG4gICAgICAgIHRoaXMubWF4RGVwdGggPSAzO1xyXG4gICAgICAgIHRoaXMuYXJlYSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5kZXB0aCA9IGRlcHRoO1xyXG4gICAgICAgIHRoaXMucmVzaXplKHNpemUpO1xyXG4gICAgfVxyXG4gICAgcXVlcnkoYm94KSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLnF1ZXJ5SGVscGVyKGJveCwgbGlzdCk7XHJcbiAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICB9XHJcbiAgICBxdWVyeUhlbHBlcihib3gsIGFuc3dlcikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoY29sbGlkZXMoYm94LCB0aGlzLml0ZW1zW2ldLmdldFJlY3RhbmdsZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgYW5zd2VyLnB1c2godGhpcy5pdGVtc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjb250YWlucyhib3gsIHRoaXMuY2hpbGRyZW5baV0uYXJlYSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZ2V0SXRlbUxpc3QoYW5zd2VyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb2xsaWRlcyh0aGlzLmNoaWxkcmVuW2ldLmFyZWEsIGJveCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucXVlcnlIZWxwZXIoYm94LCBhbnN3ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0SXRlbUxpc3QobGlzdCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgb2YgdGhpcy5pdGVtcykge1xyXG4gICAgICAgICAgICBsaXN0LnB1c2goaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmdldEl0ZW1MaXN0KGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbW92ZShpdGVtKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXRlbXNbaV0gPT0gaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpXSA9IHRoaXMuaXRlbXNbdGhpcy5pdGVtcy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgaWYgKGkucmVtb3ZlKGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBnZXRSZWN0YW5nbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJlYTtcclxuICAgIH1cclxuICAgIHJlc2l6ZShyZWN0YW5nbGUpIHtcclxuICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5hcmVhID0gcmVjdGFuZ2xlO1xyXG4gICAgICAgIGlmICh0aGlzLmRlcHRoICsgMSA8IHRoaXMubWF4RGVwdGgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBRdWFkVHJlZU5vZGUoeyBwb3M6IHsgeDogcmVjdGFuZ2xlLnBvcy54IC0gcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyA0LCB5OiByZWN0YW5nbGUucG9zLnkgKyByZWN0YW5nbGUuZGltLmhlaWdodCAvIDQgfSwgZGltOiB7IGxlbmd0aDogcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyAyLCBoZWlnaHQ6IHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gMiB9IH0sIHRoaXMuZGVwdGggKyAxKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChuZXcgUXVhZFRyZWVOb2RlKHsgcG9zOiB7IHg6IHJlY3RhbmdsZS5wb3MueCAtIHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gNCwgeTogcmVjdGFuZ2xlLnBvcy55IC0gcmVjdGFuZ2xlLmRpbS5oZWlnaHQgLyA0IH0sIGRpbTogeyBsZW5ndGg6IHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gMiwgaGVpZ2h0OiByZWN0YW5nbGUuZGltLmhlaWdodCAvIDIgfSB9LCB0aGlzLmRlcHRoICsgMSkpO1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobmV3IFF1YWRUcmVlTm9kZSh7IHBvczogeyB4OiByZWN0YW5nbGUucG9zLnggKyByZWN0YW5nbGUuZGltLmxlbmd0aCAvIDQsIHk6IHJlY3RhbmdsZS5wb3MueSArIHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gNCB9LCBkaW06IHsgbGVuZ3RoOiByZWN0YW5nbGUuZGltLmxlbmd0aCAvIDIsIGhlaWdodDogcmVjdGFuZ2xlLmRpbS5oZWlnaHQgLyAyIH0gfSwgdGhpcy5kZXB0aCArIDEpKTtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBRdWFkVHJlZU5vZGUoeyBwb3M6IHsgeDogcmVjdGFuZ2xlLnBvcy54ICsgcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyA0LCB5OiByZWN0YW5nbGUucG9zLnkgLSByZWN0YW5nbGUuZGltLmhlaWdodCAvIDQgfSwgZGltOiB7IGxlbmd0aDogcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyAyLCBoZWlnaHQ6IHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gMiB9IH0sIHRoaXMuZGVwdGggKyAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzaXplKCkge1xyXG4gICAgICAgIGxldCBjb3VudCA9IHRoaXMuaXRlbXMubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvdW50ICs9IHRoaXMuY2hpbGRyZW5baV0uc2l6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICB9XHJcbiAgICBpbnNlcnQoaXRlbSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbnModGhpcy5jaGlsZHJlbltpXS5hcmVhLCBpdGVtLmdldFJlY3RhbmdsZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVwdGggKyAxIDwgdGhpcy5tYXhEZXB0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldLmluc2VydChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICB0b1N0cmluZygpIHtcclxuICAgICAgICBsZXQgdGFicyA9IFwiXCI7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRlcHRoOyBpKyspIHtcclxuICAgICAgICAgICAgdGFicyArPSBcIiAgICAgXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZXR1cm5lZCA9IFwiXCIgKyB0YWJzO1xyXG4gICAgICAgIHJldHVybmVkICs9IGBRdWFkIFBvc2l0aW9uIGlzICR7dGhpcy5hcmVhLnBvcy54fSwke3RoaXMuYXJlYS5wb3MueX0gd2l0aCBhcmVhICR7dGhpcy5hcmVhLmRpbS5oZWlnaHR9IHggJHt0aGlzLmFyZWEuZGltLmhlaWdodH0gXFxuYDtcclxuICAgICAgICByZXR1cm5lZCArPSB0YWJzO1xyXG4gICAgICAgIHJldHVybmVkICs9IFwiUXVhZCBoYXMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCArIFwiIGNoaWxkcmVuIGF0IGRlcHRoIFwiICsgdGhpcy5kZXB0aCArIFwiXFxuXCI7XHJcbiAgICAgICAgcmV0dXJuZWQgKz0gdGFicztcclxuICAgICAgICByZXR1cm5lZCArPSBcIlF1YWQgaGFzIFwiICsgdGhpcy5pdGVtcy5sZW5ndGggKyBcIiBpdGVtc1xcblwiO1xyXG4gICAgICAgIHJldHVybmVkICs9IHRhYnM7XHJcbiAgICAgICAgZm9yIChsZXQgaSBvZiB0aGlzLml0ZW1zKSB7XHJcbiAgICAgICAgICAgIHJldHVybmVkICs9IEpTT04uc3RyaW5naWZ5KGkpO1xyXG4gICAgICAgICAgICByZXR1cm5lZCArPSBcIlxcblwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuZWQgKz0gdGFicyArIFwiXFxuXCI7XHJcbiAgICAgICAgICAgIHJldHVybmVkICs9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXR1cm5lZDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjb250YWlucyhjb250YWluZXIsIGNvbnRhaW5lZCkge1xyXG4gICAgbGV0IHgxID0gY29udGFpbmVkLnBvcy54IC0gY29udGFpbmVkLmRpbS5sZW5ndGggLyAyO1xyXG4gICAgbGV0IHkxID0gY29udGFpbmVkLnBvcy55IC0gY29udGFpbmVkLmRpbS5oZWlnaHQgLyAyO1xyXG4gICAgbGV0IHgyID0gY29udGFpbmVyLnBvcy54IC0gY29udGFpbmVyLmRpbS5sZW5ndGggLyAyO1xyXG4gICAgbGV0IHkyID0gY29udGFpbmVyLnBvcy55IC0gY29udGFpbmVyLmRpbS5oZWlnaHQgLyAyO1xyXG4gICAgaWYgKHgxID49IHgyXHJcbiAgICAgICAgJiYgeDEgKyBjb250YWluZWQuZGltLmxlbmd0aCA8IHgyICsgY29udGFpbmVyLmRpbS5sZW5ndGhcclxuICAgICAgICAmJiB5MSA+PSB5MlxyXG4gICAgICAgICYmIHkxICsgY29udGFpbmVkLmRpbS5oZWlnaHQgPCB5MiArIGNvbnRhaW5lci5kaW0uaGVpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY29sbGlkZXMocmVjdGFuZ2xlMSwgcmVjdGFuZ2xlMikge1xyXG4gICAgbGV0IHgxID0gcmVjdGFuZ2xlMS5wb3MueCAtIHJlY3RhbmdsZTEuZGltLmxlbmd0aCAvIDI7XHJcbiAgICBsZXQgeTEgPSByZWN0YW5nbGUxLnBvcy55IC0gcmVjdGFuZ2xlMS5kaW0uaGVpZ2h0IC8gMjtcclxuICAgIGxldCB4MiA9IHJlY3RhbmdsZTIucG9zLnggLSByZWN0YW5nbGUyLmRpbS5sZW5ndGggLyAyO1xyXG4gICAgbGV0IHkyID0gcmVjdGFuZ2xlMi5wb3MueSAtIHJlY3RhbmdsZTIuZGltLmhlaWdodCAvIDI7XHJcbiAgICBpZiAoeDEgPCB4MiArIHJlY3RhbmdsZTIuZGltLmxlbmd0aFxyXG4gICAgICAgICYmIHgxICsgcmVjdGFuZ2xlMS5kaW0ubGVuZ3RoID4geDJcclxuICAgICAgICAmJiB5MSA8IHkyICsgcmVjdGFuZ2xlMi5kaW0uaGVpZ2h0XHJcbiAgICAgICAgJiYgeTEgKyByZWN0YW5nbGUxLmRpbS5oZWlnaHQgPiB5Mikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHRlc3RDaGlsZHJlbihxdWFkKSB7XHJcbiAgICBsZXQgYm9vbCA9IHRydWU7XHJcbiAgICBmb3IgKGxldCBjaGlsZCBvZiBxdWFkLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgYm9vbCA9IHRlc3RDaGlsZHJlbihjaGlsZCk7XHJcbiAgICAgICAgbGV0IHJlY3RhbmdsZSA9IGNoaWxkLmFyZWE7XHJcbiAgICAgICAgaWYgKCFib29sKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmVjdGFuZ2xlLnBvcy54ICsgcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyA0ICYmIHJlY3RhbmdsZS5wb3MueSArIHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gNCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmVjdGFuZ2xlLnBvcy54IC0gcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyA0ICYmIHJlY3RhbmdsZS5wb3MueSArIHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gNCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmVjdGFuZ2xlLnBvcy54ICsgcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyA0ICYmIHJlY3RhbmdsZS5wb3MueSAtIHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gNCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmVjdGFuZ2xlLnBvcy54IC0gcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyA0ICYmIHJlY3RhbmdsZS5wb3MueSAtIHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gNCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYm9vbDtcclxufVxyXG4vL2NvbnNvbGUubG9nKHRlc3RDaGlsZHJlbihxdWFkKSlcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVhZHRyZWUuanMubWFwIiwiaW1wb3J0IHsgUXVhZFRyZWUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vZW5naW5lL3NyYy9zdHJ1Y3RzL1F1YWR0cmVlLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBRdWFkVHJlZVN0cmF0ZWd5IHtcclxuICAgIGNvbnN0cnVjdG9yKGdyYXBoaWNzRW5naW5lLCBzaXplKSB7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlZEVsZW1lbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5xdWFkdHJlZSA9IG5ldyBRdWFkVHJlZShzaXplKTtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyU3RyYXRlZ3koY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5xdWFkdHJlZS5pbnNlcnQoY29tcG9uZW50KTtcclxuICAgIH1cclxuICAgIGRlcmVnaXN0ZXJTdHJhdGVneShjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLnF1YWR0cmVlLnJlbW92ZShjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKHJlbmRlcmluZ0Fycikge1xyXG4gICAgICAgIGZvciAobGV0IGkgb2YgcmVuZGVyaW5nQXJyKSB7XHJcbiAgICAgICAgICAgIGxldCBxdWVyeSA9IGkuZ2V0UmVjdGFuZ2xlKCk7XHJcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IHRoaXMucXVhZHRyZWUucXVlcnkocXVlcnkpO1xyXG4gICAgICAgICAgICBpLnJlbmRlcihpdGVtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVhZFRyZWVSZW5kZXJpbmcuanMubWFwIiwiaW1wb3J0IHsgR1JBUEhJQ1NfVEFHIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzXCI7XHJcbmltcG9ydCB7IFF1YWRUcmVlU3RyYXRlZ3kgfSBmcm9tIFwiLi4vLi4vdHlwZXMvY29tcG9uZW50cy9ncmFwaGljcy9RdWFkVHJlZVJlbmRlcmluZy5qc1wiO1xyXG5leHBvcnQgY2xhc3MgR3JhcGhpY3NFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoZ3JhcGhpY3NDb25maWcsIGNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLnRhZyA9IEdSQVBISUNTX1RBRztcclxuICAgICAgICB0aGlzLnJlbmRlcmluZyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NDb25maWcgPSBncmFwaGljc0NvbmZpZztcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICB0aGlzLmNvbnRleHRJbmZvID0gY29udGV4dDtcclxuICAgICAgICBsZXQgc2l6ZSA9IHtcclxuICAgICAgICAgICAgcG9zOiB7XHJcbiAgICAgICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgICAgIHo6IDBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcm90OiAwLFxyXG4gICAgICAgICAgICBkaW06IHtcclxuICAgICAgICAgICAgICAgIGxlbmd0aDogdGhpcy5jb250ZXh0SW5mby5nZXRDYW52YXMoKS53aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5jb250ZXh0SW5mby5nZXRDYW52YXMoKS5oZWlnaHRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5yZW5kZXJTdHJhdGVneSA9IG5ldyBRdWFkVHJlZVN0cmF0ZWd5KHRoaXMsIHNpemUpO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXIoY29tcCwgaWQpIHtcclxuICAgICAgICBpZiAoY29tcC5jb21wb25lbnRJZCA9PSB1bmRlZmluZWQgfHwgY29tcC5jb21wb25lbnRJZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVnaXN0ZXJpbmcgdW5kZWZpbmVkIGlkIGluIEdncmFwaGljc1wiKTtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGlkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbXAuY29udGV4dCA9IHRoaXMuY29udGV4dEluZm87XHJcbiAgICAgICAgICAgIGlmIChjb21wLnJlbmRlcmVkID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyaW5nLnB1c2goY29tcCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlB1c2hpbmcgdG8gcmVuZGVyaW5nXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbXAuaW5pdGlhbGl6ZSh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChpZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdyYXBoaWNzIFJlZ2lzdGVyaW5nIGlkXCIgKyBjb21wLmNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICBjb21wLmNvbnRleHQgPSB0aGlzLmNvbnRleHRJbmZvO1xyXG4gICAgICAgICAgICBpZiAoY29tcC5yZW5kZXJlZCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmluZy5wdXNoKGNvbXApO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQdXNoaW5nIHRvIHJlbmRlcmluZ1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wLnJlbmRlcmVkID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJTdHJhdGVneS5yZWdpc3RlclN0cmF0ZWd5KGNvbXApO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVnaXN0ZXJlZCBTdHJhdGVneVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21wLmluaXRpYWxpemUodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoY29tcC5jb21wb25lbnRJZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdW5yZWdpc3RlcihpZCkge1xyXG4gICAgICAgIGxldCBkZWxldGVkID0gdGhpcy5jb21wb25lbnRzLmdldChpZCk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlZC5hbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZWQucHVzaChkZWxldGVkKTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyU3RyYXRlZ3kuZGVyZWdpc3RlclN0cmF0ZWd5KGRlbGV0ZWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkZWxldGVkLmVudGl0eSArIFwiIHMgQ29tcG9uZW50IHdpdGggaWQgXCIgKyBkZWxldGVkLmNvbXBvbmVudElkICsgXCJpcyBwb3BwZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuY29udGV4dEluZm8uY3R4O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiR3JhcGhpY3MgZW5naW5lIHJ1bm5pbmdcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHcmFwaGljcyBDb21wb25lbnRzOiBcIiArIHRoaXMuY29tcG9uZW50cy5zaXplKTtcclxuICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBsZXQgY29tcCA9IGNbMV07XHJcbiAgICAgICAgICAgIGNvbXAudXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW5kZXJpbmcgQ29tcG9uZW50czogXCIgKyB0aGlzLnJlbmRlcmluZy5sZW5ndGgpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyU3RyYXRlZ3kucmVuZGVyKHRoaXMucmVuZGVyaW5nKTtcclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmRlbGV0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29tcD8uY29tcG9uZW50SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldFNjZW5lKHNjZW5lKSB7XHJcbiAgICAgICAgbGV0IGdldCA9IHNjZW5lLmVuZ2luZUNvbXBvbmVudHMuZ2V0KHRoaXMudGFnKTtcclxuICAgICAgICBpZiAoZ2V0KSB7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJEb21FbGVtZW50cygpIHtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljRW5naW5lLmpzLm1hcCIsImltcG9ydCB7IFBIWVNJQ1NfVEFHIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBQaHlzaWNzRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudGFnID0gUEhZU0lDU19UQUc7XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXIoY29tcCwgaWQpIHtcclxuICAgICAgICBpZiAoY29tcC5jb21wb25lbnRJZCA9PSB1bmRlZmluZWQgfHwgY29tcC5jb21wb25lbnRJZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChpZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoY29tcC5jb21wb25lbnRJZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdW5yZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgbGV0IGRlbGV0ZWQgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KGNvbXApO1xyXG4gICAgICAgIGlmIChkZWxldGVkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZWQuYWxpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVkLnB1c2goZGVsZXRlZCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRlbGV0ZWQuZW50aXR5ICsgXCIgcyBDb21wb25lbnQgd2l0aCBpZCBcIiArIGRlbGV0ZWQuY29tcG9uZW50SWQgKyBcImlzIHBvcHBlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBoeXNpY3MgZW5naW5lIHJ1bm5pbmdcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQaHlzaWNzIENvbXBvbmVudHM6IFwiICsgdGhpcy5jb21wb25lbnRzLnNpemUpO1xyXG4gICAgICAgIGZvciAobGV0IGNvbXAgb2YgdGhpcy5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbXBbMV0udXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuZGVsZXRlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21wID0gdGhpcy5kZWxldGVkLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZGVsZXRlKGNvbXA/LmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGh5c2ljc0VuZ2luZS5qcy5tYXAiLCJleHBvcnQgdmFyIEVuZ2luZVR5cGU7XHJcbihmdW5jdGlvbiAoRW5naW5lVHlwZSkge1xyXG4gICAgRW5naW5lVHlwZVtFbmdpbmVUeXBlW1wiU09DS0VUQ0xJRU5UXCJdID0gMF0gPSBcIlNPQ0tFVENMSUVOVFwiO1xyXG4gICAgRW5naW5lVHlwZVtFbmdpbmVUeXBlW1wiU09DS0VUU0VSVkVSXCJdID0gMV0gPSBcIlNPQ0tFVFNFUlZFUlwiO1xyXG4gICAgRW5naW5lVHlwZVtFbmdpbmVUeXBlW1wiQ0xJRU5UT05MWVwiXSA9IDJdID0gXCJDTElFTlRPTkxZXCI7XHJcbiAgICBFbmdpbmVUeXBlW0VuZ2luZVR5cGVbXCJCT1RIXCJdID0gM10gPSBcIkJPVEhcIjtcclxufSkoRW5naW5lVHlwZSB8fCAoRW5naW5lVHlwZSA9IHt9KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuZ2luZVR5cGUuanMubWFwIiwiaW1wb3J0IHsgRW5naW5lVHlwZSB9IGZyb20gXCIuLi8uLi9jb25zdGFudHMvZW5naW5lVHlwZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgU2NyaXB0aW5nRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZVR5cGUpIHtcclxuICAgICAgICB0aGlzLnRhZyA9IFwiU0NSSVBUSU5HXCI7XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVHlwZSA9IGVuZ2luZVR5cGU7XHJcbiAgICB9XHJcbiAgICByZWdpc3Rlcihjb21wLCBpZCkge1xyXG4gICAgICAgIGlmIChjb21wLmNvbXBvbmVudElkID09IHVuZGVmaW5lZCB8fCBjb21wLmNvbXBvbmVudElkID09IG51bGwpIHtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGlkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoaWQsIGNvbXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGNvbXAuY29tcG9uZW50SWQ7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChjb21wLmNvbXBvbmVudElkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1bnJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBsZXQgZGVsZXRlZCA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlZC5hbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZWQucHVzaChkZWxldGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKGNvbXApIHtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2NyaXB0aW5nIGVuZ2luZSBydW5uaW5nXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2NyaXB0aW5nIENvbXBvbmVudHM6IFwiICsgdGhpcy5jb21wb25lbnRzLnNpemUpO1xyXG4gICAgICAgIGZvciAobGV0IGNvbXAgb2YgdGhpcy5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGlmIChjb21wWzFdLmVuZ2luZVR5cGUgPT0gdGhpcy5lbmdpbmVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wWzFdLnVwZGF0ZShkdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29tcFsxXS5lbmdpbmVUeXBlID0gRW5naW5lVHlwZS5CT1RIKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wWzFdLnVwZGF0ZShkdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuZGVsZXRlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21wID0gdGhpcy5kZWxldGVkLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZGVsZXRlKGNvbXA/LmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NyaXB0aW5nRW5naW5lLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBDb250ZXh0SW5mbyB7XHJcbiAgICBjb25zdHJ1Y3RvcihncmFwaGljc0NvbmZpZykge1xyXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NDb25maWcgPSBncmFwaGljc0NvbmZpZztcclxuICAgICAgICB0aGlzLmdyYXBoaWNzQ29uZmlnID0gZ3JhcGhpY3NDb25maWc7XHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICB0aGlzLnNldHVwKCk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSB0aGlzLmdlbmVyYXRlQ2FudmFzKCk7XHJcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5kaXYgPSB0aGlzLmdlbmVyYXRlRGl2KHRoaXMuZ3JhcGhpY3NDb25maWcucGFyZW50KTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlRGl2KHBhcmVudCkge1xyXG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXYuaWQgPSBwYXJlbnQ7XHJcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBcIjBcIjtcclxuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgICAgIGRpdi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0ZXN0XCIpO1xyXG4gICAgICAgIHJldHVybiBkaXY7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZUNhbnZhcygpIHtcclxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkNBTlZBU1wiKTtcclxuICAgICAgICBjYW52YXMuaWQgPSB0aGlzLmdyYXBoaWNzQ29uZmlnLmNhbnZhc0lEO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGFyc2VTdHlsZSh0aGlzLmdyYXBoaWNzQ29uZmlnLnN0eWxlKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJCZWZvcmVcIik7XHJcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aGlzLnBhcnNlU3R5bGUodGhpcy5ncmFwaGljc0NvbmZpZy5zdHlsZSkpO1xyXG4gICAgICAgIHJldHVybiBjYW52YXM7XHJcbiAgICB9XHJcbiAgICBnZXRDdHgoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzKCk7XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICB9XHJcbiAgICBnZXRDYW52YXMoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZ3JhcGhpY3NDb25maWcuY2FudmFzSUQpO1xyXG4gICAgICAgIGlmIChjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJlbmdpbmVDYW52YXMgc2hvdWxkIGJlIGEgcmVzZXJ2ZWQgaWQgZm9yIERPTSBDb21wb25lbnRzXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBhcnNlU3R5bGUoc3R5bGVPYmplY3QpIHtcclxuICAgICAgICBsZXQgY3NzQXJyYXkgPSBPYmplY3QuZW50cmllcyhzdHlsZU9iamVjdCkubWFwKChbaywgdl0pID0+IGsgKyBcIjpcIiArIHYgKyBcIjtcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5ncmFwaGljc0NvbmZpZy5wYXJlbnQpO1xyXG4gICAgICAgIHJldHVybiBjc3NBcnJheS5qb2luKFwiIFwiKTtcclxuICAgIH1cclxuICAgIHNldHVwKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzQ29uZmlnLmJhY2tncm91bmQpIHtcclxuICAgICAgICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IHRoaXMuZ3JhcGhpY3NDb25maWcuYmFja2dyb3VuZDtcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLnpJbmRleCA9IFwiLTFcIjtcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0LmpzLm1hcCIsImltcG9ydCB7IEVuZ2luZVR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIFNjZW5lTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmVDb25maWcsIHNjZW5lcyA9IFtdLCBzeXN0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pZCA9IDA7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IDA7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW1zID0gc3lzdGVtcztcclxuICAgICAgICB0aGlzLnN5c3RlbVRhZyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmVuZ2luZUNvbmZpZyA9IGVuZ2luZUNvbmZpZztcclxuICAgICAgICBsZXQgZW5naW5lVHlwZSA9IGVuZ2luZUNvbmZpZy5lbmdpbmVUeXBlO1xyXG4gICAgICAgIGlmIChlbmdpbmVUeXBlID09IEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5UKSB7XHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5FbmdpbmVUeXBlID0gRW5naW5lVHlwZS5TT0NLRVRDTElFTlQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5TT0NLRVRTRVJWRVIpIHtcclxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLkVuZ2luZVR5cGUgPSBFbmdpbmVUeXBlLlNPQ0tFVFNFUlZFUjtcclxuICAgICAgICAgICAgLy9zeXN0ZW1zLnB1c2gobmV3IFNvY2tldFNlcnZlck1hbmFnZXIodGhpcykpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBTY2VuZU1hbmFnZXIuRW5naW5lVHlwZSA9IEVuZ2luZVR5cGUuQ0xJRU5UT05MWTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2VuZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IG5ld0NvbmZpZyA9IHNjZW5lc1tpXTtcclxuICAgICAgICAgICAgbGV0IG5ld1NjZW5lID0gbmV3Q29uZmlnO1xyXG4gICAgICAgICAgICBuZXdTY2VuZS5zY2VuZU1hbmFnZXIgPSB0aGlzO1xyXG4gICAgICAgICAgICBuZXdTY2VuZS5lbmdpbmVDb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkluIFNjZW5lIE1hbmFnZXJcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVzLnNldChuZXdTY2VuZS5uYW1lLCBuZXdTY2VuZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U2NlbmUoc2NlbmVzWzBdLm5hbWUpO1xyXG4gICAgICAgIHRoaXMuc2NlbmVDb25maWdzID0gc2NlbmVzO1xyXG4gICAgICAgIFNjZW5lTWFuYWdlci5jdXJyZW50SWR4ID0gdGhpcy5zY2VuZUNvbmZpZ3NbMF0ubmFtZTtcclxuICAgICAgICB0aGlzLnN5c3RlbXMgPSBzeXN0ZW1zO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoU2NlbmVzKGtleSkge1xyXG4gICAgICAgIGxldCBzY2VuZSA9IHRoaXMuc2NlbmVzLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChzY2VuZSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzeXMgb2YgdGhpcy5zeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcCA9IHNjZW5lLmVuZ2luZUNvbXBvbmVudHMuZ2V0KHN5cy50YWcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXApIHtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiZXJyb3IgaW4gc3RhcnQgbWV0aG9kXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0Q3VycmVudFNjZW5lKCkge1xyXG4gICAgICAgIGxldCBjdXJyID0gdGhpcy5zY2VuZXMuZ2V0KFNjZW5lTWFuYWdlci5jdXJyZW50SWR4KTtcclxuICAgICAgICBpZiAoY3Vycikge1xyXG4gICAgICAgICAgICByZXR1cm4gY3VycjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ2FudCBnZXQgY3VycmVudCBzY2VuZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRTY2VuZShpZHgpIHtcclxuICAgICAgICBsZXQgc2NlbmUgPSB0aGlzLnNjZW5lcy5nZXQoaWR4KTtcclxuICAgICAgICBpZiAoc2NlbmUpIHtcclxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLmN1cnJTY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgICAgICBTY2VuZU1hbmFnZXIuY3VycmVudElkeCA9IGlkeDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRVbmlxdWVJZCgpIHtcclxuICAgICAgICBpZiAoU2NlbmVNYW5hZ2VyLkVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5TT0NLRVRDTElFTlQpIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gdGhpcy5pZCAtIDE7XHJcbiAgICAgICAgICAgIHRoaXMuaWQtLTtcclxuICAgICAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gdGhpcy5pZCArIDE7XHJcbiAgICAgICAgICAgIHRoaXMuaWQrKztcclxuICAgICAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldFVuaXF1ZUNvbXBvbmVudElkKCkge1xyXG4gICAgICAgIGlmIChTY2VuZU1hbmFnZXIuRW5naW5lVHlwZSA9PSBFbmdpbmVUeXBlLlNPQ0tFVENMSUVOVCkge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSB0aGlzLmNvbXBvbmVudElkIC0gMTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRJZC0tO1xyXG4gICAgICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSB0aGlzLmNvbXBvbmVudElkICsgMTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRJZCsrO1xyXG4gICAgICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblNjZW5lTWFuYWdlci5FbmdpbmVUeXBlID0gRW5naW5lVHlwZS5DTElFTlRPTkxZO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2VuZU1hbmFnZXIuanMubWFwIiwiZXhwb3J0IGNsYXNzIE5haXZlQ29sbGlzaW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHN5c3RlbSkge1xyXG4gICAgICAgIHRoaXMuZGVsZXRlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3lzdGVtID0gc3lzdGVtO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50KSB7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBmb3IgKHZhciBba2V5MSwgY29sMV0gb2YgdGhpcy5zeXN0ZW0uY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBpZiAoY29sMS52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBba2V5MiwgY29sMl0gb2YgdGhpcy5zeXN0ZW0uY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wyLnZpc2libGUgJiYgY29sMS5jaGVja0NvbGxpc2lvbihjb2wyKSAmJiBjb2wxICE9IGNvbDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sMS5jb2xsaWRlcyhjb2wyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNvbDIuYWxpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVkLnB1c2goY29sMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBTcGF0aWFsSGFzaEdyaWRTdHJhdGVneSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzeXN0ZW0pIHtcclxuICAgICAgICB0aGlzLnN5c3RlbSA9IHN5c3RlbTtcclxuICAgICAgICB0aGlzLmRlbGV0ZWQgPSBbXTtcclxuICAgICAgICB0aGlzLnN5c3RlbS5jb25maWcuYm91bmRzO1xyXG4gICAgICAgIHRoaXMuZ3JpZCA9IG5ldyBTcGF0aWFsSGFzaEdyaWQodGhpcy5zeXN0ZW0uY29uZmlnLmJvdW5kcywgNSwgNSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFNwYXRpYWxIYXNoR3JpZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihib3VuZHMgPSB7IHRvcFg6IDAsIHRvcFk6IDAsIGJvdHRvbVg6IDEwMCwgYm90dG9tWTogMTAwIH0sIHhDZWxscywgeUNlbGxzKSB7XHJcbiAgICAgICAgdGhpcy5ncmlkTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMueENlbGwgPSB4Q2VsbHM7XHJcbiAgICAgICAgdGhpcy55Q2VsbCA9IHlDZWxscztcclxuICAgICAgICB0aGlzLmJvdW5kcyA9IGJvdW5kcztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhDZWxscyAqIHlDZWxsczsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JpZE1hcC5zZXQoaSwgW10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbW92ZShjb2xsaWRlcikge1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGNvbGxpZGVycykge1xyXG4gICAgICAgIHRoaXMuZ3JpZE1hcC5jbGVhcigpO1xyXG4gICAgICAgIGZvciAobGV0IGNvbGxpZGVyIG9mIGNvbGxpZGVycykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZChjb2xsaWRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkKGNvbGxpZGVyKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IGNvbGxpZGVyLmJvdW5kaW5nQm94LnBvcy54O1xyXG4gICAgICAgIGNvbnN0IHkgPSBjb2xsaWRlci5ib3VuZGluZ0JveC5wb3MueTtcclxuICAgICAgICBjb25zdCBsZW4gPSBjb2xsaWRlci5ib3VuZGluZ0JveC5kaW0ubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNvbGxpZGVyLmJvdW5kaW5nQm94LmRpbS5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IGNlbGxJbmRpY2VzID0gdGhpcy5nZXRDZWxsSW5kZXgoY29sbGlkZXIpO1xyXG4gICAgICAgIGZvciAobGV0IGkgb2YgY2VsbEluZGljZXMpIHtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRDZWxsSW5kZXgoY29sbGlkZXIpIHtcclxuICAgICAgICByZXR1cm4gWzEsIDJdO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbGxpc2lvblN0cmF0ZWd5LmpzLm1hcCIsImltcG9ydCB7IE5haXZlQ29sbGlzaW9uIH0gZnJvbSBcIi4uLy4uL3R5cGVzL2NvbXBvbmVudHMvY29sbGlzaW9uL0NvbGxpc2lvblN0cmF0ZWd5LmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBDb2xsaXNpb25TeXN0ZW0ge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy50YWcgPSBcIkNPTExJU0lPTlwiO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgICAgICB0aGlzLmRlbGV0ZWQgPSBbXTtcclxuICAgICAgICBpZiAoY29uZmlnLmJvdW5kcykge1xyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcyA9IGNvbmZpZy5ib3VuZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uU3RyYXRlZ3kgPSBuZXcgTmFpdmVDb2xsaXNpb24odGhpcyk7XHJcbiAgICB9XHJcbiAgICByZWdpc3Rlcihjb21wLCBpZCkge1xyXG4gICAgICAgIGlmIChjb21wLmNvbXBvbmVudElkID09IHVuZGVmaW5lZCB8fCBjb21wLmNvbXBvbmVudElkID09IG51bGwpIHtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGlkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoaWQsIGNvbXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGNvbXAuY29tcG9uZW50SWQsIGNvbXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbGxpc2lvblN0cmF0ZWd5LnJlZ2lzdGVyQ29tcG9uZW50KGNvbXApO1xyXG4gICAgfVxyXG4gICAgdW5yZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgbGV0IGRlbGV0ZWQgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KGNvbXApO1xyXG4gICAgICAgIGlmIChkZWxldGVkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZWQuYWxpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVkLnB1c2goZGVsZXRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb2xsaXNpb24gU3lzdGVtIFJ1bm5pbmdcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb2xsaXNpb24gQ29tcG9uZW50czogXCIgKyB0aGlzLmNvbXBvbmVudHMuc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5jb2xsaXNpb25TdHJhdGVneS51cGRhdGUoZHQpO1xyXG4gICAgICAgIHdoaWxlICh0aGlzLmRlbGV0ZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgcG9wcGVkID0gdGhpcy5kZWxldGVkLnBvcCgpO1xyXG4gICAgICAgICAgICBpZiAocG9wcGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvbXBvbmVudChwb3BwZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGVsZXRlQ29tcG9uZW50KGNvbCkge1xyXG4gICAgICAgIGlmIChjb2wuY29tcG9uZW50SWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmRlbGV0ZShjb2wuY29tcG9uZW50SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xsaXNpb25TeXN0ZW0uanMubWFwIiwiaW1wb3J0IHsgRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4uL3N5c3RlbXMvZXZlbnRzL0V2ZW50SGFuZGxlci5qc1wiO1xyXG5pbXBvcnQgeyBHcmFwaGljc0VuZ2luZSB9IGZyb20gXCIuLi9zeXN0ZW1zL2dyYXBoaWNzL0dyYXBoaWNFbmdpbmUuanNcIjtcclxuaW1wb3J0IHsgUGh5c2ljc0VuZ2luZSB9IGZyb20gXCIuLi9zeXN0ZW1zL3BoeXNpY3MvUGh5c2ljc0VuZ2luZS5qc1wiO1xyXG5pbXBvcnQgeyBTY3JpcHRpbmdFbmdpbmUgfSBmcm9tIFwiLi4vc3lzdGVtcy9zY3JpcHRpbmcvU2NyaXB0aW5nRW5naW5lLmpzXCI7XHJcbmltcG9ydCB7IENvbnRleHRJbmZvIH0gZnJvbSBcIi4vY29udGV4dC5qc1wiO1xyXG5pbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuaW1wb3J0IHsgQ29sbGlzaW9uU3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbXMvQ29sbGlzaW9uL0NvbGxpc2lvblN5c3RlbS5qc1wiO1xyXG5pbXBvcnQgeyBFbmdpbmVUeXBlIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9lbmdpbmVUeXBlLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZUNvbmZpZyA9IHtcclxuICAgICAgICBlbmdpbmVUeXBlOiBFbmdpbmVUeXBlLkNMSUVOVE9OTFksXHJcbiAgICB9LCBzeXN0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXNJRCA9IFwiZW5naW5lQ2FudmFzXCI7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW1zID0gW107XHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSAwbjtcclxuICAgICAgICB0aGlzLmVuZ2luZUNvbmZpZyA9IGdhbWVDb25maWc7XHJcbiAgICAgICAgaWYgKGdhbWVDb25maWcuZ3JhcGhpY3NDb25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0SW5mbyA9IG5ldyBDb250ZXh0SW5mbyhnYW1lQ29uZmlnLmdyYXBoaWNzQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lQ29uZmlnLmV2ZW50Q29uZmlnICYmIHRoaXMuY29udGV4dEluZm8pIHtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2gobmV3IEV2ZW50SGFuZGxlcih0aGlzLmVuZ2luZUNvbmZpZy5ldmVudENvbmZpZykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVDb25maWcucGh5c2ljc0NvbmZpZykge1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbXMucHVzaChuZXcgUGh5c2ljc0VuZ2luZSh0aGlzLmVuZ2luZUNvbmZpZy5waHlzaWNzQ29uZmlnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZUNvbmZpZy5zY3JpcHRpbmdDb25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2gobmV3IFNjcmlwdGluZ0VuZ2luZSh0aGlzLmVuZ2luZUNvbmZpZy5lbmdpbmVUeXBlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHN5cyBvZiBzeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN5c3RlbXMucHVzaChzeXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZUNvbmZpZy5jb2xsaXNpb25Db25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2gobmV3IENvbGxpc2lvblN5c3RlbSh0aGlzLmVuZ2luZUNvbmZpZy5jb2xsaXNpb25Db25maWcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lQ29uZmlnLmdyYXBoaWNzQ29uZmlnICYmIHRoaXMuY29udGV4dEluZm8pIHtcclxuICAgICAgICAgICAgdGhpcy5ncmFwaGljcyA9IG5ldyBHcmFwaGljc0VuZ2luZSh0aGlzLmVuZ2luZUNvbmZpZy5ncmFwaGljc0NvbmZpZywgdGhpcy5jb250ZXh0SW5mbyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHRoaXMuZ3JhcGhpY3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3lzdGVtcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBzeXMgb2Ygc3lzdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2goc3lzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjZW5lTWFuYWdlciA9IG5ldyBTY2VuZU1hbmFnZXIodGhpcy5lbmdpbmVDb25maWcsIHRoaXMuZW5naW5lQ29uZmlnLnNjZW5lQ29uZmlnLCB0aGlzLnN5c3RlbXMpO1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICpcclxuICAgICAgICAgXHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJ1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCJcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gXCIxMDAlXCJcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiXHJcbiAgICAgICAgdGhpcy5zZXR1cCgpXHJcbiAgICAgICAgdGhpcy5kaXYgPSB0aGlzLmdlbmVyYXRlRGl2KHRoaXMuZW5naW5lQ29uZmlnLnBhcmVudCkgO1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlXHJcbiAgICAgICAgKi9cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgcGFyc2VTdHlsZShzdHlsZU9iamVjdDogT2JqZWN0KTogIHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGNzc0FycmF5OiBzdHJpbmdbXSA9IE9iamVjdC5lbnRyaWVzKHN0eWxlT2JqZWN0KS5tYXAoKFtrLHZdKSA9PiBrICsgXCI6XCIgKyB2ICsgXCI7XCIpXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5lbmdpbmVDb25maWcucGFyZW50KVxyXG4gICAgICAgIHJldHVybiBjc3NBcnJheS5qb2luKFwiIFwiKVxyXG4gICAgfVxyXG4gICAgKi9cclxuICAgIC8qKlxyXG4gICAgZ2VuZXJhdGVEaXYocGFyZW50OiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgZGl2OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgZGl2LmlkID0gcGFyZW50XHJcbiAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXHJcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiXHJcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gXCIxMDAlXCJcclxuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gXCIxXCJcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCIvaW1hZ2VzL3Rlc3QuanBnXCJcclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGhpcy5nZW5lcmF0ZUNhbnZhcygpKVxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcInRlc3RcIilcclxuICAgICAgICByZXR1cm4gZGl2XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZUNhbnZhcygpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJDQU5WQVNcIilcclxuICAgICAgICBjYW52YXMuaWQgPSB0aGlzLmNhbnZhc0lEXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5wYXJzZVN0eWxlKHRoaXMuZW5naW5lQ29uZmlnLnN0eWxlKSlcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkJlZm9yZVwiKVxyXG4gICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgdGhpcy5wYXJzZVN0eWxlKHRoaXMuZW5naW5lQ29uZmlnLnN0eWxlKSlcclxuICAgICAgICByZXR1cm4gY2FudmFzXHJcbiAgICB9XHJcbiAgICBnZXRDdHgoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzKClcclxuICAgICAgICByZXR1cm4gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKVxyXG4gICAgfVxyXG4gICAgZ2V0Q2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHtcclxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jYW52YXNJRClcclxuICAgICAgICBpZiAoY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhbnZhc1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiZW5naW5lQ2FudmFzIHNob3VsZCBiZSBhIHJlc2VydmVkIGlkIGZvciBET00gQ29tcG9uZW50c1wiKVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgICpcclxuICAgICBcclxuICAgIHNldHVwKCkge1xyXG4gICAgICAgIGxldCBjb25maWcgPSB0aGlzLmVuZ2luZUNvbmZpZ1xyXG4gICAgICAgIGlmICh0cnVlKSB7XHJcbiAgICAgICAgICAgIGxldCBpbWFnZSA9IG5ldyBJbWFnZSgpXHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IFwiL2ltYWdlcy90ZXN0LmpwZ1wiXHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLnBvc2l0aW9uID1cImFic29sdXRlXCJcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUuekluZGV4ID0gXCItMVwiXHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gXCIxMDAlXCJcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUuaGVpZ2h0PSBcIjEwMCVcIlxyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZSlcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgKi9cclxuICAgIHN0YXJ0KGR0KSB7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlN0YXJ0bmcgRW5naW4gXCIpO1xyXG4gICAgICAgIGxldCBjdXJyID0gdGhpcy5zY2VuZU1hbmFnZXIuZ2V0Q3VycmVudFNjZW5lKCk7XHJcbiAgICAgICAgZm9yIChsZXQgc3lzIG9mIHRoaXMuc3lzdGVtcykge1xyXG4gICAgICAgICAgICBsZXQgY29tcCA9IHRoaXMuc2NlbmVNYW5hZ2VyLmdldEN1cnJlbnRTY2VuZSgpLmVuZ2luZUNvbXBvbmVudHMuc2V0KHN5cy50YWcsIHN5cy5jb21wb25lbnRzKTtcclxuICAgICAgICAgICAgY3Vyci5lbmdpbmVDb21wb25lbnRzLnNldChzeXMudGFnLCBzeXMuY29tcG9uZW50cyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVNYW5hZ2VyLnN5c3RlbVRhZy5zZXQoc3lzLnRhZywgc3lzKTtcclxuICAgICAgICAgICAgaWYgKGNvbXApIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiZXJyb3IgaW4gc3RhcnQgbWV0aG9kXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjb25maWcgPSBjdXJyLmdldFNjZW5lQ29uZmlnKCk7XHJcbiAgICAgICAgbGV0IGVudGl0aWVzID0gY29uZmlnLmVudGl0aWVzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudGl0aWVzOyBpKyspIHtcclxuICAgICAgICAgICAgY3Vyci5hZGRFbnRpdHkoY3VyciwgY29uZmlnLmVudGl0aWVzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lQ29uZmlnLmVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5DTElFTlRPTkxZIHx8IHRoaXMuZW5naW5lQ29uZmlnLmVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5TT0NLRVRDTElFTlQpIHtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgodGltZXN0YW1wKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFUaW1lID0gdGltZXN0YW1wIC0gRW5naW5lLnRpbWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShkZWx0YVRpbWUpO1xyXG4gICAgICAgICAgICAgICAgRW5naW5lLnRpbWUgPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcclxuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyVXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGltZW91dCBydW5vdXRcIik7XHJcbiAgICAgICAgICAgIH0sIGR0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBmb3IgKGxldCBzeXMgb2YgdGhpcy5zeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIHN5cy51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhkdCk7XHJcbiAgICAgICAgbGV0IGl0ZW0gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aW1lc3RhbXApID0+IHtcclxuICAgICAgICAgICAgdGltZXN0YW1wID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFUaW1lID0gdGltZXN0YW1wIC0gRW5naW5lLnRpbWU7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGRlbHRhVGltZSk7XHJcbiAgICAgICAgICAgIEVuZ2luZS50aW1lID0gdGltZXN0YW1wO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2VydmVyVXBkYXRlKGR0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGluZ1wiKTtcclxuICAgICAgICBsZXQgY3VyclRpbWUgPSBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcclxuICAgICAgICBsZXQgcmVhbERlbHRhID0gKGN1cnJUaW1lIC0gdGhpcy5zdGFydFRpbWUpIC8gMTAwMDAwMG47XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVhbERlbHRhKTtcclxuICAgICAgICBmb3IgKGxldCBzeXMgb2YgdGhpcy5zeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIHN5cy51cGRhdGUoTnVtYmVyKHJlYWxEZWx0YSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBFbmdpbmUudGltZSArPSBOdW1iZXIocmVhbERlbHRhKTtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IGN1cnJUaW1lO1xyXG4gICAgfVxyXG59XHJcbkVuZ2luZS50aW1lID0gMDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5naW5lLmpzLm1hcCIsIi8qKlxyXG4gKiBEZXNjcmliZXMgdGhlIENTUyBwcm9wZXJ0aWVzIG9mIHRoZSBjYW52YXMgZWxlbWVudFxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBoeXNpY3NDb25maWcge1xyXG59XHJcbmV4cG9ydCBjbGFzcyBHcmFwaGljc0NvbmZpZyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQgPSBcImVuZ2luZURpdlwiLCBjYW52YXNJRCA9IFwiZW5naW5lQ2FudmFzXCIsIHN0eWxlID0ge30sIGJhY2tncm91bmQsIHdpZHRoID0gMTAwMCwgaGVpZ2h0ID0gNTAwKSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIHRoaXMuY2FudmFzSUQgPSBjYW52YXNJRDtcclxuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZDtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgU2NlbmVDb25maWcge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXRpZXMgPSBbXSkge1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSBlbnRpdGllcztcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgRXZlbnRDb25maWcge1xyXG4gICAgY29uc3RydWN0b3Ioa2V5Ym9hcmQsIG1vdXNlKSB7XHJcbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IGtleWJvYXJkO1xyXG4gICAgICAgIHRoaXMubW91c2UgPSBtb3VzZTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uQ29uZmlnIHtcclxufVxyXG5leHBvcnQgY2xhc3MgU2NyaXB0aW5nQ29uZmlnIHtcclxufVxyXG5leHBvcnQgY2xhc3MgU29ja2V0U2VydmVyQ29uZmlnIHtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwIiwiZXhwb3J0IGNsYXNzIFRyYW5zZm9ybSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHksIHBvcyA9IHsgeDogMCwgeTogMCwgejogMCB9LCB2ZWwgPSB7IHg6IDAsIHk6IDAsIHo6IDAgfSwgYWNjZWwgPSB7IHg6IDAsIHk6IDAsIHo6IDAgfSkge1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIlBIWVNJQ1NcIjtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLnBvcyA9IHBvcztcclxuICAgICAgICB0aGlzLnZlbCA9IHZlbDtcclxuICAgICAgICB0aGlzLmFjY2VsID0gYWNjZWw7XHJcbiAgICB9XHJcbiAgICBjb3B5KHRyYW5zZm9ybSkge1xyXG4gICAgICAgIHRoaXMucG9zLnggPSB0cmFuc2Zvcm0ucG9zLng7XHJcbiAgICAgICAgdGhpcy5wb3MueSA9IHRyYW5zZm9ybS5wb3MueTtcclxuICAgICAgICB0aGlzLnBvcy56ID0gdHJhbnNmb3JtLnBvcy56O1xyXG4gICAgICAgIHRoaXMudmVsLnggPSB0cmFuc2Zvcm0udmVsLng7XHJcbiAgICAgICAgdGhpcy52ZWwueSA9IHRyYW5zZm9ybS52ZWwueTtcclxuICAgICAgICB0aGlzLnZlbC56ID0gdHJhbnNmb3JtLnZlbC56O1xyXG4gICAgICAgIHRoaXMuYWNjZWwueCA9IHRyYW5zZm9ybS5hY2NlbC54O1xyXG4gICAgICAgIHRoaXMuYWNjZWwueSA9IHRyYW5zZm9ybS5hY2NlbC55O1xyXG4gICAgICAgIHRoaXMuYWNjZWwueiA9IHRyYW5zZm9ybS5hY2NlbC56O1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gdHJhbnNmb3JtLmVudGl0eTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudElkID0gdHJhbnNmb3JtLmNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRyYW5zZm9ybS52aXNpYmxlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cmFuc2Zvcm0uYWxpdmU7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBvc2l0aW9uIGlzOiBcIiArIHRoaXMucG9zLnggKyBcIiBhbmQgXCIgKyB0aGlzLnBvcy55KTtcclxuICAgICAgICB0aGlzLnZlbC54ID0gdGhpcy52ZWwueCArIHRoaXMuYWNjZWwueCAqIGR0O1xyXG4gICAgICAgIHRoaXMudmVsLnkgPSB0aGlzLnZlbC55ICsgdGhpcy5hY2NlbC55ICogZHQ7XHJcbiAgICAgICAgdGhpcy52ZWwueiA9IHRoaXMudmVsLnogKyB0aGlzLmFjY2VsLnogKiBkdDtcclxuICAgICAgICB0aGlzLnBvcy54ID0gdGhpcy5wb3MueCArIHRoaXMudmVsLnggKiBkdDtcclxuICAgICAgICB0aGlzLnBvcy55ID0gdGhpcy5wb3MueSArIHRoaXMudmVsLnkgKiBkdDtcclxuICAgICAgICB0aGlzLnBvcy56ID0gdGhpcy5wb3MueiArIHRoaXMudmVsLnogKiBkdDtcclxuICAgIH1cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwb3M6IHRoaXMucG9zLFxyXG4gICAgICAgICAgICB2ZWw6IHRoaXMudmVsLFxyXG4gICAgICAgICAgICBhY2NlbDogdGhpcy5hY2NlbCxcclxuICAgICAgICAgICAgZW50aXR5OiB0aGlzLmVudGl0eSxcclxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IHRoaXMuY29tcG9uZW50SWQsXHJcbiAgICAgICAgICAgIHZpc2libGU6IHRoaXMudmlzaWJsZSxcclxuICAgICAgICAgICAgYWxpdmU6IHRoaXMuYWxpdmUsXHJcbiAgICAgICAgICAgIGVuZ2luZVRhZzogXCJQSFlTSUNTXCJcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zZm9ybS5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcmVjdGFuZ2xlQ29weShyZWNlaXZlciwgc2VuZGVyKSB7XHJcbiAgICByZWNlaXZlci5kaW0uaGVpZ2h0ID0gc2VuZGVyLmRpbS5oZWlnaHQ7XHJcbiAgICByZWNlaXZlci5kaW0ubGVuZ3RoID0gc2VuZGVyLmRpbS5sZW5ndGg7XHJcbiAgICByZWNlaXZlci5wb3MueCA9IHNlbmRlci5wb3MueDtcclxuICAgIHJlY2VpdmVyLnBvcy55ID0gc2VuZGVyLnBvcy55O1xyXG4gICAgcmVjZWl2ZXIucG9zLnogPSBzZW5kZXIucG9zLno7XHJcbiAgICByZWNlaXZlci5yb3QgPSBzZW5kZXIucm90O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BYKHJlY3RhbmdsZSkge1xyXG4gICAgcmV0dXJuIHJlY3RhbmdsZS5wb3MueCAtIHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gMjtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wWShyZWN0YW5nbGUpIHtcclxuICAgIHJldHVybiByZWN0YW5nbGUucG9zLnkgLSByZWN0YW5nbGUuZGltLmhlaWdodCAvIDI7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhcGUuanMubWFwIiwiaW1wb3J0IHsgZ2V0VG9wWCwgZ2V0VG9wWSB9IGZyb20gXCIuLi8uLi90eXBlcy9jb21wb25lbnRzL2NvbGxpc2lvbi9zaGFwZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgU3ByaXRlIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSwgc2hhcGUsIHNyYykge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJHUkFQSElDU1wiO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIHRoaXMuc3JjID0gc3JjO1xyXG4gICAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuc2hhcGUucG9zO1xyXG4gICAgfVxyXG4gICAgdW5tb3VudCgpIHtcclxuICAgIH1cclxuICAgIGNvcHkoZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SWQgPSBlbGVtZW50LmNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gZWxlbWVudC5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy5zaGFwZS5kaW0uaGVpZ2h0ID0gZWxlbWVudC5zaGFwZS5kaW0uaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuc2hhcGUuZGltLmxlbmd0aCA9IGVsZW1lbnQuc2hhcGUuZGltLmxlbmd0aDtcclxuICAgICAgICBpZiAoZWxlbWVudC5zaGFwZS5wb3MueCAhPSBlbGVtZW50LnRyYW5zZm9ybS54KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWxlbWVudC5zaGFwZS5wb3MueSAhPSBlbGVtZW50LnRyYW5zZm9ybS55KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWxlbWVudC5zaGFwZS5wb3MueiAhPSBlbGVtZW50LnRyYW5zZm9ybS56KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNoYXBlLnBvcy54ID0gZWxlbWVudC5zaGFwZS5wb3MueDtcclxuICAgICAgICB0aGlzLnNoYXBlLnBvcy55ID0gZWxlbWVudC5zaGFwZS5wb3MueTtcclxuICAgICAgICB0aGlzLnNoYXBlLnBvcy56ID0gZWxlbWVudC5zaGFwZS5wb3MuejtcclxuICAgICAgICB0aGlzLnNoYXBlLnJvdCA9IGVsZW1lbnQuc2hhcGUucm90O1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGVsZW1lbnQudmlzaWJsZTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS54ID0gZWxlbWVudC50cmFuc2Zvcm0ueDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS55ID0gZWxlbWVudC50cmFuc2Zvcm0ueTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS56ID0gZWxlbWVudC50cmFuc2Zvcm0uejtcclxuICAgIH1cclxuICAgIHZpc2l0KGVsZW1lbnQpIHtcclxuICAgIH1cclxuICAgIGdldFJlY3RhbmdsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaGFwZTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmN0eCkge1xyXG4gICAgICAgICAgICBsZXQgeCA9IGdldFRvcFgodGhpcy5zaGFwZSk7XHJcbiAgICAgICAgICAgIGxldCB5ID0gZ2V0VG9wWSh0aGlzLnNoYXBlKTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgeCwgeSwgdGhpcy5zaGFwZS5kaW0ubGVuZ3RoLCB0aGlzLnNoYXBlLmRpbS5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSB0aGlzLnNyYztcclxuICAgIH1cclxuICAgIHNldFNyYyhzcmMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNvdXJjZSBjaGFuZ2VkXCIpO1xyXG4gICAgICAgIHRoaXMuc3JjID0gc3JjO1xyXG4gICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gc3JjO1xyXG4gICAgfVxyXG4gICAgdG9KU09OKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGVudGl0eTogdGhpcy5lbnRpdHksXHJcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiB0aGlzLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICBlbmdpbmVUYWc6IHRoaXMuZW5naW5lVGFnLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMudHJhbnNmb3JtLFxyXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnZpc2libGUsXHJcbiAgICAgICAgICAgIGFsaXZlOiB0aGlzLmFsaXZlLFxyXG4gICAgICAgICAgICBzcmM6IHRoaXMuc3JjLFxyXG4gICAgICAgICAgICBzaGFwZTogdGhpcy5zaGFwZSxcclxuICAgICAgICAgICAgcmVuZGVycmVkOiB0aGlzLnJlbmRlcmVkXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGUuanMubWFwIiwiaW1wb3J0IHsgRW5naW5lVHlwZSB9IGZyb20gXCIuLi8uLi9jb25zdGFudHMvZW5naW5lVHlwZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgTW91c2VMaXN0ZW5lciB7XHJcbiAgICBjb25zdHJ1Y3RvcihjbGlja01hcCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJFVkVOVEhBTkRMRVJcIjtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNsaWNrTWFwKS5tYXAoKFtrLCB2XSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5zZXQoaywgdik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBleGVjdXRlKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IGV2ZW50MSA9IGV2ZW50O1xyXG4gICAgICAgIGxldCBmdW5jID0gdGhpcy5ldmVudHMuZ2V0KGV2ZW50LmV2ZW50TmFtZSk7XHJcbiAgICAgICAgaWYgKGZ1bmMpIHtcclxuICAgICAgICAgICAgZnVuYyhldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0RXZlbnRUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiBcIk1PVVNFXCI7XHJcbiAgICB9XHJcbiAgICBjb3B5KGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBsaXN0ZW5lci5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IGxpc3RlbmVyLmNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGxpc3RlbmVyLnZpc2libGU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGxpc3RlbmVyLmFsaXZlO1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZShzeXN0ZW0pIHtcclxuICAgICAgICBzeXN0ZW0ucmVnaXN0ZXJMaXN0ZW5lcih0aGlzKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJJbiBtb3VzZSBMaXN0ZW5lclwiKTtcclxuICAgIH1cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuZW50aXR5LFxyXG4gICAgICAgICAgICBlbmdpbmVUYWc6IFwiRVZFTlRIQU5ETEVSXCIsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiB0aGlzLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnZpc2libGUsXHJcbiAgICAgICAgICAgIGFsaXZlOiB0aGlzLmFsaXZlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGdldEV2ZW50cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmVudHM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIE1vdXNlRW1pdHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBTZXQoKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIkVWRU5USEFORExFUlwiO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVHlwZSA9IGVuZ2luZTtcclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoc3lzdGVtKSB7XHJcbiAgICAgICAgc3lzdGVtLnJlZ2lzdGVyRW1pdHRlcih0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVUeXBlICE9IEVuZ2luZVR5cGUuU09DS0VUU0VSVkVSKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xyXG4gICAgICAgICAgICBpZiAoY2FudmFzKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB4ID0gZXZlbnQueCAvIHJlY3Qud2lkdGggKiBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHkgPSBldmVudC55IC8gcmVjdC5oZWlnaHQgKiBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHsgeDogeCwgeTogeSwgejogMCB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6IFwiY2xpY2tcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHsgeDogZXZlbnQueCwgeTogZXZlbnQueSwgejogMCB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6IFwiZGJsY2xpY2tcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGRMaXN0ZW5lcihjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQoY29tcG9uZW50KTtcclxuICAgIH1cclxuICAgIGVtaXQoZXZlbnQpIHtcclxuICAgICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycykge1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5leGVjdXRlKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRFdmVudFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiTU9VU0VcIjtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZXZlbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCh0aGlzLmV2ZW50c1tpXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvcHkoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGNvbXBvbmVudC5hbGl2ZTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBjb21wb25lbnQuYWxpdmU7XHJcbiAgICB9XHJcbiAgICB0b0pTT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGlzdGVuZXIuanMubWFwIiwiaW1wb3J0IHsgRW5naW5lVHlwZSB9IGZyb20gXCIuLi8uLi9jb25zdGFudHMvZW5naW5lVHlwZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgU2NyaXB0T2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIlNDUklQVElOR1wiO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVHlwZSA9IEVuZ2luZVR5cGUuQ0xJRU5UT05MWTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBlbmdpbmVUeXBlID0gRW5naW5lVHlwZS5DTElFTlRPTkxZKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIlNDUklQVElOR1wiO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVHlwZSA9IGVuZ2luZVR5cGU7XHJcbiAgICB9XHJcbiAgICBjb3B5KHNjcmlwdCkge1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZSgpIHtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayhkdCk7XHJcbiAgICB9XHJcbiAgICB0b0pTT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW50aXR5OiB0aGlzLmVudGl0eSxcclxuICAgICAgICAgICAgZW5naW5lVGFnOiB0aGlzLmVuZ2luZVRhZyxcclxuICAgICAgICAgICAgY29tcG9uZW5JZDogdGhpcy5jb21wb25lbnRJZCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuY2FsbGJhY2tcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjcmlwdC5qcy5tYXAiLCJpbXBvcnQgeyBUcmFuc2Zvcm0gfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL1BoeXNpY3MvdHJhbnNmb3JtLmpzXCI7XHJcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvU3ByaXRlLmpzXCI7XHJcbmltcG9ydCB7IE1vdXNlTGlzdGVuZXIgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0V2ZW50L0xpc3RlbmVyLmpzXCI7XHJcbmltcG9ydCB7IFNjcmlwdCB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvU2NyaXB0L1NjcmlwdC5qc1wiO1xyXG5pbXBvcnQgeyBFbmdpbmVUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29yZS9lbmdpbmUuanNcIjtcclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MgPSB7IHg6IDIwLCB5OiAyMCwgejogMCB9LCB2ZWwgPSB7IHg6IDAuMSwgeTogMCwgejogMCB9LCBlbmdpbmVUeXBlID0gRW5naW5lVHlwZS5TT0NLRVRTRVJWRVIpIHtcclxuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IFwiUGxheWVyXCI7XHJcbiAgICAgICAgbGV0IGNvbGxpZGVyQ2FsbGJhY2sgPSAoY29sbCkgPT4ge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IHNoYXBlID0geyBkaW06IHsgbGVuZ3RoOiA2NCwgaGVpZ2h0OiA2NCB9LCByb3Q6IDAsIHBvczogcG9zIH07XHJcbiAgICAgICAgLy9sZXQgY29sbGlkZXI6IEJveENvbGxpZGVyID0gbmV3IEJveENvbGxpZGVyKC0xLHtsZW5ndGg6NjQsIGhlaWdodDo2NH0sIHBvcyxjb2xsaWRlckNhbGxiYWNrKVxyXG4gICAgICAgIGxldCBzcHJpdGUgPSBuZXcgU3ByaXRlKC0xLCBzaGFwZSwgXCIvaW1hZ2VzL0tuaWdodF9Gb3J3YXJkLnBuZ1wiKTtcclxuICAgICAgICBpZiAoZW5naW5lVHlwZSA9PSBFbmdpbmVUeXBlLlNPQ0tFVENMSUVOVCkge1xyXG4gICAgICAgICAgICBzcHJpdGUucmVuZGVyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzcHJpdGUuc3JjID0gXCIvaW1hZ2VzL1RlbXBsYXIucG5nXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKC0xLCBwb3MsIHZlbCk7XHJcbiAgICAgICAgbGV0IHNjcmlwdCA9IG5ldyBTY3JpcHQoKGR0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2NyaXB0IHJ1bmluZ1wiKTtcclxuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybS5wb3MueCA8IDApIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5wb3MueCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0udmVsLnggKj0gLTE7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5naW5lVHlwZSA9PSBFbmdpbmVUeXBlLlNPQ0tFVENMSUVOVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNwcml0ZS5zcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xpZW50IEhpdCAwOiBcIiArIEVuZ2luZS50aW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNwcml0ZS5zcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VydmVyIEhpdCAwOiBcIiArIEVuZ2luZS50aW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtLnBvcy54ICsgc2hhcGUuZGltLmxlbmd0aCA+IDUwMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5TT0NLRVRDTElFTlQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsaWVudCBIaXQgNTAwOiBcIiArIEVuZ2luZS50aW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VydmVyIEhpdCA1MDA6IFwiICsgRW5naW5lLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnBvcy54ID0gMjUwO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnZlbC54ICo9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0ucG9zLnkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zLnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnZlbC55ICo9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0ucG9zLnkgKyBzaGFwZS5kaW0uaGVpZ2h0ID4gMzAwKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zLnkgPSAxNTA7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0udmVsLnkgKj0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBFbmdpbmVUeXBlLkJPVEgpO1xyXG4gICAgICAgIGxldCBsaXN0ZW5lciA9IG5ldyBNb3VzZUxpc3RlbmVyKHsgXCJjbGlja1wiOiAoY2xpY2spID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xpY2tcIik7XHJcbiAgICAgICAgICAgIH0gfSk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm0sXHJcbiAgICAgICAgICAgIHNwcml0ZSxcclxuICAgICAgICAgICAgc2NyaXB0LFxyXG4gICAgICAgICAgICBsaXN0ZW5lclxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxheWVyLmpzLm1hcCIsImltcG9ydCB7IFNjZW5lTWFuYWdlciB9IGZyb20gXCIuL21hbmFnZXJzL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgeyBFbmdpbmVUeXBlIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9lbmdpbmVUeXBlLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBTdGFnZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzdGFnZU5hbWUsIC4uLmNvbXBvbmVudHMpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbXTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gdGhpcztcclxuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IFwiU1RBR0VcIjtcclxuICAgICAgICB0aGlzLnRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVDb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaWQgPSAwO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SWQgPSAwO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHN0YWdlTmFtZTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xyXG4gICAgfVxyXG4gICAgZ2V0U2NlbmVDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW50aXRpZXM6IFt0aGlzXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBhZGRFbnRpdHkoc2NlbmUsIGVudGl0eSkge1xyXG4gICAgICAgIGxldCB1bmlxdWVJZCA9IHRoaXMuc2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUlkKCk7XHJcbiAgICAgICAgZW50aXR5LmlkID0gdW5pcXVlSWQ7XHJcbiAgICAgICAgZW50aXR5LnNjZW5lID0gdGhpcztcclxuICAgICAgICB0aGlzLmVudGl0aWVzLnNldCh1bmlxdWVJZCwgZW50aXR5KTtcclxuICAgICAgICBmb3IgKGxldCBjb21wIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21wTGlzdCA9IHRoaXMuZW5naW5lQ29tcG9uZW50cy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICBjb21wLmVudGl0eSA9IGVudGl0eS5pZDtcclxuICAgICAgICAgICAgaWYgKGNvbXBMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3lzdGVtID0gdGhpcy5zY2VuZU1hbmFnZXIuc3lzdGVtVGFnLmdldChjb21wLmVuZ2luZVRhZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3lzdGVtLnJlZ2lzdGVyKGNvbXAsIHRoaXMuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb21wLmVuZ2luZVRhZyArIFwiZG9lcyBub3QgZXhpc3RcIik7XHJcbiAgICAgICAgICAgICAgICBjb21wLmNvbXBvbmVudElkID0gdGhpcy5zY2VuZU1hbmFnZXIuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NmdWxseSBhZGRlZCBlbnRpdHlcIik7XHJcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcclxuICAgIH1cclxuICAgIHJlbW92ZUVudGl0eShpZCkge1xyXG4gICAgICAgIGxldCBlbnRpdHkgPSB0aGlzLmVudGl0aWVzLmdldChpZCk7XHJcbiAgICAgICAgaWYgKGVudGl0eSkge1xyXG4gICAgICAgICAgICB0aGlzLmVudGl0aWVzLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGMgb2YgZW50aXR5LmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcG9uZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN5c3RlbVwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGMuc3lzdGVtKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcG9uZW50IGlkIFwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGMuY29tcG9uZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgYy5zeXN0ZW0udW5yZWdpc3RlcihjLmNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZW50aXR5O1xyXG4gICAgfVxyXG4gICAgYWRkU2VydmVyRW50aXR5KHNjZW5lLCBlbnRpdHkpIHtcclxuICAgICAgICBpZiAoZW50aXR5LmlkID09IG51bGwgfHwgZW50aXR5LmlkID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbnRpdHkgaWQgaXMgdW5kZWZpbmVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbnRpdHkuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICBzY2VuZS5lbnRpdGllcy5zZXQoZW50aXR5LmlkLCBlbnRpdHkpO1xyXG4gICAgICAgIGlmIChzY2VuZS5uZXdFbnRpdHlRdWV1ZSkge1xyXG4gICAgICAgICAgICBsZXQgaXNJblF1ZXVlID0gc2NlbmUubmV3RW50aXR5UXVldWUuaGFzKGVudGl0eS5pZCk7XHJcbiAgICAgICAgICAgIGlmICghaXNJblF1ZXVlKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXBMaXN0ID0gc2NlbmUuZW5naW5lQ29tcG9uZW50cy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3lzdGVtID0gc2NlbmUuc2NlbmVNYW5hZ2VyLnN5c3RlbVRhZy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW0ucmVnaXN0ZXIoY29tcCwgdGhpcy5nZXRVbmlxdWVDb21wb25lbnRJZCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29tcC5lbmdpbmVUYWcgKyBcIiB0YWdnZWQgU3lzdGVtIGlzIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NmdWxseSBhZGRlZCBlbnRpdHlzXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbnRpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcExpc3QgPSBzY2VuZS5lbmdpbmVDb21wb25lbnRzLmdldChjb21wLmVuZ2luZVRhZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcExpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3lzdGVtID0gc2NlbmUuc2NlbmVNYW5hZ2VyLnN5c3RlbVRhZy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzeXN0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtLnJlZ2lzdGVyKGNvbXAsIHRoaXMuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29tcC5lbmdpbmVUYWcgKyBcIiB0YWdnZWQgU3lzdGVtIGlzIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NmdWxseSBhZGRlZCBlbnRpdHlzXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldFVuaXF1ZUlkKCkge1xyXG4gICAgICAgIGlmIChTY2VuZU1hbmFnZXIuRW5naW5lVHlwZSA9PSBFbmdpbmVUeXBlLlNPQ0tFVENMSUVOVCkge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSB0aGlzLmlkIC0gMTtcclxuICAgICAgICAgICAgdGhpcy5pZC0tO1xyXG4gICAgICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSB0aGlzLmlkICsgMTtcclxuICAgICAgICAgICAgdGhpcy5pZCsrO1xyXG4gICAgICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0VW5pcXVlQ29tcG9uZW50SWQoKSB7XHJcbiAgICAgICAgaWYgKFNjZW5lTWFuYWdlci5FbmdpbmVUeXBlID09IEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5UKSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IHRoaXMuY29tcG9uZW50SWQgLSAxO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudElkLS07XHJcbiAgICAgICAgICAgIHJldHVybiBpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IHRoaXMuY29tcG9uZW50SWQgKyAxO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudElkKys7XHJcbiAgICAgICAgICAgIHJldHVybiBpZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NlbmUuanMubWFwIiwiaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9TcHJpdGUuanNcIjtcclxuaW1wb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9QaHlzaWNzL3RyYW5zZm9ybS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgVGVtcGxhciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MpIHtcclxuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IFwiVGVtcGxhclwiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgtMSwgeyB4OiBNYXRoLnJhbmRvbSgpICogMjAsIHk6IE1hdGgucmFuZG9tKCkgKiAzMCwgejogMjAgfSwgeyB4OiAxMCwgeTogMTAsIHo6IDAgfSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBuZXcgU3ByaXRlKC0xLCB7IHBvczogdGhpcy50cmFuc2Zvcm0ucG9zLCBkaW06IHsgbGVuZ3RoOiA2NCwgaGVpZ2h0OiA2NCB9LCByb3Q6IDAgfSwgXCIvaW1hZ2VzL1RlbXBsYXIucG5nXCIpO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGVcclxuICAgICAgICBdO1xyXG4gICAgICAgIGlmIChwb3MpIHtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zLnggPSBwb3MueDtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zLnkgPSBwb3MueTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGVtcGxhci5qcy5tYXAiLCJleHBvcnQgY2xhc3MgQ2FtZXJhIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSA9IC0xLCB3aWR0aCA9IC0xLCBoZWlnaHQgPSAtMSwgY3VyciA9IHsgeDogMCwgeTogMCwgejogLTEgfSwgc2NhbGUgPSB7IHg6IDEsIHk6IDEgfSkge1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIkdSQVBISUNTXCI7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMucG9zID0gY3VycjtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHsgeDogMCwgeTogMCwgejogMCB9O1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcclxuICAgIH1cclxuICAgIHVubW91bnQoKSB7XHJcbiAgICB9XHJcbiAgICBnZXRSZWN0YW5nbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9zOiB0aGlzLnBvcyxcclxuICAgICAgICAgICAgZGltOiB7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLndpZHRoLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByb3Q6IDBcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29weShjYW1lcmEpIHtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGNhbWVyYS5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IGNhbWVyYS5jb21wb25lbnRJZDtcclxuICAgICAgICB0aGlzLndpZHRoID0gY2FtZXJhLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gY2FtZXJhLmhlaWdodDtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBjYW1lcmEudmlzaWJsZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gY2FtZXJhLmFsaXZlO1xyXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IGNhbWVyYS5zY2FsZS54O1xyXG4gICAgICAgIHRoaXMuc2NhbGUueSA9IGNhbWVyYS5zY2FsZS55O1xyXG4gICAgICAgIHRoaXMucmVuZGVyZWQgPSBjYW1lcmEucmVuZGVyZWQ7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhlaWdodCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmhlaWdodCAqIC0xICogdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aCAqIC0xICogdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQuY3R4O1xyXG4gICAgICAgIHRoaXMucG9zLnggKz0gdGhpcy50cmFuc2Zvcm0ueDtcclxuICAgICAgICB0aGlzLnBvcy55ICs9IHRoaXMudHJhbnNmb3JtLnk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoYXJyYXkpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY3R4LnRyYW5zbGF0ZSh0aGlzLnRyYW5zZm9ybS54LCB0aGlzLnRyYW5zZm9ybS55KTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY3R4LmNsZWFyUmVjdCgtMSAqIHRoaXMucG9zLngsIC0xICogdGhpcy5wb3MueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIGxldCBpdGVtcyA9IGFycmF5O1xyXG4gICAgICAgIGZvciAobGV0IGkgb2YgaXRlbXMpIHtcclxuICAgICAgICAgICAgaWYgKGkgIT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgaS5yZW5kZXIoYXJyYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FtZXJhIGlzIHJlbmRlcmVkIFwiICsgaXRlbXMubGVuZ3RoICsgXCJlbGVtZW50c1wiKTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS54ID0gMDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS55ID0gMDtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY3R4LnNhdmUoKTtcclxuICAgIH1cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuZW50aXR5LFxyXG4gICAgICAgICAgICBjb21wb25lbnRJZDogdGhpcy5jb21wb25lbnRJZCxcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXHJcbiAgICAgICAgICAgIHZpc2libGU6IHRoaXMudmlzaWJsZSxcclxuICAgICAgICAgICAgYWxpdmU6IHRoaXMuYWxpdmUsXHJcbiAgICAgICAgICAgIHNjYWxlOiB0aGlzLnNjYWxlLFxyXG4gICAgICAgICAgICByZW5kZXJlZDogdGhpcy5yZW5kZXJlZCxcclxuICAgICAgICAgICAgcG9zOiB0aGlzLnBvc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FtZXJhLmpzLm1hcCIsImltcG9ydCB7IEVuZ2luZVR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIEtleWJvYXJkTGlzdGVuZXIge1xyXG4gICAgY29uc3RydWN0b3IoY2xpY2tNYXApIHtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJFVkVOVEhBTkRMRVJcIjtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhjbGlja01hcCkubWFwKChbaywgdl0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuc2V0KGssIHYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0RXZlbnRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50cztcclxuICAgIH1cclxuICAgIGV4ZWN1dGUoZXZlbnQpIHtcclxuICAgICAgICBsZXQgZXZlbnQxID0gZXZlbnQ7XHJcbiAgICAgICAgbGV0IGZ1bmMgPSB0aGlzLmV2ZW50cy5nZXQoZXZlbnQuZXZlbnROYW1lKTtcclxuICAgICAgICBpZiAoZnVuYykge1xyXG4gICAgICAgICAgICBmdW5jKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRFdmVudFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiS0VZQk9BUkRcIjtcclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoc3lzdGVtKSB7XHJcbiAgICAgICAgc3lzdGVtLnJlZ2lzdGVyTGlzdGVuZXIodGhpcyk7XHJcbiAgICB9XHJcbiAgICBjb3B5KGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBsaXN0ZW5lci5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGxpc3RlbmVyLmFsaXZlO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGxpc3RlbmVyLnZpc2libGU7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IGxpc3RlbmVyLmNvbXBvbmVudElkO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgIH1cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuZW50aXR5LFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZSxcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBjb21wb25lbnRJZDogdGhpcy5jb21wb25lbnRJZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIEtleUJvYXJkRW1pdHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBTZXQoKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIkVWRU5USEFORExFUlwiO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVHlwZSA9IGVuZ2luZTtcclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoc3lzdGVtKSB7XHJcbiAgICAgICAgc3lzdGVtLnJlZ2lzdGVyRW1pdHRlcih0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVUeXBlICE9IEVuZ2luZVR5cGUuU09DS0VUU0VSVkVSKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogXCJrZXlkb3duXCIsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBldmVudC5rZXlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGRMaXN0ZW5lcihjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQoY29tcG9uZW50KTtcclxuICAgIH1cclxuICAgIGVtaXQoZXZlbnQpIHtcclxuICAgICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycykge1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5leGVjdXRlKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRFdmVudFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiS0VZQk9BUkRcIjtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZXZlbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCh0aGlzLmV2ZW50c1tpXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvcHkoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGNvbXBvbmVudC5hbGl2ZTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBjb21wb25lbnQuYWxpdmU7XHJcbiAgICB9XHJcbiAgICB0b0pTT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2V5Ym9hcmQuanMubWFwIiwiaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9DYW1lcmEuanNcIjtcclxuaW1wb3J0IHsgS2V5Ym9hcmRMaXN0ZW5lciB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvRXZlbnQvS2V5Ym9hcmQuanNcIjtcclxuZXhwb3J0IGNsYXNzIE1haW5DYW1lcmEge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKC0xLCAxMDAwLCA1MDApO1xyXG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gXCJNYWluQ2FtZXJhXCI7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW3RoaXMuY2FtZXJhLCBuZXcgS2V5Ym9hcmRMaXN0ZW5lcih7XHJcbiAgICAgICAgICAgICAgICBcImtleWRvd25cIjogKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PSBcIndcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ueSAtPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlcgaXMgcHJlc3NlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09IFwiYVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS54IC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PSBcImRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ueCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChldmVudC5rZXkgPT0gXCJzXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEudHJhbnNmb3JtLnkgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYWluQ2FtZXJhLmpzLm1hcCIsImNvbnN0IFBBQ0tFVF9UWVBFUyA9IE9iamVjdC5jcmVhdGUobnVsbCk7IC8vIG5vIE1hcCA9IG5vIHBvbHlmaWxsXG5QQUNLRVRfVFlQRVNbXCJvcGVuXCJdID0gXCIwXCI7XG5QQUNLRVRfVFlQRVNbXCJjbG9zZVwiXSA9IFwiMVwiO1xuUEFDS0VUX1RZUEVTW1wicGluZ1wiXSA9IFwiMlwiO1xuUEFDS0VUX1RZUEVTW1wicG9uZ1wiXSA9IFwiM1wiO1xuUEFDS0VUX1RZUEVTW1wibWVzc2FnZVwiXSA9IFwiNFwiO1xuUEFDS0VUX1RZUEVTW1widXBncmFkZVwiXSA9IFwiNVwiO1xuUEFDS0VUX1RZUEVTW1wibm9vcFwiXSA9IFwiNlwiO1xuY29uc3QgUEFDS0VUX1RZUEVTX1JFVkVSU0UgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuT2JqZWN0LmtleXMoUEFDS0VUX1RZUEVTKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgUEFDS0VUX1RZUEVTX1JFVkVSU0VbUEFDS0VUX1RZUEVTW2tleV1dID0ga2V5O1xufSk7XG5jb25zdCBFUlJPUl9QQUNLRVQgPSB7IHR5cGU6IFwiZXJyb3JcIiwgZGF0YTogXCJwYXJzZXIgZXJyb3JcIiB9O1xuZXhwb3J0IHsgUEFDS0VUX1RZUEVTLCBQQUNLRVRfVFlQRVNfUkVWRVJTRSwgRVJST1JfUEFDS0VUIH07XG4iLCJpbXBvcnQgeyBQQUNLRVRfVFlQRVMgfSBmcm9tIFwiLi9jb21tb25zLmpzXCI7XG5jb25zdCB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEJsb2IgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEJsb2IpID09PSBcIltvYmplY3QgQmxvYkNvbnN0cnVjdG9yXVwiKTtcbmNvbnN0IHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiO1xuLy8gQXJyYXlCdWZmZXIuaXNWaWV3IG1ldGhvZCBpcyBub3QgZGVmaW5lZCBpbiBJRTEwXG5jb25zdCBpc1ZpZXcgPSBvYmogPT4ge1xuICAgIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKVxuICAgICAgICA6IG9iaiAmJiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuY29uc3QgZW5jb2RlUGFja2V0ID0gKHsgdHlwZSwgZGF0YSB9LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spID0+IHtcbiAgICBpZiAod2l0aE5hdGl2ZUJsb2IgJiYgZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlQmxvYkFzQmFzZTY0KGRhdGEsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiZcbiAgICAgICAgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc1ZpZXcoZGF0YSkpKSB7XG4gICAgICAgIGlmIChzdXBwb3J0c0JpbmFyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZUJsb2JBc0Jhc2U2NChuZXcgQmxvYihbZGF0YV0pLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcGxhaW4gc3RyaW5nXG4gICAgcmV0dXJuIGNhbGxiYWNrKFBBQ0tFVF9UWVBFU1t0eXBlXSArIChkYXRhIHx8IFwiXCIpKTtcbn07XG5jb25zdCBlbmNvZGVCbG9iQXNCYXNlNjQgPSAoZGF0YSwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGZpbGVSZWFkZXIucmVzdWx0LnNwbGl0KFwiLFwiKVsxXTtcbiAgICAgICAgY2FsbGJhY2soXCJiXCIgKyAoY29udGVudCB8fCBcIlwiKSk7XG4gICAgfTtcbiAgICByZXR1cm4gZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGRhdGEpO1xufTtcbmZ1bmN0aW9uIHRvQXJyYXkoZGF0YSkge1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgIH1cbn1cbmxldCBURVhUX0VOQ09ERVI7XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlUGFja2V0VG9CaW5hcnkocGFja2V0LCBjYWxsYmFjaykge1xuICAgIGlmICh3aXRoTmF0aXZlQmxvYiAmJiBwYWNrZXQuZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgcmV0dXJuIHBhY2tldC5kYXRhXG4gICAgICAgICAgICAuYXJyYXlCdWZmZXIoKVxuICAgICAgICAgICAgLnRoZW4odG9BcnJheSlcbiAgICAgICAgICAgIC50aGVuKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyICYmXG4gICAgICAgIChwYWNrZXQuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhwYWNrZXQuZGF0YSkpKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0b0FycmF5KHBhY2tldC5kYXRhKSk7XG4gICAgfVxuICAgIGVuY29kZVBhY2tldChwYWNrZXQsIGZhbHNlLCBlbmNvZGVkID0+IHtcbiAgICAgICAgaWYgKCFURVhUX0VOQ09ERVIpIHtcbiAgICAgICAgICAgIFRFWFRfRU5DT0RFUiA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKFRFWFRfRU5DT0RFUi5lbmNvZGUoZW5jb2RlZCkpO1xuICAgIH0pO1xufVxuZXhwb3J0IHsgZW5jb2RlUGFja2V0IH07XG4iLCIvLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zb2NrZXRpby9iYXNlNjQtYXJyYXlidWZmZXJcbmNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuLy8gVXNlIGEgbG9va3VwIHRhYmxlIHRvIGZpbmQgdGhlIGluZGV4LlxuY29uc3QgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpO1xuZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7XG59XG5leHBvcnQgY29uc3QgZW5jb2RlID0gKGFycmF5YnVmZmVyKSA9PiB7XG4gICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykge1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107XG4gICAgfVxuICAgIGlmIChsZW4gJSAzID09PSAyKSB7XG4gICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nO1xuICAgIH1cbiAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7XG4gICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JztcbiAgICB9XG4gICAgcmV0dXJuIGJhc2U2NDtcbn07XG5leHBvcnQgY29uc3QgZGVjb2RlID0gKGJhc2U2NCkgPT4ge1xuICAgIGxldCBidWZmZXJMZW5ndGggPSBiYXNlNjQubGVuZ3RoICogMC43NSwgbGVuID0gYmFzZTY0Lmxlbmd0aCwgaSwgcCA9IDAsIGVuY29kZWQxLCBlbmNvZGVkMiwgZW5jb2RlZDMsIGVuY29kZWQ0O1xuICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDFdID09PSAnPScpIHtcbiAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDJdID09PSAnPScpIHtcbiAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFycmF5YnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aCksIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBlbmNvZGVkMSA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpKV07XG4gICAgICAgIGVuY29kZWQyID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAxKV07XG4gICAgICAgIGVuY29kZWQzID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAyKV07XG4gICAgICAgIGVuY29kZWQ0ID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAzKV07XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDEgPDwgMikgfCAoZW5jb2RlZDIgPj4gNCk7XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xuICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMyAmIDMpIDw8IDYpIHwgKGVuY29kZWQ0ICYgNjMpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlidWZmZXI7XG59O1xuIiwiaW1wb3J0IHsgRVJST1JfUEFDS0VULCBQQUNLRVRfVFlQRVNfUkVWRVJTRSB9IGZyb20gXCIuL2NvbW1vbnMuanNcIjtcbmltcG9ydCB7IGRlY29kZSB9IGZyb20gXCIuL2NvbnRyaWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzXCI7XG5jb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbmV4cG9ydCBjb25zdCBkZWNvZGVQYWNrZXQgPSAoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZW5jb2RlZFBhY2tldCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBtYXBCaW5hcnkoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IGVuY29kZWRQYWNrZXQuY2hhckF0KDApO1xuICAgIGlmICh0eXBlID09PSBcImJcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBkZWNvZGVCYXNlNjRQYWNrZXQoZW5jb2RlZFBhY2tldC5zdWJzdHJpbmcoMSksIGJpbmFyeVR5cGUpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHBhY2tldFR5cGUgPSBQQUNLRVRfVFlQRVNfUkVWRVJTRVt0eXBlXTtcbiAgICBpZiAoIXBhY2tldFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIEVSUk9SX1BBQ0tFVDtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZWRQYWNrZXQubGVuZ3RoID4gMVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlZFBhY2tldC5zdWJzdHJpbmcoMSlcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdXG4gICAgICAgIH07XG59O1xuY29uc3QgZGVjb2RlQmFzZTY0UGFja2V0ID0gKGRhdGEsIGJpbmFyeVR5cGUpID0+IHtcbiAgICBpZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGUoZGF0YSk7XG4gICAgICAgIHJldHVybiBtYXBCaW5hcnkoZGVjb2RlZCwgYmluYXJ5VHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyBiYXNlNjQ6IHRydWUsIGRhdGEgfTsgLy8gZmFsbGJhY2sgZm9yIG9sZCBicm93c2Vyc1xuICAgIH1cbn07XG5jb25zdCBtYXBCaW5hcnkgPSAoZGF0YSwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIHN3aXRjaCAoYmluYXJ5VHlwZSkge1xuICAgICAgICBjYXNlIFwiYmxvYlwiOlxuICAgICAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgLy8gZnJvbSBXZWJTb2NrZXQgKyBiaW5hcnlUeXBlIFwiYmxvYlwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIEhUVFAgbG9uZy1wb2xsaW5nIG9yIFdlYlRyYW5zcG9ydFxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmxvYihbZGF0YV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiYXJyYXlidWZmZXJcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIEhUVFAgbG9uZy1wb2xsaW5nIChiYXNlNjQpIG9yIFdlYlNvY2tldCArIGJpbmFyeVR5cGUgXCJhcnJheWJ1ZmZlclwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIFdlYlRyYW5zcG9ydCAoVWludDhBcnJheSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGVuY29kZVBhY2tldCwgZW5jb2RlUGFja2V0VG9CaW5hcnkgfSBmcm9tIFwiLi9lbmNvZGVQYWNrZXQuanNcIjtcbmltcG9ydCB7IGRlY29kZVBhY2tldCB9IGZyb20gXCIuL2RlY29kZVBhY2tldC5qc1wiO1xuY29uc3QgU0VQQVJBVE9SID0gU3RyaW5nLmZyb21DaGFyQ29kZSgzMCk7IC8vIHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EZWxpbWl0ZXIjQVNDSUlfZGVsaW1pdGVkX3RleHRcbmNvbnN0IGVuY29kZVBheWxvYWQgPSAocGFja2V0cywgY2FsbGJhY2spID0+IHtcbiAgICAvLyBzb21lIHBhY2tldHMgbWF5IGJlIGFkZGVkIHRvIHRoZSBhcnJheSB3aGlsZSBlbmNvZGluZywgc28gdGhlIGluaXRpYWwgbGVuZ3RoIG11c3QgYmUgc2F2ZWRcbiAgICBjb25zdCBsZW5ndGggPSBwYWNrZXRzLmxlbmd0aDtcbiAgICBjb25zdCBlbmNvZGVkUGFja2V0cyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgcGFja2V0cy5mb3JFYWNoKChwYWNrZXQsIGkpID0+IHtcbiAgICAgICAgLy8gZm9yY2UgYmFzZTY0IGVuY29kaW5nIGZvciBiaW5hcnkgcGFja2V0c1xuICAgICAgICBlbmNvZGVQYWNrZXQocGFja2V0LCBmYWxzZSwgZW5jb2RlZFBhY2tldCA9PiB7XG4gICAgICAgICAgICBlbmNvZGVkUGFja2V0c1tpXSA9IGVuY29kZWRQYWNrZXQ7XG4gICAgICAgICAgICBpZiAoKytjb3VudCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZW5jb2RlZFBhY2tldHMuam9pbihTRVBBUkFUT1IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVjb2RlUGF5bG9hZCA9IChlbmNvZGVkUGF5bG9hZCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kZWRQYWNrZXRzID0gZW5jb2RlZFBheWxvYWQuc3BsaXQoU0VQQVJBVE9SKTtcbiAgICBjb25zdCBwYWNrZXRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkZWNvZGVkUGFja2V0ID0gZGVjb2RlUGFja2V0KGVuY29kZWRQYWNrZXRzW2ldLCBiaW5hcnlUeXBlKTtcbiAgICAgICAgcGFja2V0cy5wdXNoKGRlY29kZWRQYWNrZXQpO1xuICAgICAgICBpZiAoZGVjb2RlZFBhY2tldC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYWNrZXRzO1xufTtcbmxldCBURVhUX0RFQ09ERVI7XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlUGFja2V0RnJvbUJpbmFyeShkYXRhLCBpc0JpbmFyeSwgYmluYXJ5VHlwZSkge1xuICAgIGlmICghVEVYVF9ERUNPREVSKSB7XG4gICAgICAgIC8vIGxhemlseSBjcmVhdGVkIGZvciBjb21wYXRpYmlsaXR5IHdpdGggb2xkIGJyb3dzZXIgcGxhdGZvcm1zXG4gICAgICAgIFRFWFRfREVDT0RFUiA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgIH1cbiAgICAvLyA0OCA9PT0gXCIwXCIuY2hhckNvZGVBdCgwKSAoT1BFTiBwYWNrZXQgdHlwZSlcbiAgICAvLyA1NCA9PT0gXCI2XCIuY2hhckNvZGVBdCgwKSAoTk9PUCBwYWNrZXQgdHlwZSlcbiAgICBjb25zdCBpc1BsYWluQmluYXJ5ID0gaXNCaW5hcnkgfHwgZGF0YVswXSA8IDQ4IHx8IGRhdGFbMF0gPiA1NDtcbiAgICByZXR1cm4gZGVjb2RlUGFja2V0KGlzUGxhaW5CaW5hcnkgPyBkYXRhIDogVEVYVF9ERUNPREVSLmRlY29kZShkYXRhKSwgYmluYXJ5VHlwZSk7XG59XG5leHBvcnQgY29uc3QgcHJvdG9jb2wgPSA0O1xuZXhwb3J0IHsgZW5jb2RlUGFja2V0LCBlbmNvZGVQYWNrZXRUb0JpbmFyeSwgZW5jb2RlUGF5bG9hZCwgZGVjb2RlUGFja2V0LCBkZWNvZGVQYXlsb2FkIH07XG4iLCIvKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIEVtaXR0ZXIob2JqKSB7XG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xufVxuXG4vKipcbiAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xuICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIExpc3RlbiBvbiB0aGUgZ2l2ZW4gYGV2ZW50YCB3aXRoIGBmbmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub24gPVxuRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxuICAgIC5wdXNoKGZuKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcbiAgZnVuY3Rpb24gb24oKSB7XG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgb24uZm4gPSBmbjtcbiAgdGhpcy5vbihldmVudCwgb24pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICAvLyBhbGxcbiAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gc3BlY2lmaWMgZXZlbnRcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcblxuICAvLyByZW1vdmUgYWxsIGhhbmRsZXJzXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyXG4gIHZhciBjYjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBjYiA9IGNhbGxiYWNrc1tpXTtcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlbW92ZSBldmVudCBzcGVjaWZpYyBhcnJheXMgZm9yIGV2ZW50IHR5cGVzIHRoYXQgbm9cbiAgLy8gb25lIGlzIHN1YnNjcmliZWQgZm9yIHRvIGF2b2lkIG1lbW9yeSBsZWFrLlxuICBpZiAoY2FsbGJhY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtNaXhlZH0gLi4uXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSlcbiAgICAsIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIGlmIChjYWxsYmFja3MpIHtcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgY2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gYWxpYXMgdXNlZCBmb3IgcmVzZXJ2ZWQgZXZlbnRzIChwcm90ZWN0ZWQgbWV0aG9kKVxuRW1pdHRlci5wcm90b3R5cGUuZW1pdFJlc2VydmVkID0gRW1pdHRlci5wcm90b3R5cGUuZW1pdDtcblxuLyoqXG4gKiBSZXR1cm4gYXJyYXkgb2YgY2FsbGJhY2tzIGZvciBgZXZlbnRgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICByZXR1cm4gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhpcyBlbWl0dGVyIGhhcyBgZXZlbnRgIGhhbmRsZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xuICByZXR1cm4gISEgdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aDtcbn07XG4iLCJleHBvcnQgY29uc3QgZ2xvYmFsVGhpc1NoaW0gPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICB9XG59KSgpO1xuIiwiaW1wb3J0IHsgZ2xvYmFsVGhpc1NoaW0gYXMgZ2xvYmFsVGhpcyB9IGZyb20gXCIuL2dsb2JhbFRoaXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwaWNrKG9iaiwgLi4uYXR0cikge1xuICAgIHJldHVybiBhdHRyLnJlZHVjZSgoYWNjLCBrKSA9PiB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgIGFjY1trXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbi8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHJlYWwgdGltZW91dCBmdW5jdGlvbnMgc28gdGhleSBjYW4gYmUgdXNlZCB3aGVuIG92ZXJyaWRkZW5cbmNvbnN0IE5BVElWRV9TRVRfVElNRU9VVCA9IGdsb2JhbFRoaXMuc2V0VGltZW91dDtcbmNvbnN0IE5BVElWRV9DTEVBUl9USU1FT1VUID0gZ2xvYmFsVGhpcy5jbGVhclRpbWVvdXQ7XG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbFRpbWVyRnVuY3Rpb25zKG9iaiwgb3B0cykge1xuICAgIGlmIChvcHRzLnVzZU5hdGl2ZVRpbWVycykge1xuICAgICAgICBvYmouc2V0VGltZW91dEZuID0gTkFUSVZFX1NFVF9USU1FT1VULmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgICAgIG9iai5jbGVhclRpbWVvdXRGbiA9IE5BVElWRV9DTEVBUl9USU1FT1VULmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvYmouc2V0VGltZW91dEZuID0gZ2xvYmFsVGhpcy5zZXRUaW1lb3V0LmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgICAgIG9iai5jbGVhclRpbWVvdXRGbiA9IGdsb2JhbFRoaXMuY2xlYXJUaW1lb3V0LmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgfVxufVxuLy8gYmFzZTY0IGVuY29kZWQgYnVmZmVycyBhcmUgYWJvdXQgMzMlIGJpZ2dlciAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0KVxuY29uc3QgQkFTRTY0X09WRVJIRUFEID0gMS4zMztcbi8vIHdlIGNvdWxkIGFsc28gaGF2ZSB1c2VkIGBuZXcgQmxvYihbb2JqXSkuc2l6ZWAsIGJ1dCBpdCBpc24ndCBzdXBwb3J0ZWQgaW4gSUU5XG5leHBvcnQgZnVuY3Rpb24gYnl0ZUxlbmd0aChvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdXRmOExlbmd0aChvYmopO1xuICAgIH1cbiAgICAvLyBhcnJheWJ1ZmZlciBvciBibG9iXG4gICAgcmV0dXJuIE1hdGguY2VpbCgob2JqLmJ5dGVMZW5ndGggfHwgb2JqLnNpemUpICogQkFTRTY0X09WRVJIRUFEKTtcbn1cbmZ1bmN0aW9uIHV0ZjhMZW5ndGgoc3RyKSB7XG4gICAgbGV0IGMgPSAwLCBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc3RyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgbGVuZ3RoICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDwgMHhkODAwIHx8IGMgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGxlbmd0aCArPSA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4iLCJpbXBvcnQgeyBkZWNvZGVQYWNrZXQgfSBmcm9tIFwiZW5naW5lLmlvLXBhcnNlclwiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgeyBpbnN0YWxsVGltZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGUgfSBmcm9tIFwiLi9jb250cmliL3BhcnNlcXMuanNcIjtcbmNsYXNzIFRyYW5zcG9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHJlYXNvbiwgZGVzY3JpcHRpb24sIGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIocmVhc29uKTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnR5cGUgPSBcIlRyYW5zcG9ydEVycm9yXCI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydCBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIFRyYW5zcG9ydCBhYnN0cmFjdCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgaW5zdGFsbFRpbWVyRnVuY3Rpb25zKHRoaXMsIG9wdHMpO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gb3B0cy5xdWVyeTtcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBvcHRzLnNvY2tldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVhc29uXG4gICAgICogQHBhcmFtIGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIGNvbnRleHQgLSB0aGUgZXJyb3IgY29udGV4dFxuICAgICAqIEByZXR1cm4ge1RyYW5zcG9ydH0gZm9yIGNoYWluaW5nXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uRXJyb3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkge1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBuZXcgVHJhbnNwb3J0RXJyb3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbnMgdGhlIHRyYW5zcG9ydC5cbiAgICAgKi9cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5pbmdcIjtcbiAgICAgICAgdGhpcy5kb09wZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgdHJhbnNwb3J0LlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBcIm9wZW5pbmdcIiB8fCB0aGlzLnJlYWR5U3RhdGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICB0aGlzLmRvQ2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBtdWx0aXBsZSBwYWNrZXRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFja2V0c1xuICAgICAqL1xuICAgIHNlbmQocGFja2V0cykge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBcIm9wZW5cIikge1xuICAgICAgICAgICAgdGhpcy53cml0ZShwYWNrZXRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoaXMgbWlnaHQgaGFwcGVuIGlmIHRoZSB0cmFuc3BvcnQgd2FzIHNpbGVudGx5IGNsb3NlZCBpbiB0aGUgYmVmb3JldW5sb2FkIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBvcGVuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5cIjtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcIm9wZW5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbkRhdGEoZGF0YSkge1xuICAgICAgICBjb25zdCBwYWNrZXQgPSBkZWNvZGVQYWNrZXQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSk7XG4gICAgICAgIHRoaXMub25QYWNrZXQocGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggYSBkZWNvZGVkIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvblBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsIHBhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGNsb3NlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uQ2xvc2UoZGV0YWlscykge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCBkZXRhaWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGF1c2VzIHRoZSB0cmFuc3BvcnQsIGluIG9yZGVyIG5vdCB0byBsb3NlIHBhY2tldHMgZHVyaW5nIGFuIHVwZ3JhZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb25QYXVzZVxuICAgICAqL1xuICAgIHBhdXNlKG9uUGF1c2UpIHsgfVxuICAgIGNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIChzY2hlbWEgK1xuICAgICAgICAgICAgXCI6Ly9cIiArXG4gICAgICAgICAgICB0aGlzLl9ob3N0bmFtZSgpICtcbiAgICAgICAgICAgIHRoaXMuX3BvcnQoKSArXG4gICAgICAgICAgICB0aGlzLm9wdHMucGF0aCArXG4gICAgICAgICAgICB0aGlzLl9xdWVyeShxdWVyeSkpO1xuICAgIH1cbiAgICBfaG9zdG5hbWUoKSB7XG4gICAgICAgIGNvbnN0IGhvc3RuYW1lID0gdGhpcy5vcHRzLmhvc3RuYW1lO1xuICAgICAgICByZXR1cm4gaG9zdG5hbWUuaW5kZXhPZihcIjpcIikgPT09IC0xID8gaG9zdG5hbWUgOiBcIltcIiArIGhvc3RuYW1lICsgXCJdXCI7XG4gICAgfVxuICAgIF9wb3J0KCkge1xuICAgICAgICBpZiAodGhpcy5vcHRzLnBvcnQgJiZcbiAgICAgICAgICAgICgodGhpcy5vcHRzLnNlY3VyZSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQgIT09IDQ0MykpIHx8XG4gICAgICAgICAgICAgICAgKCF0aGlzLm9wdHMuc2VjdXJlICYmIE51bWJlcih0aGlzLm9wdHMucG9ydCkgIT09IDgwKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjpcIiArIHRoaXMub3B0cy5wb3J0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3F1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRRdWVyeSA9IGVuY29kZShxdWVyeSk7XG4gICAgICAgIHJldHVybiBlbmNvZGVkUXVlcnkubGVuZ3RoID8gXCI/XCIgKyBlbmNvZGVkUXVlcnkgOiBcIlwiO1xuICAgIH1cbn1cbiIsIi8vIGltcG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dhbGtuL3F1ZXJ5c3RyaW5nXG4vKipcbiAqIENvbXBpbGVzIGEgcXVlcnlzdHJpbmdcbiAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKG9iaikge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGxldCBpIGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICBpZiAoc3RyLmxlbmd0aClcbiAgICAgICAgICAgICAgICBzdHIgKz0gJyYnO1xuICAgICAgICAgICAgc3RyICs9IGVuY29kZVVSSUNvbXBvbmVudChpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG4vKipcbiAqIFBhcnNlcyBhIHNpbXBsZSBxdWVyeXN0cmluZyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBxc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUocXMpIHtcbiAgICBsZXQgcXJ5ID0ge307XG4gICAgbGV0IHBhaXJzID0gcXMuc3BsaXQoJyYnKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHBhaXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsZXQgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgIHFyeVtkZWNvZGVVUklDb21wb25lbnQocGFpclswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gcXJ5O1xufVxuIiwiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdW5zaGlmdGlvL3llYXN0XG4ndXNlIHN0cmljdCc7XG5jb25zdCBhbHBoYWJldCA9ICcwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ei1fJy5zcGxpdCgnJyksIGxlbmd0aCA9IDY0LCBtYXAgPSB7fTtcbmxldCBzZWVkID0gMCwgaSA9IDAsIHByZXY7XG4vKipcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBudW1iZXIuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKG51bSkge1xuICAgIGxldCBlbmNvZGVkID0gJyc7XG4gICAgZG8ge1xuICAgICAgICBlbmNvZGVkID0gYWxwaGFiZXRbbnVtICUgbGVuZ3RoXSArIGVuY29kZWQ7XG4gICAgICAgIG51bSA9IE1hdGguZmxvb3IobnVtIC8gbGVuZ3RoKTtcbiAgICB9IHdoaWxlIChudW0gPiAwKTtcbiAgICByZXR1cm4gZW5jb2RlZDtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBpbnRlZ2VyIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge051bWJlcn0gVGhlIGludGVnZXIgdmFsdWUgcmVwcmVzZW50ZWQgYnkgdGhlIHN0cmluZy5cbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUoc3RyKSB7XG4gICAgbGV0IGRlY29kZWQgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVjb2RlZCA9IGRlY29kZWQgKiBsZW5ndGggKyBtYXBbc3RyLmNoYXJBdChpKV07XG4gICAgfVxuICAgIHJldHVybiBkZWNvZGVkO1xufVxuLyoqXG4gKiBZZWFzdDogQSB0aW55IGdyb3dpbmcgaWQgZ2VuZXJhdG9yLlxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IEEgdW5pcXVlIGlkLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHllYXN0KCkge1xuICAgIGNvbnN0IG5vdyA9IGVuY29kZSgrbmV3IERhdGUoKSk7XG4gICAgaWYgKG5vdyAhPT0gcHJldilcbiAgICAgICAgcmV0dXJuIHNlZWQgPSAwLCBwcmV2ID0gbm93O1xuICAgIHJldHVybiBub3cgKyAnLicgKyBlbmNvZGUoc2VlZCsrKTtcbn1cbi8vXG4vLyBNYXAgZWFjaCBjaGFyYWN0ZXIgdG8gaXRzIGluZGV4LlxuLy9cbmZvciAoOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgbWFwW2FscGhhYmV0W2ldXSA9IGk7XG4iLCIvLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb25lbnQvaGFzLWNvcnNcbmxldCB2YWx1ZSA9IGZhbHNlO1xudHJ5IHtcbiAgICB2YWx1ZSA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG59XG5jYXRjaCAoZXJyKSB7XG4gICAgLy8gaWYgWE1MSHR0cCBzdXBwb3J0IGlzIGRpc2FibGVkIGluIElFIHRoZW4gaXQgd2lsbCB0aHJvd1xuICAgIC8vIHdoZW4gdHJ5aW5nIHRvIGNyZWF0ZVxufVxuZXhwb3J0IGNvbnN0IGhhc0NPUlMgPSB2YWx1ZTtcbiIsIi8vIGJyb3dzZXIgc2hpbSBmb3IgeG1saHR0cHJlcXVlc3QgbW9kdWxlXG5pbXBvcnQgeyBoYXNDT1JTIH0gZnJvbSBcIi4uL2NvbnRyaWIvaGFzLWNvcnMuanNcIjtcbmltcG9ydCB7IGdsb2JhbFRoaXNTaGltIGFzIGdsb2JhbFRoaXMgfSBmcm9tIFwiLi4vZ2xvYmFsVGhpcy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIFhIUihvcHRzKSB7XG4gICAgY29uc3QgeGRvbWFpbiA9IG9wdHMueGRvbWFpbjtcbiAgICAvLyBYTUxIdHRwUmVxdWVzdCBjYW4gYmUgZGlzYWJsZWQgb24gSUVcbiAgICB0cnkge1xuICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICYmICgheGRvbWFpbiB8fCBoYXNDT1JTKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7IH1cbiAgICBpZiAoIXhkb21haW4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZ2xvYmFsVGhpc1tbXCJBY3RpdmVcIl0uY29uY2F0KFwiT2JqZWN0XCIpLmpvaW4oXCJYXCIpXShcIk1pY3Jvc29mdC5YTUxIVFRQXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29va2llSmFyKCkgeyB9XG4iLCJpbXBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi4vdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyB5ZWFzdCB9IGZyb20gXCIuLi9jb250cmliL3llYXN0LmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYXlsb2FkLCBkZWNvZGVQYXlsb2FkIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmltcG9ydCB7IGNyZWF0ZUNvb2tpZUphciwgWEhSIGFzIFhNTEh0dHBSZXF1ZXN0LCB9IGZyb20gXCIuL3htbGh0dHByZXF1ZXN0LmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IGluc3RhbGxUaW1lckZ1bmN0aW9ucywgcGljayB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBnbG9iYWxUaGlzU2hpbSBhcyBnbG9iYWxUaGlzIH0gZnJvbSBcIi4uL2dsb2JhbFRoaXMuanNcIjtcbmZ1bmN0aW9uIGVtcHR5KCkgeyB9XG5jb25zdCBoYXNYSFIyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Qoe1xuICAgICAgICB4ZG9tYWluOiBmYWxzZSxcbiAgICB9KTtcbiAgICByZXR1cm4gbnVsbCAhPSB4aHIucmVzcG9uc2VUeXBlO1xufSkoKTtcbmV4cG9ydCBjbGFzcyBQb2xsaW5nIGV4dGVuZHMgVHJhbnNwb3J0IHtcbiAgICAvKipcbiAgICAgKiBYSFIgUG9sbGluZyBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICAgICogQHBhY2thZ2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgICAgICB0aGlzLnBvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgY29uc3QgaXNTU0wgPSBcImh0dHBzOlwiID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgICAgIGxldCBwb3J0ID0gbG9jYXRpb24ucG9ydDtcbiAgICAgICAgICAgIC8vIHNvbWUgdXNlciBhZ2VudHMgaGF2ZSBlbXB0eSBgbG9jYXRpb24ucG9ydGBcbiAgICAgICAgICAgIGlmICghcG9ydCkge1xuICAgICAgICAgICAgICAgIHBvcnQgPSBpc1NTTCA/IFwiNDQzXCIgOiBcIjgwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnhkID1cbiAgICAgICAgICAgICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgICAgICAgICAgIG9wdHMuaG9zdG5hbWUgIT09IGxvY2F0aW9uLmhvc3RuYW1lKSB8fFxuICAgICAgICAgICAgICAgICAgICBwb3J0ICE9PSBvcHRzLnBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFhIUiBzdXBwb3J0cyBiaW5hcnlcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGZvcmNlQmFzZTY0ID0gb3B0cyAmJiBvcHRzLmZvcmNlQmFzZTY0O1xuICAgICAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gaGFzWEhSMiAmJiAhZm9yY2VCYXNlNjQ7XG4gICAgICAgIGlmICh0aGlzLm9wdHMud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICB0aGlzLmNvb2tpZUphciA9IGNyZWF0ZUNvb2tpZUphcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJwb2xsaW5nXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIHRoZSBzb2NrZXQgKHRyaWdnZXJzIHBvbGxpbmcpLiBXZSB3cml0ZSBhIFBJTkcgbWVzc2FnZSB0byBkZXRlcm1pbmVcbiAgICAgKiB3aGVuIHRoZSB0cmFuc3BvcnQgaXMgb3Blbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBkb09wZW4oKSB7XG4gICAgICAgIHRoaXMucG9sbCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXVzZXMgcG9sbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uUGF1c2UgLSBjYWxsYmFjayB1cG9uIGJ1ZmZlcnMgYXJlIGZsdXNoZWQgYW5kIHRyYW5zcG9ydCBpcyBwYXVzZWRcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIHBhdXNlKG9uUGF1c2UpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJwYXVzaW5nXCI7XG4gICAgICAgIGNvbnN0IHBhdXNlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJwYXVzZWRcIjtcbiAgICAgICAgICAgIG9uUGF1c2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMucG9sbGluZyB8fCAhdGhpcy53cml0YWJsZSkge1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvbGxpbmcpIHtcbiAgICAgICAgICAgICAgICB0b3RhbCsrO1xuICAgICAgICAgICAgICAgIHRoaXMub25jZShcInBvbGxDb21wbGV0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC0tdG90YWwgfHwgcGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy53cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIHRvdGFsKys7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlKFwiZHJhaW5cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAtLXRvdGFsIHx8IHBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBwb2xsaW5nIGN5Y2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwb2xsKCkge1xuICAgICAgICB0aGlzLnBvbGxpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRvUG9sbCgpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbGxcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJsb2FkcyBvbkRhdGEgdG8gZGV0ZWN0IHBheWxvYWRzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uRGF0YShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKHBhY2tldCkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgaXRzIHRoZSBmaXJzdCBtZXNzYWdlIHdlIGNvbnNpZGVyIHRoZSB0cmFuc3BvcnQgb3BlblxuICAgICAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgJiYgcGFja2V0LnR5cGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGl0cyBhIGNsb3NlIHBhY2tldCwgd2UgY2xvc2UgdGhlIG9uZ29pbmcgcmVxdWVzdHNcbiAgICAgICAgICAgIGlmIChcImNsb3NlXCIgPT09IHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlKHsgZGVzY3JpcHRpb246IFwidHJhbnNwb3J0IGNsb3NlZCBieSB0aGUgc2VydmVyXCIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGJ5cGFzcyBvbkRhdGEgYW5kIGhhbmRsZSB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgdGhpcy5vblBhY2tldChwYWNrZXQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBkZWNvZGUgcGF5bG9hZFxuICAgICAgICBkZWNvZGVQYXlsb2FkKGRhdGEsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICAvLyBpZiBhbiBldmVudCBkaWQgbm90IHRyaWdnZXIgY2xvc2luZ1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBnb3QgZGF0YSB3ZSdyZSBub3QgcG9sbGluZ1xuICAgICAgICAgICAgdGhpcy5wb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbGxDb21wbGV0ZVwiKTtcbiAgICAgICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb2xsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgcG9sbGluZywgc2VuZCBhIGNsb3NlIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBkb0Nsb3NlKCkge1xuICAgICAgICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMud3JpdGUoW3sgdHlwZTogXCJjbG9zZVwiIH1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpbiBjYXNlIHdlJ3JlIHRyeWluZyB0byBjbG9zZSB3aGlsZVxuICAgICAgICAgICAgLy8gaGFuZHNoYWtpbmcgaXMgaW4gcHJvZ3Jlc3MgKEdILTE2NClcbiAgICAgICAgICAgIHRoaXMub25jZShcIm9wZW5cIiwgY2xvc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHBhY2tldHMgcGF5bG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhY2tldHMgLSBkYXRhIHBhY2tldHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgd3JpdGUocGFja2V0cykge1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICAgIGVuY29kZVBheWxvYWQocGFja2V0cywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9Xcml0ZShkYXRhLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXJpKCkge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLm9wdHMuc2VjdXJlID8gXCJodHRwc1wiIDogXCJodHRwXCI7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyeSB8fCB7fTtcbiAgICAgICAgLy8gY2FjaGUgYnVzdGluZyBpcyBmb3JjZWRcbiAgICAgICAgaWYgKGZhbHNlICE9PSB0aGlzLm9wdHMudGltZXN0YW1wUmVxdWVzdHMpIHtcbiAgICAgICAgICAgIHF1ZXJ5W3RoaXMub3B0cy50aW1lc3RhbXBQYXJhbV0gPSB5ZWFzdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSAmJiAhcXVlcnkuc2lkKSB7XG4gICAgICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICByZXF1ZXN0KG9wdHMgPSB7fSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKG9wdHMsIHsgeGQ6IHRoaXMueGQsIGNvb2tpZUphcjogdGhpcy5jb29raWVKYXIgfSwgdGhpcy5vcHRzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMudXJpKCksIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsZWQgdXBvbiBmbHVzaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvV3JpdGUoZGF0YSwgZm4pIHtcbiAgICAgICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVxLm9uKFwic3VjY2Vzc1wiLCBmbik7XG4gICAgICAgIHJlcS5vbihcImVycm9yXCIsICh4aHJTdGF0dXMsIGNvbnRleHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInhociBwb3N0IGVycm9yXCIsIHhoclN0YXR1cywgY29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBwb2xsIGN5Y2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkb1BvbGwoKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICAgICAgICByZXEub24oXCJkYXRhXCIsIHRoaXMub25EYXRhLmJpbmQodGhpcykpO1xuICAgICAgICByZXEub24oXCJlcnJvclwiLCAoeGhyU3RhdHVzLCBjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJ4aHIgcG9sbCBlcnJvclwiLCB4aHJTdGF0dXMsIGNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wb2xsWGhyID0gcmVxO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgIHRoaXMubWV0aG9kID0gb3B0cy5tZXRob2QgfHwgXCJHRVRcIjtcbiAgICAgICAgdGhpcy51cmkgPSB1cmk7XG4gICAgICAgIHRoaXMuZGF0YSA9IHVuZGVmaW5lZCAhPT0gb3B0cy5kYXRhID8gb3B0cy5kYXRhIDogbnVsbDtcbiAgICAgICAgdGhpcy5jcmVhdGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgWEhSIG9iamVjdCBhbmQgc2VuZHMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBvcHRzID0gcGljayh0aGlzLm9wdHMsIFwiYWdlbnRcIiwgXCJwZnhcIiwgXCJrZXlcIiwgXCJwYXNzcGhyYXNlXCIsIFwiY2VydFwiLCBcImNhXCIsIFwiY2lwaGVyc1wiLCBcInJlamVjdFVuYXV0aG9yaXplZFwiLCBcImF1dG9VbnJlZlwiKTtcbiAgICAgICAgb3B0cy54ZG9tYWluID0gISF0aGlzLm9wdHMueGQ7XG4gICAgICAgIGNvbnN0IHhociA9ICh0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdChvcHRzKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmksIHRydWUpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0RGlzYWJsZUhlYWRlckNoZWNrICYmIHhoci5zZXREaXNhYmxlSGVhZGVyQ2hlY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5leHRyYUhlYWRlcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihpLCB0aGlzLm9wdHMuZXh0cmFIZWFkZXJzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIGlmIChcIlBPU1RcIiA9PT0gdGhpcy5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLCBcIiovKlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIChfYSA9IHRoaXMub3B0cy5jb29raWVKYXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRDb29raWVzKHhocik7XG4gICAgICAgICAgICAvLyBpZTYgY2hlY2tcbiAgICAgICAgICAgIGlmIChcIndpdGhDcmVkZW50aWFsc1wiIGluIHhocikge1xuICAgICAgICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0aGlzLm9wdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5yZXF1ZXN0VGltZW91dCkge1xuICAgICAgICAgICAgICAgIHhoci50aW1lb3V0ID0gdGhpcy5vcHRzLnJlcXVlc3RUaW1lb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHRoaXMub3B0cy5jb29raWVKYXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXJzZUNvb2tpZXMoeGhyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKDQgIT09IHhoci5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKDIwMCA9PT0geGhyLnN0YXR1cyB8fCAxMjIzID09PSB4aHIuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb2FkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIGBlcnJvcmAgZXZlbnQgaGFuZGxlciB0aGF0J3MgdXNlci1zZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9lcyBub3QgdGhyb3cgaW4gdGhlIHNhbWUgdGljayBhbmQgZ2V0cyBjYXVnaHQgaGVyZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IodHlwZW9mIHhoci5zdGF0dXMgPT09IFwibnVtYmVyXCIgPyB4aHIuc3RhdHVzIDogMCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB4aHIuc2VuZCh0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIGRlZmVyIHNpbmNlIC5jcmVhdGUoKSBpcyBjYWxsZWQgZGlyZWN0bHkgZnJvbSB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgICAgIC8vIGFuZCB0aHVzIHRoZSAnZXJyb3InIGV2ZW50IGNhbiBvbmx5IGJlIG9ubHkgYm91bmQgKmFmdGVyKiB0aGlzIGV4Y2VwdGlvblxuICAgICAgICAgICAgLy8gb2NjdXJzLiAgVGhlcmVmb3JlLCBhbHNvLCB3ZSBjYW5ub3QgdGhyb3cgaGVyZSBhdCBhbGwuXG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKGUpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5pbmRleCA9IFJlcXVlc3QucmVxdWVzdHNDb3VudCsrO1xuICAgICAgICAgICAgUmVxdWVzdC5yZXF1ZXN0c1t0aGlzLmluZGV4XSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uRXJyb3IoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyLCB0aGlzLnhocik7XG4gICAgICAgIHRoaXMuY2xlYW51cCh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGhvdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjbGVhbnVwKGZyb21FcnJvcikge1xuICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIHRoaXMueGhyIHx8IG51bGwgPT09IHRoaXMueGhyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZW1wdHk7XG4gICAgICAgIGlmIChmcm9tRXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBkZWxldGUgUmVxdWVzdC5yZXF1ZXN0c1t0aGlzLmluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnhociA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGxvYWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMueGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLCBkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFib3J0cyB0aGUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYWNrYWdlXG4gICAgICovXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIH1cbn1cblJlcXVlc3QucmVxdWVzdHNDb3VudCA9IDA7XG5SZXF1ZXN0LnJlcXVlc3RzID0ge307XG4vKipcbiAqIEFib3J0cyBwZW5kaW5nIHJlcXVlc3RzIHdoZW4gdW5sb2FkaW5nIHRoZSB3aW5kb3cuIFRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnRcbiAqIG1lbW9yeSBsZWFrcyAoZS5nLiB3aGVuIHVzaW5nIElFKSBhbmQgdG8gZW5zdXJlIHRoYXQgbm8gc3B1cmlvdXMgZXJyb3IgaXNcbiAqIGVtaXR0ZWQuXG4gKi9cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHR5cGVvZiBhdHRhY2hFdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zdCB0ZXJtaW5hdGlvbkV2ZW50ID0gXCJvbnBhZ2VoaWRlXCIgaW4gZ2xvYmFsVGhpcyA/IFwicGFnZWhpZGVcIiA6IFwidW5sb2FkXCI7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIodGVybWluYXRpb25FdmVudCwgdW5sb2FkSGFuZGxlciwgZmFsc2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVubG9hZEhhbmRsZXIoKSB7XG4gICAgZm9yIChsZXQgaSBpbiBSZXF1ZXN0LnJlcXVlc3RzKSB7XG4gICAgICAgIGlmIChSZXF1ZXN0LnJlcXVlc3RzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICBSZXF1ZXN0LnJlcXVlc3RzW2ldLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnbG9iYWxUaGlzU2hpbSBhcyBnbG9iYWxUaGlzIH0gZnJvbSBcIi4uL2dsb2JhbFRoaXMuanNcIjtcbmV4cG9ydCBjb25zdCBuZXh0VGljayA9ICgoKSA9PiB7XG4gICAgY29uc3QgaXNQcm9taXNlQXZhaWxhYmxlID0gdHlwZW9mIFByb21pc2UgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgUHJvbWlzZS5yZXNvbHZlID09PSBcImZ1bmN0aW9uXCI7XG4gICAgaWYgKGlzUHJvbWlzZUF2YWlsYWJsZSkge1xuICAgICAgICByZXR1cm4gKGNiKSA9PiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGNiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAoY2IsIHNldFRpbWVvdXRGbikgPT4gc2V0VGltZW91dEZuKGNiLCAwKTtcbiAgICB9XG59KSgpO1xuZXhwb3J0IGNvbnN0IFdlYlNvY2tldCA9IGdsb2JhbFRoaXMuV2ViU29ja2V0IHx8IGdsb2JhbFRoaXMuTW96V2ViU29ja2V0O1xuZXhwb3J0IGNvbnN0IHVzaW5nQnJvd3NlcldlYlNvY2tldCA9IHRydWU7XG5leHBvcnQgY29uc3QgZGVmYXVsdEJpbmFyeVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG4iLCJpbXBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi4vdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyB5ZWFzdCB9IGZyb20gXCIuLi9jb250cmliL3llYXN0LmpzXCI7XG5pbXBvcnQgeyBwaWNrIH0gZnJvbSBcIi4uL3V0aWwuanNcIjtcbmltcG9ydCB7IGRlZmF1bHRCaW5hcnlUeXBlLCBuZXh0VGljaywgdXNpbmdCcm93c2VyV2ViU29ja2V0LCBXZWJTb2NrZXQsIH0gZnJvbSBcIi4vd2Vic29ja2V0LWNvbnN0cnVjdG9yLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYWNrZXQgfSBmcm9tIFwiZW5naW5lLmlvLXBhcnNlclwiO1xuLy8gZGV0ZWN0IFJlYWN0TmF0aXZlIGVudmlyb25tZW50XG5jb25zdCBpc1JlYWN0TmF0aXZlID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIG5hdmlnYXRvci5wcm9kdWN0LnRvTG93ZXJDYXNlKCkgPT09IFwicmVhY3RuYXRpdmVcIjtcbmV4cG9ydCBjbGFzcyBXUyBleHRlbmRzIFRyYW5zcG9ydCB7XG4gICAgLyoqXG4gICAgICogV2ViU29ja2V0IHRyYW5zcG9ydCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gY29ubmVjdGlvbiBvcHRpb25zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIob3B0cyk7XG4gICAgICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSAhb3B0cy5mb3JjZUJhc2U2NDtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIndlYnNvY2tldFwiO1xuICAgIH1cbiAgICBkb09wZW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVjaygpKSB7XG4gICAgICAgICAgICAvLyBsZXQgcHJvYmUgdGltZW91dFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVyaSA9IHRoaXMudXJpKCk7XG4gICAgICAgIGNvbnN0IHByb3RvY29scyA9IHRoaXMub3B0cy5wcm90b2NvbHM7XG4gICAgICAgIC8vIFJlYWN0IE5hdGl2ZSBvbmx5IHN1cHBvcnRzIHRoZSAnaGVhZGVycycgb3B0aW9uLCBhbmQgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgYW55dGhpbmcgZWxzZSBpcyBwYXNzZWRcbiAgICAgICAgY29uc3Qgb3B0cyA9IGlzUmVhY3ROYXRpdmVcbiAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgIDogcGljayh0aGlzLm9wdHMsIFwiYWdlbnRcIiwgXCJwZXJNZXNzYWdlRGVmbGF0ZVwiLCBcInBmeFwiLCBcImtleVwiLCBcInBhc3NwaHJhc2VcIiwgXCJjZXJ0XCIsIFwiY2FcIiwgXCJjaXBoZXJzXCIsIFwicmVqZWN0VW5hdXRob3JpemVkXCIsIFwibG9jYWxBZGRyZXNzXCIsIFwicHJvdG9jb2xWZXJzaW9uXCIsIFwib3JpZ2luXCIsIFwibWF4UGF5bG9hZFwiLCBcImZhbWlseVwiLCBcImNoZWNrU2VydmVySWRlbnRpdHlcIik7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgICAgICBvcHRzLmhlYWRlcnMgPSB0aGlzLm9wdHMuZXh0cmFIZWFkZXJzO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndzID1cbiAgICAgICAgICAgICAgICB1c2luZ0Jyb3dzZXJXZWJTb2NrZXQgJiYgIWlzUmVhY3ROYXRpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBwcm90b2NvbHNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IFdlYlNvY2tldCh1cmkpXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scywgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSB0aGlzLnNvY2tldC5iaW5hcnlUeXBlIHx8IGRlZmF1bHRCaW5hcnlUeXBlO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBzb2NrZXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndzLl9zb2NrZXQudW5yZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25PcGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9IChjbG9zZUV2ZW50KSA9PiB0aGlzLm9uQ2xvc2Uoe1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwid2Vic29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBjbG9zZUV2ZW50LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXYpID0+IHRoaXMub25EYXRhKGV2LmRhdGEpO1xuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZSkgPT4gdGhpcy5vbkVycm9yKFwid2Vic29ja2V0IGVycm9yXCIsIGUpO1xuICAgIH1cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgLy8gZW5jb2RlUGFja2V0IGVmZmljaWVudCBhcyBpdCB1c2VzIFdTIGZyYW1pbmdcbiAgICAgICAgLy8gbm8gbmVlZCBmb3IgZW5jb2RlUGF5bG9hZFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhY2tldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IHBhY2tldHNbaV07XG4gICAgICAgICAgICBjb25zdCBsYXN0UGFja2V0ID0gaSA9PT0gcGFja2V0cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgZW5jb2RlUGFja2V0KHBhY2tldCwgdGhpcy5zdXBwb3J0c0JpbmFyeSwgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgY3JlYXRlIGEgbmV3IG9iamVjdCAoR0gtNDM3KVxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdHMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzaW5nQnJvd3NlcldlYlNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFja2V0Lm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMuY29tcHJlc3MgPSBwYWNrZXQub3B0aW9ucy5jb21wcmVzcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLnBlck1lc3NhZ2VEZWZsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBkYXRhID8gQnVmZmVyLmJ5dGVMZW5ndGgoZGF0YSkgOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZW4gPCB0aGlzLm9wdHMucGVyTWVzc2FnZURlZmxhdGUudGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5jb21wcmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgd2Vic29ja2V0IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkIGJ1dCB0aGUgYnJvd3NlciBkaWRuJ3RcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgY2hhbmNlIG9mIGluZm9ybWluZyB1cyBhYm91dCBpdCB5ZXQsIGluIHRoYXQgY2FzZSBzZW5kIHdpbGxcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhbiBlcnJvclxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2luZ0Jyb3dzZXJXZWJTb2NrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFR5cGVFcnJvciBpcyB0aHJvd24gd2hlbiBwYXNzaW5nIHRoZSBzZWNvbmQgYXJndW1lbnQgb24gU2FmYXJpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoZGF0YSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RQYWNrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFrZSBkcmFpblxuICAgICAgICAgICAgICAgICAgICAvLyBkZWZlciB0byBuZXh0IHRpY2sgdG8gYWxsb3cgU29ja2V0IHRvIGNsZWFyIHdyaXRlQnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRvQ2xvc2UoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy53cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy53cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXJpKCkge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLm9wdHMuc2VjdXJlID8gXCJ3c3NcIiA6IFwid3NcIjtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICAgICAgICAvLyBhcHBlbmQgdGltZXN0YW1wIHRvIFVSSVxuICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVzdGFtcFJlcXVlc3RzKSB7XG4gICAgICAgICAgICBxdWVyeVt0aGlzLm9wdHMudGltZXN0YW1wUGFyYW1dID0geWVhc3QoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb21tdW5pY2F0ZSBiaW5hcnkgc3VwcG9ydCBjYXBhYmlsaXRpZXNcbiAgICAgICAgaWYgKCF0aGlzLnN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBkZXRlY3Rpb24gZm9yIFdlYlNvY2tldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHdoZXRoZXIgdGhpcyB0cmFuc3BvcnQgaXMgYXZhaWxhYmxlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY2hlY2soKSB7XG4gICAgICAgIHJldHVybiAhIVdlYlNvY2tldDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi4vdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyBuZXh0VGljayB9IGZyb20gXCIuL3dlYnNvY2tldC1jb25zdHJ1Y3Rvci5qc1wiO1xuaW1wb3J0IHsgZW5jb2RlUGFja2V0VG9CaW5hcnksIGRlY29kZVBhY2tldEZyb21CaW5hcnksIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmZ1bmN0aW9uIHNob3VsZEluY2x1ZGVCaW5hcnlIZWFkZXIocGFja2V0LCBlbmNvZGVkKSB7XG4gICAgLy8gNDggPT09IFwiMFwiLmNoYXJDb2RlQXQoMCkgKE9QRU4gcGFja2V0IHR5cGUpXG4gICAgLy8gNTQgPT09IFwiNlwiLmNoYXJDb2RlQXQoMCkgKE5PT1AgcGFja2V0IHR5cGUpXG4gICAgcmV0dXJuIChwYWNrZXQudHlwZSA9PT0gXCJtZXNzYWdlXCIgJiZcbiAgICAgICAgdHlwZW9mIHBhY2tldC5kYXRhICE9PSBcInN0cmluZ1wiICYmXG4gICAgICAgIGVuY29kZWRbMF0gPj0gNDggJiZcbiAgICAgICAgZW5jb2RlZFswXSA8PSA1NCk7XG59XG5leHBvcnQgY2xhc3MgV1QgZXh0ZW5kcyBUcmFuc3BvcnQge1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJ3ZWJ0cmFuc3BvcnRcIjtcbiAgICB9XG4gICAgZG9PcGVuKCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmICh0eXBlb2YgV2ViVHJhbnNwb3J0ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gbmV3IFdlYlRyYW5zcG9ydCh0aGlzLmNyZWF0ZVVyaShcImh0dHBzXCIpLCB0aGlzLm9wdHMudHJhbnNwb3J0T3B0aW9uc1t0aGlzLm5hbWVdKTtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2VkXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJ3ZWJ0cmFuc3BvcnQgZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIG5vdGU6IHdlIGNvdWxkIGhhdmUgdXNlZCBhc3luYy9hd2FpdCwgYnV0IHRoYXQgd291bGQgcmVxdWlyZSBzb21lIGFkZGl0aW9uYWwgcG9seWZpbGxzXG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnJlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY3JlYXRlQmlkaXJlY3Rpb25hbFN0cmVhbSgpLnRoZW4oKHN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5yZWFkYWJsZS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlciA9IHN0cmVhbS53cml0YWJsZS5nZXRXcml0ZXIoKTtcbiAgICAgICAgICAgICAgICBsZXQgYmluYXJ5RmxhZztcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZWFkKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCh7IGRvbmUsIHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFiaW5hcnlGbGFnICYmIHZhbHVlLmJ5dGVMZW5ndGggPT09IDEgJiYgdmFsdWVbMF0gPT09IDU0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluYXJ5RmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGV4cG9zZSBiaW5hcnl0eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblBhY2tldChkZWNvZGVQYWNrZXRGcm9tQmluYXJ5KHZhbHVlLCBiaW5hcnlGbGFnLCBcImFycmF5YnVmZmVyXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5hcnlGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kc2hha2UgPSB0aGlzLnF1ZXJ5LnNpZCA/IGAwe1wic2lkXCI6XCIke3RoaXMucXVlcnkuc2lkfVwifWAgOiBcIjBcIjtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlclxuICAgICAgICAgICAgICAgICAgICAud3JpdGUobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGhhbmRzaGFrZSkpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMub25PcGVuKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYWNrZXQgPSBwYWNrZXRzW2ldO1xuICAgICAgICAgICAgY29uc3QgbGFzdFBhY2tldCA9IGkgPT09IHBhY2tldHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGVuY29kZVBhY2tldFRvQmluYXJ5KHBhY2tldCwgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkSW5jbHVkZUJpbmFyeUhlYWRlcihwYWNrZXQsIGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVyLndyaXRlKFVpbnQ4QXJyYXkub2YoNTQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZXIud3JpdGUoZGF0YSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0UGFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuc2V0VGltZW91dEZuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9DbG9zZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLnRyYW5zcG9ydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9sbGluZyB9IGZyb20gXCIuL3BvbGxpbmcuanNcIjtcbmltcG9ydCB7IFdTIH0gZnJvbSBcIi4vd2Vic29ja2V0LmpzXCI7XG5pbXBvcnQgeyBXVCB9IGZyb20gXCIuL3dlYnRyYW5zcG9ydC5qc1wiO1xuZXhwb3J0IGNvbnN0IHRyYW5zcG9ydHMgPSB7XG4gICAgd2Vic29ja2V0OiBXUyxcbiAgICB3ZWJ0cmFuc3BvcnQ6IFdULFxuICAgIHBvbGxpbmc6IFBvbGxpbmcsXG59O1xuIiwiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2Fsa24vcGFyc2V1cmlcbi8qKlxuICogUGFyc2VzIGEgVVJJXG4gKlxuICogTm90ZTogd2UgY291bGQgYWxzbyBoYXZlIHVzZWQgdGhlIGJ1aWx0LWluIFVSTCBvYmplY3QsIGJ1dCBpdCBpc24ndCBzdXBwb3J0ZWQgb24gYWxsIHBsYXRmb3Jtcy5cbiAqXG4gKiBTZWU6XG4gKiAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9VUkxcbiAqIC0gaHR0cHM6Ly9jYW5pdXNlLmNvbS91cmxcbiAqIC0gaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzM5ODYjYXBwZW5kaXgtQlxuICpcbiAqIEhpc3Rvcnkgb2YgdGhlIHBhcnNlKCkgbWV0aG9kOlxuICogLSBmaXJzdCBjb21taXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9zb2NrZXRpby9zb2NrZXQuaW8tY2xpZW50L2NvbW1pdC80ZWUxZDVkOTRiMzkwNmE5YzA1MmI0NTlmMWE4MThiMTVmMzhmOTFjXG4gKiAtIGV4cG9ydCBpbnRvIGl0cyBvd24gbW9kdWxlOiBodHRwczovL2dpdGh1Yi5jb20vc29ja2V0aW8vZW5naW5lLmlvLWNsaWVudC9jb21taXQvZGUyYzU2MWU0NTY0ZWZlYjc4ZjFiZGIxYmEzOWVmODFiMjgyMmNiM1xuICogLSByZWltcG9ydDogaHR0cHM6Ly9naXRodWIuY29tL3NvY2tldGlvL2VuZ2luZS5pby1jbGllbnQvY29tbWl0L2RmMzIyNzdjM2Y2ZDYyMmVlYzVlZDA5ZjQ5M2NhZTNmMzM5MWQyNDJcbiAqXG4gKiBAYXV0aG9yIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPiAoTUlUIGxpY2Vuc2UpXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuY29uc3QgcmUgPSAvXig/Oig/IVteOkBcXC8/I10rOlteOkBcXC9dKkApKGh0dHB8aHR0cHN8d3N8d3NzKTpcXC9cXC8pPygoPzooKFteOkBcXC8/I10qKSg/OjooW146QFxcLz8jXSopKT8pP0ApPygoPzpbYS1mMC05XXswLDR9Oil7Miw3fVthLWYwLTldezAsNH18W146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcbmNvbnN0IHBhcnRzID0gW1xuICAgICdzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ1xuXTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgICBjb25zdCBzcmMgPSBzdHIsIGIgPSBzdHIuaW5kZXhPZignWycpLCBlID0gc3RyLmluZGV4T2YoJ10nKTtcbiAgICBpZiAoYiAhPSAtMSAmJiBlICE9IC0xKSB7XG4gICAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgYikgKyBzdHIuc3Vic3RyaW5nKGIsIGUpLnJlcGxhY2UoLzovZywgJzsnKSArIHN0ci5zdWJzdHJpbmcoZSwgc3RyLmxlbmd0aCk7XG4gICAgfVxuICAgIGxldCBtID0gcmUuZXhlYyhzdHIgfHwgJycpLCB1cmkgPSB7fSwgaSA9IDE0O1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdXJpW3BhcnRzW2ldXSA9IG1baV0gfHwgJyc7XG4gICAgfVxuICAgIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcbiAgICAgICAgdXJpLnNvdXJjZSA9IHNyYztcbiAgICAgICAgdXJpLmhvc3QgPSB1cmkuaG9zdC5zdWJzdHJpbmcoMSwgdXJpLmhvc3QubGVuZ3RoIC0gMSkucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuYXV0aG9yaXR5ID0gdXJpLmF1dGhvcml0eS5yZXBsYWNlKCdbJywgJycpLnJlcGxhY2UoJ10nLCAnJykucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuaXB2NnVyaSA9IHRydWU7XG4gICAgfVxuICAgIHVyaS5wYXRoTmFtZXMgPSBwYXRoTmFtZXModXJpLCB1cmlbJ3BhdGgnXSk7XG4gICAgdXJpLnF1ZXJ5S2V5ID0gcXVlcnlLZXkodXJpLCB1cmlbJ3F1ZXJ5J10pO1xuICAgIHJldHVybiB1cmk7XG59XG5mdW5jdGlvbiBwYXRoTmFtZXMob2JqLCBwYXRoKSB7XG4gICAgY29uc3QgcmVneCA9IC9cXC97Miw5fS9nLCBuYW1lcyA9IHBhdGgucmVwbGFjZShyZWd4LCBcIi9cIikuc3BsaXQoXCIvXCIpO1xuICAgIGlmIChwYXRoLnNsaWNlKDAsIDEpID09ICcvJyB8fCBwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBuYW1lcy5zcGxpY2UoMCwgMSk7XG4gICAgfVxuICAgIGlmIChwYXRoLnNsaWNlKC0xKSA9PSAnLycpIHtcbiAgICAgICAgbmFtZXMuc3BsaWNlKG5hbWVzLmxlbmd0aCAtIDEsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXM7XG59XG5mdW5jdGlvbiBxdWVyeUtleSh1cmksIHF1ZXJ5KSB7XG4gICAgY29uc3QgZGF0YSA9IHt9O1xuICAgIHF1ZXJ5LnJlcGxhY2UoLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgICAgICBpZiAoJDEpIHtcbiAgICAgICAgICAgIGRhdGFbJDFdID0gJDI7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbiIsImltcG9ydCB7IHRyYW5zcG9ydHMgfSBmcm9tIFwiLi90cmFuc3BvcnRzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBpbnN0YWxsVGltZXJGdW5jdGlvbnMsIGJ5dGVMZW5ndGggfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBkZWNvZGUgfSBmcm9tIFwiLi9jb250cmliL3BhcnNlcXMuanNcIjtcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIi4vY29udHJpYi9wYXJzZXVyaS5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgeyBwcm90b2NvbCB9IGZyb20gXCJlbmdpbmUuaW8tcGFyc2VyXCI7XG5leHBvcnQgY2xhc3MgU29ja2V0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogU29ja2V0IGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSB1cmkgLSB1cmkgb3Igb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSBbXTtcbiAgICAgICAgaWYgKHVyaSAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgdXJpKSB7XG4gICAgICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICAgICAgdXJpID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJpKSB7XG4gICAgICAgICAgICB1cmkgPSBwYXJzZSh1cmkpO1xuICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSA9IHVyaS5ob3N0O1xuICAgICAgICAgICAgb3B0cy5zZWN1cmUgPSB1cmkucHJvdG9jb2wgPT09IFwiaHR0cHNcIiB8fCB1cmkucHJvdG9jb2wgPT09IFwid3NzXCI7XG4gICAgICAgICAgICBvcHRzLnBvcnQgPSB1cmkucG9ydDtcbiAgICAgICAgICAgIGlmICh1cmkucXVlcnkpXG4gICAgICAgICAgICAgICAgb3B0cy5xdWVyeSA9IHVyaS5xdWVyeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRzLmhvc3QpIHtcbiAgICAgICAgICAgIG9wdHMuaG9zdG5hbWUgPSBwYXJzZShvcHRzLmhvc3QpLmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFsbFRpbWVyRnVuY3Rpb25zKHRoaXMsIG9wdHMpO1xuICAgICAgICB0aGlzLnNlY3VyZSA9XG4gICAgICAgICAgICBudWxsICE9IG9wdHMuc2VjdXJlXG4gICAgICAgICAgICAgICAgPyBvcHRzLnNlY3VyZVxuICAgICAgICAgICAgICAgIDogdHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIFwiaHR0cHM6XCIgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICBpZiAob3B0cy5ob3N0bmFtZSAmJiAhb3B0cy5wb3J0KSB7XG4gICAgICAgICAgICAvLyBpZiBubyBwb3J0IGlzIHNwZWNpZmllZCBtYW51YWxseSwgdXNlIHRoZSBwcm90b2NvbCBkZWZhdWx0XG4gICAgICAgICAgICBvcHRzLnBvcnQgPSB0aGlzLnNlY3VyZSA/IFwiNDQzXCIgOiBcIjgwXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA9XG4gICAgICAgICAgICBvcHRzLmhvc3RuYW1lIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiA/IGxvY2F0aW9uLmhvc3RuYW1lIDogXCJsb2NhbGhvc3RcIik7XG4gICAgICAgIHRoaXMucG9ydCA9XG4gICAgICAgICAgICBvcHRzLnBvcnQgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIGxvY2F0aW9uLnBvcnRcbiAgICAgICAgICAgICAgICAgICAgPyBsb2NhdGlvbi5wb3J0XG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5zZWN1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCI0NDNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIjgwXCIpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydHMgPSBvcHRzLnRyYW5zcG9ydHMgfHwgW1xuICAgICAgICAgICAgXCJwb2xsaW5nXCIsXG4gICAgICAgICAgICBcIndlYnNvY2tldFwiLFxuICAgICAgICAgICAgXCJ3ZWJ0cmFuc3BvcnRcIixcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnByZXZCdWZmZXJMZW4gPSAwO1xuICAgICAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHBhdGg6IFwiL2VuZ2luZS5pb1wiLFxuICAgICAgICAgICAgYWdlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgICAgIHVwZ3JhZGU6IHRydWUsXG4gICAgICAgICAgICB0aW1lc3RhbXBQYXJhbTogXCJ0XCIsXG4gICAgICAgICAgICByZW1lbWJlclVwZ3JhZGU6IGZhbHNlLFxuICAgICAgICAgICAgYWRkVHJhaWxpbmdTbGFzaDogdHJ1ZSxcbiAgICAgICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgICAgICAgIHBlck1lc3NhZ2VEZWZsYXRlOiB7XG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiAxMDI0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHt9LFxuICAgICAgICAgICAgY2xvc2VPbkJlZm9yZXVubG9hZDogZmFsc2UsXG4gICAgICAgIH0sIG9wdHMpO1xuICAgICAgICB0aGlzLm9wdHMucGF0aCA9XG4gICAgICAgICAgICB0aGlzLm9wdHMucGF0aC5yZXBsYWNlKC9cXC8kLywgXCJcIikgK1xuICAgICAgICAgICAgICAgICh0aGlzLm9wdHMuYWRkVHJhaWxpbmdTbGFzaCA/IFwiL1wiIDogXCJcIik7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRzLnF1ZXJ5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aGlzLm9wdHMucXVlcnkgPSBkZWNvZGUodGhpcy5vcHRzLnF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgb24gaGFuZHNoYWtlXG4gICAgICAgIHRoaXMuaWQgPSBudWxsO1xuICAgICAgICB0aGlzLnVwZ3JhZGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5waW5nSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLnBpbmdUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgLy8gc2V0IG9uIGhlYXJ0YmVhdFxuICAgICAgICB0aGlzLnBpbmdUaW1lb3V0VGltZXIgPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbG9zZU9uQmVmb3JldW5sb2FkKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCBjbG9zZXMgdGhlIGNvbm5lY3Rpb24gd2hlbiB0aGUgXCJiZWZvcmV1bmxvYWRcIiBldmVudCBpcyBlbWl0dGVkIGJ1dCBub3QgQ2hyb21lLiBUaGlzIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlcyBldmVyeSBicm93c2VyIGJlaGF2ZXMgdGhlIHNhbWUgKG5vIFwiZGlzY29ubmVjdFwiIGV2ZW50IGF0IHRoZSBTb2NrZXQuSU8gbGV2ZWwgd2hlbiB0aGUgcGFnZSBpc1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlZC9yZWxvYWRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmJlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2lsZW50bHkgY2xvc2UgdGhlIHRyYW5zcG9ydFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMuYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaG9zdG5hbWUgIT09IFwibG9jYWxob3N0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwibmV0d29yayBjb25uZWN0aW9uIGxvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCB0aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdHJhbnNwb3J0IG9mIHRoZSBnaXZlbiB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0cmFuc3BvcnQgbmFtZVxuICAgICAqIEByZXR1cm4ge1RyYW5zcG9ydH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNyZWF0ZVRyYW5zcG9ydChuYW1lKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLnF1ZXJ5KTtcbiAgICAgICAgLy8gYXBwZW5kIGVuZ2luZS5pbyBwcm90b2NvbCBpZGVudGlmaWVyXG4gICAgICAgIHF1ZXJ5LkVJTyA9IHByb3RvY29sO1xuICAgICAgICAvLyB0cmFuc3BvcnQgbmFtZVxuICAgICAgICBxdWVyeS50cmFuc3BvcnQgPSBuYW1lO1xuICAgICAgICAvLyBzZXNzaW9uIGlkIGlmIHdlIGFscmVhZHkgaGF2ZSBvbmVcbiAgICAgICAgaWYgKHRoaXMuaWQpXG4gICAgICAgICAgICBxdWVyeS5zaWQgPSB0aGlzLmlkO1xuICAgICAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIHNvY2tldDogdGhpcyxcbiAgICAgICAgICAgIGhvc3RuYW1lOiB0aGlzLmhvc3RuYW1lLFxuICAgICAgICAgICAgc2VjdXJlOiB0aGlzLnNlY3VyZSxcbiAgICAgICAgICAgIHBvcnQ6IHRoaXMucG9ydCxcbiAgICAgICAgfSwgdGhpcy5vcHRzLnRyYW5zcG9ydE9wdGlvbnNbbmFtZV0pO1xuICAgICAgICByZXR1cm4gbmV3IHRyYW5zcG9ydHNbbmFtZV0ob3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRyYW5zcG9ydCB0byB1c2UgYW5kIHN0YXJ0cyBwcm9iZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgICAgbGV0IHRyYW5zcG9ydDtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5yZW1lbWJlclVwZ3JhZGUgJiZcbiAgICAgICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0cy5pbmRleE9mKFwid2Vic29ja2V0XCIpICE9PSAtMSkge1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gXCJ3ZWJzb2NrZXRcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgwID09PSB0aGlzLnRyYW5zcG9ydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBFbWl0IGVycm9yIG9uIG5leHQgdGljayBzbyBpdCBjYW4gYmUgbGlzdGVuZWQgdG9cbiAgICAgICAgICAgIHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIFwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zcG9ydCA9IHRoaXMudHJhbnNwb3J0c1swXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5pbmdcIjtcbiAgICAgICAgLy8gUmV0cnkgd2l0aCB0aGUgbmV4dCB0cmFuc3BvcnQgaWYgdGhlIHRyYW5zcG9ydCBpcyBkaXNhYmxlZCAoanNvbnA6IGZhbHNlKVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gdGhpcy5jcmVhdGVUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc3BvcnQub3BlbigpO1xuICAgICAgICB0aGlzLnNldFRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHRyYW5zcG9ydC4gRGlzYWJsZXMgdGhlIGV4aXN0aW5nIG9uZSAoaWYgYW55KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCkge1xuICAgICAgICBpZiAodGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCB1cCB0cmFuc3BvcnRcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIC8vIHNldCB1cCB0cmFuc3BvcnQgbGlzdGVuZXJzXG4gICAgICAgIHRyYW5zcG9ydFxuICAgICAgICAgICAgLm9uKFwiZHJhaW5cIiwgdGhpcy5vbkRyYWluLmJpbmQodGhpcykpXG4gICAgICAgICAgICAub24oXCJwYWNrZXRcIiwgdGhpcy5vblBhY2tldC5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgLm9uKFwiZXJyb3JcIiwgdGhpcy5vbkVycm9yLmJpbmQodGhpcykpXG4gICAgICAgICAgICAub24oXCJjbG9zZVwiLCAocmVhc29uKSA9PiB0aGlzLm9uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIiwgcmVhc29uKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2JlcyBhIHRyYW5zcG9ydC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdHJhbnNwb3J0IG5hbWVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb2JlKG5hbWUpIHtcbiAgICAgICAgbGV0IHRyYW5zcG9ydCA9IHRoaXMuY3JlYXRlVHJhbnNwb3J0KG5hbWUpO1xuICAgICAgICBsZXQgZmFpbGVkID0gZmFsc2U7XG4gICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgb25UcmFuc3BvcnRPcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0cmFuc3BvcnQuc2VuZChbeyB0eXBlOiBcInBpbmdcIiwgZGF0YTogXCJwcm9iZVwiIH1dKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5vbmNlKFwicGFja2V0XCIsIChtc2cpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKFwicG9uZ1wiID09PSBtc2cudHlwZSAmJiBcInByb2JlXCIgPT09IG1zZy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBncmFkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRpbmdcIiwgdHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc3BvcnQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBcIndlYnNvY2tldFwiID09PSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucGF1c2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuc2VuZChbeyB0eXBlOiBcInVwZ3JhZGVcIiB9XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVcIiwgdHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZ3JhZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcInByb2JlIGVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGVyci50cmFuc3BvcnQgPSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlRXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gZnJlZXplVHJhbnNwb3J0KCkge1xuICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBBbnkgY2FsbGJhY2sgY2FsbGVkIGJ5IHRyYW5zcG9ydCBzaG91bGQgYmUgaWdub3JlZCBzaW5jZSBub3dcbiAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICB0cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGFueSBlcnJvciB0aGF0IGhhcHBlbnMgd2hpbGUgcHJvYmluZ1xuICAgICAgICBjb25zdCBvbmVycm9yID0gKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJwcm9iZSBlcnJvcjogXCIgKyBlcnIpO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgZXJyb3IudHJhbnNwb3J0ID0gdHJhbnNwb3J0Lm5hbWU7XG4gICAgICAgICAgICBmcmVlemVUcmFuc3BvcnQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZUVycm9yXCIsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gb25UcmFuc3BvcnRDbG9zZSgpIHtcbiAgICAgICAgICAgIG9uZXJyb3IoXCJ0cmFuc3BvcnQgY2xvc2VkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhlIHNvY2tldCBpcyBjbG9zZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuICAgICAgICBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgICAgICAgICAgb25lcnJvcihcInNvY2tldCBjbG9zZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGUgc29ja2V0IGlzIHVwZ3JhZGVkIHdoaWxlIHdlJ3JlIHByb2JpbmdcbiAgICAgICAgZnVuY3Rpb24gb251cGdyYWRlKHRvKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNwb3J0ICYmIHRvLm5hbWUgIT09IHRyYW5zcG9ydC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZnJlZXplVHJhbnNwb3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgb24gdGhlIHRyYW5zcG9ydCBhbmQgb24gc2VsZlxuICAgICAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgICAgICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKFwib3BlblwiLCBvblRyYW5zcG9ydE9wZW4pO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgb25lcnJvcik7XG4gICAgICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLCBvblRyYW5zcG9ydENsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwiY2xvc2VcIiwgb25jbG9zZSk7XG4gICAgICAgICAgICB0aGlzLm9mZihcInVwZ3JhZGluZ1wiLCBvbnVwZ3JhZGUpO1xuICAgICAgICB9O1xuICAgICAgICB0cmFuc3BvcnQub25jZShcIm9wZW5cIiwgb25UcmFuc3BvcnRPcGVuKTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJlcnJvclwiLCBvbmVycm9yKTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJjbG9zZVwiLCBvblRyYW5zcG9ydENsb3NlKTtcbiAgICAgICAgdGhpcy5vbmNlKFwiY2xvc2VcIiwgb25jbG9zZSk7XG4gICAgICAgIHRoaXMub25jZShcInVwZ3JhZGluZ1wiLCBvbnVwZ3JhZGUpO1xuICAgICAgICBpZiAodGhpcy51cGdyYWRlcy5pbmRleE9mKFwid2VidHJhbnNwb3J0XCIpICE9PSAtMSAmJlxuICAgICAgICAgICAgbmFtZSAhPT0gXCJ3ZWJ0cmFuc3BvcnRcIikge1xuICAgICAgICAgICAgLy8gZmF2b3IgV2ViVHJhbnNwb3J0XG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFmYWlsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBjb25uZWN0aW9uIGlzIGRlZW1lZCBvcGVuLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlblwiO1xuICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gXCJ3ZWJzb2NrZXRcIiA9PT0gdGhpcy50cmFuc3BvcnQubmFtZTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJvcGVuXCIpO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIC8vIHdlIGNoZWNrIGZvciBgcmVhZHlTdGF0ZWAgaW4gY2FzZSBhbiBgb3BlbmBcbiAgICAgICAgLy8gbGlzdGVuZXIgYWxyZWFkeSBjbG9zZWQgdGhlIHNvY2tldFxuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSAmJiB0aGlzLm9wdHMudXBncmFkZSkge1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgY29uc3QgbCA9IHRoaXMudXBncmFkZXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2JlKHRoaXMudXBncmFkZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uUGFja2V0KHBhY2tldCkge1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJjbG9zaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgIC8vIFNvY2tldCBpcyBsaXZlIC0gYW55IHBhY2tldCBjb3VudHNcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiaGVhcnRiZWF0XCIpO1xuICAgICAgICAgICAgc3dpdGNoIChwYWNrZXQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25IYW5kc2hha2UoSlNPTi5wYXJzZShwYWNrZXQuZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGFja2V0KFwicG9uZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXCJzZXJ2ZXIgZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgZXJyLmNvZGUgPSBwYWNrZXQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwibWVzc2FnZVwiLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGhhbmRzaGFrZSBjb21wbGV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBoYW5kc2hha2Ugb2JqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkhhbmRzaGFrZShkYXRhKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiaGFuZHNoYWtlXCIsIGRhdGEpO1xuICAgICAgICB0aGlzLmlkID0gZGF0YS5zaWQ7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZCA9IGRhdGEuc2lkO1xuICAgICAgICB0aGlzLnVwZ3JhZGVzID0gdGhpcy5maWx0ZXJVcGdyYWRlcyhkYXRhLnVwZ3JhZGVzKTtcbiAgICAgICAgdGhpcy5waW5nSW50ZXJ2YWwgPSBkYXRhLnBpbmdJbnRlcnZhbDtcbiAgICAgICAgdGhpcy5waW5nVGltZW91dCA9IGRhdGEucGluZ1RpbWVvdXQ7XG4gICAgICAgIHRoaXMubWF4UGF5bG9hZCA9IGRhdGEubWF4UGF5bG9hZDtcbiAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgLy8gSW4gY2FzZSBvcGVuIGhhbmRsZXIgY2xvc2VzIHNvY2tldFxuICAgICAgICBpZiAoXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhbmQgcmVzZXRzIHBpbmcgdGltZW91dCB0aW1lciBiYXNlZCBvbiBzZXJ2ZXIgcGluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlc2V0UGluZ1RpbWVvdXQoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5waW5nVGltZW91dFRpbWVyKTtcbiAgICAgICAgdGhpcy5waW5nVGltZW91dFRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpO1xuICAgICAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbCArIHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgICAgdGhpcy5waW5nVGltZW91dFRpbWVyLnVucmVmKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGBkcmFpbmAgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25EcmFpbigpIHtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5zcGxpY2UoMCwgdGhpcy5wcmV2QnVmZmVyTGVuKTtcbiAgICAgICAgLy8gc2V0dGluZyBwcmV2QnVmZmVyTGVuID0gMCBpcyB2ZXJ5IGltcG9ydGFudFxuICAgICAgICAvLyBmb3IgZXhhbXBsZSwgd2hlbiB1cGdyYWRpbmcsIHVwZ3JhZGUgcGFja2V0IGlzIHNlbnQgb3ZlcixcbiAgICAgICAgLy8gYW5kIGEgbm9uemVybyBwcmV2QnVmZmVyTGVuIGNvdWxkIGNhdXNlIHByb2JsZW1zIG9uIGBkcmFpbmBcbiAgICAgICAgdGhpcy5wcmV2QnVmZmVyTGVuID0gMDtcbiAgICAgICAgaWYgKDAgPT09IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsdXNoIHdyaXRlIGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZsdXNoKCkge1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC53cml0YWJsZSAmJlxuICAgICAgICAgICAgIXRoaXMudXBncmFkaW5nICYmXG4gICAgICAgICAgICB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcGFja2V0cyA9IHRoaXMuZ2V0V3JpdGFibGVQYWNrZXRzKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKHBhY2tldHMpO1xuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBjdXJyZW50IGxlbmd0aCBvZiB3cml0ZUJ1ZmZlclxuICAgICAgICAgICAgLy8gc3BsaWNlIHdyaXRlQnVmZmVyIGFuZCBjYWxsYmFja0J1ZmZlciBvbiBgZHJhaW5gXG4gICAgICAgICAgICB0aGlzLnByZXZCdWZmZXJMZW4gPSBwYWNrZXRzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZmx1c2hcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlIHRoZSBlbmNvZGVkIHNpemUgb2YgdGhlIHdyaXRlQnVmZmVyIGlzIGJlbG93IHRoZSBtYXhQYXlsb2FkIHZhbHVlIHNlbnQgYnkgdGhlIHNlcnZlciAob25seSBmb3IgSFRUUFxuICAgICAqIGxvbmctcG9sbGluZylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0V3JpdGFibGVQYWNrZXRzKCkge1xuICAgICAgICBjb25zdCBzaG91bGRDaGVja1BheWxvYWRTaXplID0gdGhpcy5tYXhQYXlsb2FkICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5uYW1lID09PSBcInBvbGxpbmdcIiAmJlxuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGggPiAxO1xuICAgICAgICBpZiAoIXNob3VsZENoZWNrUGF5bG9hZFNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXlsb2FkU2l6ZSA9IDE7IC8vIGZpcnN0IHBhY2tldCB0eXBlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMud3JpdGVCdWZmZXJbaV0uZGF0YTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gYnl0ZUxlbmd0aChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID4gMCAmJiBwYXlsb2FkU2l6ZSA+IHRoaXMubWF4UGF5bG9hZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gMjsgLy8gc2VwYXJhdG9yICsgcGFja2V0IHR5cGVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyAtIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7U29ja2V0fSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgd3JpdGUobXNnLCBvcHRpb25zLCBmbikge1xuICAgICAgICB0aGlzLnNlbmRQYWNrZXQoXCJtZXNzYWdlXCIsIG1zZywgb3B0aW9ucywgZm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2VuZChtc2csIG9wdGlvbnMsIGZuKSB7XG4gICAgICAgIHRoaXMuc2VuZFBhY2tldChcIm1lc3NhZ2VcIiwgbXNnLCBvcHRpb25zLCBmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlOiBwYWNrZXQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2VuZFBhY2tldCh0eXBlLCBkYXRhLCBvcHRpb25zLCBmbikge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZGF0YSkge1xuICAgICAgICAgICAgZm4gPSBkYXRhO1xuICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgZm4gPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiY2xvc2luZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMuY29tcHJlc3MgPSBmYWxzZSAhPT0gb3B0aW9ucy5jb21wcmVzcztcbiAgICAgICAgY29uc3QgcGFja2V0ID0ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldENyZWF0ZVwiLCBwYWNrZXQpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyLnB1c2gocGFja2V0KTtcbiAgICAgICAgaWYgKGZuKVxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiZmx1c2hcIiwgZm4pO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoXCJmb3JjZWQgY2xvc2VcIik7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjbGVhbnVwQW5kQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9mZihcInVwZ3JhZGVcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwidXBncmFkZUVycm9yXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3YWl0Rm9yVXBncmFkZSA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIHVwZ3JhZGUgdG8gZmluaXNoIHNpbmNlIHdlIGNhbid0IHNlbmQgcGFja2V0cyB3aGlsZSBwYXVzaW5nIGEgdHJhbnNwb3J0XG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJ1cGdyYWRlXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJ1cGdyYWRlRXJyb3JcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJjbG9zaW5nXCI7XG4gICAgICAgICAgICBpZiAodGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoXCJkcmFpblwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwZ3JhZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdEZvclVwZ3JhZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICAgICAgICAgICAgd2FpdEZvclVwZ3JhZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBlcnJvclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkVycm9yKGVycikge1xuICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgdGhpcy5vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsIGVycik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25DbG9zZShyZWFzb24sIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICAgICAgICBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICAgICAgICBcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBjbGVhciB0aW1lcnNcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5waW5nVGltZW91dFRpbWVyKTtcbiAgICAgICAgICAgIC8vIHN0b3AgZXZlbnQgZnJvbSBmaXJpbmcgYWdhaW4gZm9yIHRyYW5zcG9ydFxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VcIik7XG4gICAgICAgICAgICAvLyBlbnN1cmUgdHJhbnNwb3J0IHdvbid0IHN0YXkgb3BlblxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBmdXJ0aGVyIHRyYW5zcG9ydCBjb21tdW5pY2F0aW9uXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLmJlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCB0aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXQgcmVhZHkgc3RhdGVcbiAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgICAgICAvLyBjbGVhciBzZXNzaW9uIGlkXG4gICAgICAgICAgICB0aGlzLmlkID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGVtaXQgY2xvc2UgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY2xvc2VcIiwgcmVhc29uLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAvLyBjbGVhbiBidWZmZXJzIGFmdGVyLCBzbyB1c2VycyBjYW4gc3RpbGxcbiAgICAgICAgICAgIC8vIGdyYWIgdGhlIGJ1ZmZlcnMgb24gYGNsb3NlYCBldmVudFxuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgdGhpcy5wcmV2QnVmZmVyTGVuID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJzIHVwZ3JhZGVzLCByZXR1cm5pbmcgb25seSB0aG9zZSBtYXRjaGluZyBjbGllbnQgdHJhbnNwb3J0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHVwZ3JhZGVzIC0gc2VydmVyIHVwZ3JhZGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmaWx0ZXJVcGdyYWRlcyh1cGdyYWRlcykge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFVwZ3JhZGVzID0gW107XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgY29uc3QgaiA9IHVwZ3JhZGVzLmxlbmd0aDtcbiAgICAgICAgZm9yICg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh+dGhpcy50cmFuc3BvcnRzLmluZGV4T2YodXBncmFkZXNbaV0pKVxuICAgICAgICAgICAgICAgIGZpbHRlcmVkVXBncmFkZXMucHVzaCh1cGdyYWRlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkVXBncmFkZXM7XG4gICAgfVxufVxuU29ja2V0LnByb3RvY29sID0gcHJvdG9jb2w7XG4iLCJpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbmV4cG9ydCB7IFNvY2tldCB9O1xuZXhwb3J0IGNvbnN0IHByb3RvY29sID0gU29ja2V0LnByb3RvY29sO1xuZXhwb3J0IHsgVHJhbnNwb3J0IH0gZnJvbSBcIi4vdHJhbnNwb3J0LmpzXCI7XG5leHBvcnQgeyB0cmFuc3BvcnRzIH0gZnJvbSBcIi4vdHJhbnNwb3J0cy9pbmRleC5qc1wiO1xuZXhwb3J0IHsgaW5zdGFsbFRpbWVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9jb250cmliL3BhcnNldXJpLmpzXCI7XG5leHBvcnQgeyBuZXh0VGljayB9IGZyb20gXCIuL3RyYW5zcG9ydHMvd2Vic29ja2V0LWNvbnN0cnVjdG9yLmpzXCI7XG4iLCJjb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbmNvbnN0IGlzVmlldyA9IChvYmopID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gQXJyYXlCdWZmZXIuaXNWaWV3KG9iailcbiAgICAgICAgOiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3Qgd2l0aE5hdGl2ZUJsb2IgPSB0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBCbG9iICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwoQmxvYikgPT09IFwiW29iamVjdCBCbG9iQ29uc3RydWN0b3JdXCIpO1xuY29uc3Qgd2l0aE5hdGl2ZUZpbGUgPSB0eXBlb2YgRmlsZSA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBGaWxlICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwoRmlsZSkgPT09IFwiW29iamVjdCBGaWxlQ29uc3RydWN0b3JdXCIpO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqIGlzIGEgQnVmZmVyLCBhbiBBcnJheUJ1ZmZlciwgYSBCbG9iIG9yIGEgRmlsZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCaW5hcnkob2JqKSB7XG4gICAgcmV0dXJuICgod2l0aE5hdGl2ZUFycmF5QnVmZmVyICYmIChvYmogaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc1ZpZXcob2JqKSkpIHx8XG4gICAgICAgICh3aXRoTmF0aXZlQmxvYiAmJiBvYmogaW5zdGFuY2VvZiBCbG9iKSB8fFxuICAgICAgICAod2l0aE5hdGl2ZUZpbGUgJiYgb2JqIGluc3RhbmNlb2YgRmlsZSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0JpbmFyeShvYmosIHRvSlNPTikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKGhhc0JpbmFyeShvYmpbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNCaW5hcnkob2JqKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9iai50b0pTT04gJiZcbiAgICAgICAgdHlwZW9mIG9iai50b0pTT04gPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICBhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBoYXNCaW5hcnkob2JqLnRvSlNPTigpLCB0cnVlKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpICYmIGhhc0JpbmFyeShvYmpba2V5XSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImltcG9ydCB7IGlzQmluYXJ5IH0gZnJvbSBcIi4vaXMtYmluYXJ5LmpzXCI7XG4vKipcbiAqIFJlcGxhY2VzIGV2ZXJ5IEJ1ZmZlciB8IEFycmF5QnVmZmVyIHwgQmxvYiB8IEZpbGUgaW4gcGFja2V0IHdpdGggYSBudW1iZXJlZCBwbGFjZWhvbGRlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gc29ja2V0LmlvIGV2ZW50IHBhY2tldFxuICogQHJldHVybiB7T2JqZWN0fSB3aXRoIGRlY29uc3RydWN0ZWQgcGFja2V0IGFuZCBsaXN0IG9mIGJ1ZmZlcnNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29uc3RydWN0UGFja2V0KHBhY2tldCkge1xuICAgIGNvbnN0IGJ1ZmZlcnMgPSBbXTtcbiAgICBjb25zdCBwYWNrZXREYXRhID0gcGFja2V0LmRhdGE7XG4gICAgY29uc3QgcGFjayA9IHBhY2tldDtcbiAgICBwYWNrLmRhdGEgPSBfZGVjb25zdHJ1Y3RQYWNrZXQocGFja2V0RGF0YSwgYnVmZmVycyk7XG4gICAgcGFjay5hdHRhY2htZW50cyA9IGJ1ZmZlcnMubGVuZ3RoOyAvLyBudW1iZXIgb2YgYmluYXJ5ICdhdHRhY2htZW50cydcbiAgICByZXR1cm4geyBwYWNrZXQ6IHBhY2ssIGJ1ZmZlcnM6IGJ1ZmZlcnMgfTtcbn1cbmZ1bmN0aW9uIF9kZWNvbnN0cnVjdFBhY2tldChkYXRhLCBidWZmZXJzKSB7XG4gICAgaWYgKCFkYXRhKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICBpZiAoaXNCaW5hcnkoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSB7IF9wbGFjZWhvbGRlcjogdHJ1ZSwgbnVtOiBidWZmZXJzLmxlbmd0aCB9O1xuICAgICAgICBidWZmZXJzLnB1c2goZGF0YSk7XG4gICAgICAgIHJldHVybiBwbGFjZWhvbGRlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0gbmV3IEFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuZXdEYXRhW2ldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFbaV0sIGJ1ZmZlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiAhKGRhdGEgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0RhdGFba2V5XSA9IF9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2tleV0sIGJ1ZmZlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogUmVjb25zdHJ1Y3RzIGEgYmluYXJ5IHBhY2tldCBmcm9tIGl0cyBwbGFjZWhvbGRlciBwYWNrZXQgYW5kIGJ1ZmZlcnNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gZXZlbnQgcGFja2V0IHdpdGggcGxhY2Vob2xkZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBidWZmZXJzIC0gYmluYXJ5IGJ1ZmZlcnMgdG8gcHV0IGluIHBsYWNlaG9sZGVyIHBvc2l0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSByZWNvbnN0cnVjdGVkIHBhY2tldFxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjb25zdHJ1Y3RQYWNrZXQocGFja2V0LCBidWZmZXJzKSB7XG4gICAgcGFja2V0LmRhdGEgPSBfcmVjb25zdHJ1Y3RQYWNrZXQocGFja2V0LmRhdGEsIGJ1ZmZlcnMpO1xuICAgIGRlbGV0ZSBwYWNrZXQuYXR0YWNobWVudHM7IC8vIG5vIGxvbmdlciB1c2VmdWxcbiAgICByZXR1cm4gcGFja2V0O1xufVxuZnVuY3Rpb24gX3JlY29uc3RydWN0UGFja2V0KGRhdGEsIGJ1ZmZlcnMpIHtcbiAgICBpZiAoIWRhdGEpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIGlmIChkYXRhICYmIGRhdGEuX3BsYWNlaG9sZGVyID09PSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGlzSW5kZXhWYWxpZCA9IHR5cGVvZiBkYXRhLm51bSA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAgICAgZGF0YS5udW0gPj0gMCAmJlxuICAgICAgICAgICAgZGF0YS5udW0gPCBidWZmZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGlzSW5kZXhWYWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcnNbZGF0YS5udW1dOyAvLyBhcHByb3ByaWF0ZSBidWZmZXIgKHNob3VsZCBiZSBuYXR1cmFsIG9yZGVyIGFueXdheSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgYXR0YWNobWVudHNcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbaV0gPSBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtpXSwgYnVmZmVycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtrZXldID0gX3JlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG4iLCJpbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IGRlY29uc3RydWN0UGFja2V0LCByZWNvbnN0cnVjdFBhY2tldCB9IGZyb20gXCIuL2JpbmFyeS5qc1wiO1xuaW1wb3J0IHsgaXNCaW5hcnksIGhhc0JpbmFyeSB9IGZyb20gXCIuL2lzLWJpbmFyeS5qc1wiO1xuLyoqXG4gKiBUaGVzZSBzdHJpbmdzIG11c3Qgbm90IGJlIHVzZWQgYXMgZXZlbnQgbmFtZXMsIGFzIHRoZXkgaGF2ZSBhIHNwZWNpYWwgbWVhbmluZy5cbiAqL1xuY29uc3QgUkVTRVJWRURfRVZFTlRTID0gW1xuICAgIFwiY29ubmVjdFwiLFxuICAgIFwiY29ubmVjdF9lcnJvclwiLFxuICAgIFwiZGlzY29ubmVjdFwiLFxuICAgIFwiZGlzY29ubmVjdGluZ1wiLFxuICAgIFwibmV3TGlzdGVuZXJcIixcbiAgICBcInJlbW92ZUxpc3RlbmVyXCIsIC8vIHVzZWQgYnkgdGhlIE5vZGUuanMgRXZlbnRFbWl0dGVyXG5dO1xuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHByb3RvY29sID0gNTtcbmV4cG9ydCB2YXIgUGFja2V0VHlwZTtcbihmdW5jdGlvbiAoUGFja2V0VHlwZSkge1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkNPTk5FQ1RcIl0gPSAwXSA9IFwiQ09OTkVDVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkRJU0NPTk5FQ1RcIl0gPSAxXSA9IFwiRElTQ09OTkVDVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkVWRU5UXCJdID0gMl0gPSBcIkVWRU5UXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQUNLXCJdID0gM10gPSBcIkFDS1wiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkNPTk5FQ1RfRVJST1JcIl0gPSA0XSA9IFwiQ09OTkVDVF9FUlJPUlwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkJJTkFSWV9FVkVOVFwiXSA9IDVdID0gXCJCSU5BUllfRVZFTlRcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJCSU5BUllfQUNLXCJdID0gNl0gPSBcIkJJTkFSWV9BQ0tcIjtcbn0pKFBhY2tldFR5cGUgfHwgKFBhY2tldFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBBIHNvY2tldC5pbyBFbmNvZGVyIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBFbmNvZGVyIHtcbiAgICAvKipcbiAgICAgKiBFbmNvZGVyIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSByZXBsYWNlciAtIGN1c3RvbSByZXBsYWNlciB0byBwYXNzIGRvd24gdG8gSlNPTi5wYXJzZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlcGxhY2VyKSB7XG4gICAgICAgIHRoaXMucmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlIGEgcGFja2V0IGFzIGEgc2luZ2xlIHN0cmluZyBpZiBub24tYmluYXJ5LCBvciBhcyBhXG4gICAgICogYnVmZmVyIHNlcXVlbmNlLCBkZXBlbmRpbmcgb24gcGFja2V0IHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gcGFja2V0IG9iamVjdFxuICAgICAqL1xuICAgIGVuY29kZShvYmopIHtcbiAgICAgICAgaWYgKG9iai50eXBlID09PSBQYWNrZXRUeXBlLkVWRU5UIHx8IG9iai50eXBlID09PSBQYWNrZXRUeXBlLkFDSykge1xuICAgICAgICAgICAgaWYgKGhhc0JpbmFyeShvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlQXNCaW5hcnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5FVkVOVFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBQYWNrZXRUeXBlLkJJTkFSWV9BQ0ssXG4gICAgICAgICAgICAgICAgICAgIG5zcDogb2JqLm5zcCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogb2JqLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBvYmouaWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0aGlzLmVuY29kZUFzU3RyaW5nKG9iaildO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGUgcGFja2V0IGFzIHN0cmluZy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc1N0cmluZyhvYmopIHtcbiAgICAgICAgLy8gZmlyc3QgaXMgdHlwZVxuICAgICAgICBsZXQgc3RyID0gXCJcIiArIG9iai50eXBlO1xuICAgICAgICAvLyBhdHRhY2htZW50cyBpZiB3ZSBoYXZlIHRoZW1cbiAgICAgICAgaWYgKG9iai50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgc3RyICs9IG9iai5hdHRhY2htZW50cyArIFwiLVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBuYW1lc3BhY2Ugb3RoZXIgdGhhbiBgL2BcbiAgICAgICAgLy8gd2UgYXBwZW5kIGl0IGZvbGxvd2VkIGJ5IGEgY29tbWEgYCxgXG4gICAgICAgIGlmIChvYmoubnNwICYmIFwiL1wiICE9PSBvYmoubnNwKSB7XG4gICAgICAgICAgICBzdHIgKz0gb2JqLm5zcCArIFwiLFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IHRoZSBpZFxuICAgICAgICBpZiAobnVsbCAhPSBvYmouaWQpIHtcbiAgICAgICAgICAgIHN0ciArPSBvYmouaWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8ganNvbiBkYXRhXG4gICAgICAgIGlmIChudWxsICE9IG9iai5kYXRhKSB7XG4gICAgICAgICAgICBzdHIgKz0gSlNPTi5zdHJpbmdpZnkob2JqLmRhdGEsIHRoaXMucmVwbGFjZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBwYWNrZXQgYXMgJ2J1ZmZlciBzZXF1ZW5jZScgYnkgcmVtb3ZpbmcgYmxvYnMsIGFuZFxuICAgICAqIGRlY29uc3RydWN0aW5nIHBhY2tldCBpbnRvIG9iamVjdCB3aXRoIHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBhIGxpc3Qgb2YgYnVmZmVycy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc0JpbmFyeShvYmopIHtcbiAgICAgICAgY29uc3QgZGVjb25zdHJ1Y3Rpb24gPSBkZWNvbnN0cnVjdFBhY2tldChvYmopO1xuICAgICAgICBjb25zdCBwYWNrID0gdGhpcy5lbmNvZGVBc1N0cmluZyhkZWNvbnN0cnVjdGlvbi5wYWNrZXQpO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZGVjb25zdHJ1Y3Rpb24uYnVmZmVycztcbiAgICAgICAgYnVmZmVycy51bnNoaWZ0KHBhY2spOyAvLyBhZGQgcGFja2V0IGluZm8gdG8gYmVnaW5uaW5nIG9mIGRhdGEgbGlzdFxuICAgICAgICByZXR1cm4gYnVmZmVyczsgLy8gd3JpdGUgYWxsIHRoZSBidWZmZXJzXG4gICAgfVxufVxuLy8gc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MTEyODEvY2hlY2staWYtYS12YWx1ZS1pcy1hbi1vYmplY3QtaW4tamF2YXNjcmlwdFxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbn1cbi8qKlxuICogQSBzb2NrZXQuaW8gRGVjb2RlciBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZGVjb2RlclxuICovXG5leHBvcnQgY2xhc3MgRGVjb2RlciBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIERlY29kZXIgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJldml2ZXIgLSBjdXN0b20gcmV2aXZlciB0byBwYXNzIGRvd24gdG8gSlNPTi5zdHJpbmdpZnlcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXZpdmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmV2aXZlciA9IHJldml2ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY29kZXMgYW4gZW5jb2RlZCBwYWNrZXQgc3RyaW5nIGludG8gcGFja2V0IEpTT04uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqIC0gZW5jb2RlZCBwYWNrZXRcbiAgICAgKi9cbiAgICBhZGQob2JqKSB7XG4gICAgICAgIGxldCBwYWNrZXQ7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ290IHBsYWludGV4dCBkYXRhIHdoZW4gcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZXQgPSB0aGlzLmRlY29kZVN0cmluZyhvYmopO1xuICAgICAgICAgICAgY29uc3QgaXNCaW5hcnlFdmVudCA9IHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVDtcbiAgICAgICAgICAgIGlmIChpc0JpbmFyeUV2ZW50IHx8IHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgICAgICAgICBwYWNrZXQudHlwZSA9IGlzQmluYXJ5RXZlbnQgPyBQYWNrZXRUeXBlLkVWRU5UIDogUGFja2V0VHlwZS5BQ0s7XG4gICAgICAgICAgICAgICAgLy8gYmluYXJ5IHBhY2tldCdzIGpzb25cbiAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBuZXcgQmluYXJ5UmVjb25zdHJ1Y3RvcihwYWNrZXQpO1xuICAgICAgICAgICAgICAgIC8vIG5vIGF0dGFjaG1lbnRzLCBsYWJlbGVkIGJpbmFyeSBidXQgbm8gYmluYXJ5IGRhdGEgdG8gZm9sbG93XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC5hdHRhY2htZW50cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm9uLWJpbmFyeSBmdWxsIHBhY2tldFxuICAgICAgICAgICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImRlY29kZWRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0JpbmFyeShvYmopIHx8IG9iai5iYXNlNjQpIHtcbiAgICAgICAgICAgIC8vIHJhdyBiaW5hcnkgZGF0YVxuICAgICAgICAgICAgaWYgKCF0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnb3QgYmluYXJ5IGRhdGEgd2hlbiBub3QgcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWNrZXQgPSB0aGlzLnJlY29uc3RydWN0b3IudGFrZUJpbmFyeURhdGEob2JqKTtcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY2VpdmVkIGZpbmFsIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIiArIG9iaik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlIGEgcGFja2V0IFN0cmluZyAoSlNPTiBkYXRhKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAgICAqIEByZXR1cm4ge09iamVjdH0gcGFja2V0XG4gICAgICovXG4gICAgZGVjb2RlU3RyaW5nKHN0cikge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIC8vIGxvb2sgdXAgdHlwZVxuICAgICAgICBjb25zdCBwID0ge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyKHN0ci5jaGFyQXQoMCkpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoUGFja2V0VHlwZVtwLnR5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVua25vd24gcGFja2V0IHR5cGUgXCIgKyBwLnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAgYXR0YWNobWVudHMgaWYgdHlwZSBiaW5hcnlcbiAgICAgICAgaWYgKHAudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfRVZFTlQgfHxcbiAgICAgICAgICAgIHAudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfQUNLKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKHN0ci5jaGFyQXQoKytpKSAhPT0gXCItXCIgJiYgaSAhPSBzdHIubGVuZ3RoKSB7IH1cbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IHN0ci5zdWJzdHJpbmcoc3RhcnQsIGkpO1xuICAgICAgICAgICAgaWYgKGJ1ZiAhPSBOdW1iZXIoYnVmKSB8fCBzdHIuY2hhckF0KGkpICE9PSBcIi1cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgYXR0YWNobWVudHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwLmF0dGFjaG1lbnRzID0gTnVtYmVyKGJ1Zik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBuYW1lc3BhY2UgKGlmIGFueSlcbiAgICAgICAgaWYgKFwiL1wiID09PSBzdHIuY2hhckF0KGkgKyAxKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlICgrK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAoXCIsXCIgPT09IGMpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAubnNwID0gc3RyLnN1YnN0cmluZyhzdGFydCwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwLm5zcCA9IFwiL1wiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAgaWRcbiAgICAgICAgY29uc3QgbmV4dCA9IHN0ci5jaGFyQXQoaSArIDEpO1xuICAgICAgICBpZiAoXCJcIiAhPT0gbmV4dCAmJiBOdW1iZXIobmV4dCkgPT0gbmV4dCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlICgrK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBjIHx8IE51bWJlcihjKSAhPSBjKSB7XG4gICAgICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpID09PSBzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAuaWQgPSBOdW1iZXIoc3RyLnN1YnN0cmluZyhzdGFydCwgaSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIGpzb24gZGF0YVxuICAgICAgICBpZiAoc3RyLmNoYXJBdCgrK2kpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gdGhpcy50cnlQYXJzZShzdHIuc3Vic3RyKGkpKTtcbiAgICAgICAgICAgIGlmIChEZWNvZGVyLmlzUGF5bG9hZFZhbGlkKHAudHlwZSwgcGF5bG9hZCkpIHtcbiAgICAgICAgICAgICAgICBwLmRhdGEgPSBwYXlsb2FkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwYXlsb2FkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICB0cnlQYXJzZShzdHIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0ciwgdGhpcy5yZXZpdmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBpc1BheWxvYWRWYWxpZCh0eXBlLCBwYXlsb2FkKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkNPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHBheWxvYWQpO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkRJU0NPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUX0VSUk9SOlxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJzdHJpbmdcIiB8fCBpc09iamVjdChwYXlsb2FkKTtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5FVkVOVDpcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5CSU5BUllfRVZFTlQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChBcnJheS5pc0FycmF5KHBheWxvYWQpICYmXG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgcGF5bG9hZFswXSA9PT0gXCJudW1iZXJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBwYXlsb2FkWzBdID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVTRVJWRURfRVZFTlRTLmluZGV4T2YocGF5bG9hZFswXSkgPT09IC0xKSkpO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkFDSzpcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5CSU5BUllfQUNLOlxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlYWxsb2NhdGVzIGEgcGFyc2VyJ3MgcmVzb3VyY2VzXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3RvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgbWFuYWdlciBvZiBhIGJpbmFyeSBldmVudCdzICdidWZmZXIgc2VxdWVuY2UnLiBTaG91bGRcbiAqIGJlIGNvbnN0cnVjdGVkIHdoZW5ldmVyIGEgcGFja2V0IG9mIHR5cGUgQklOQVJZX0VWRU5UIGlzXG4gKiBkZWNvZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEByZXR1cm4ge0JpbmFyeVJlY29uc3RydWN0b3J9IGluaXRpYWxpemVkIHJlY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgQmluYXJ5UmVjb25zdHJ1Y3RvciB7XG4gICAgY29uc3RydWN0b3IocGFja2V0KSB7XG4gICAgICAgIHRoaXMucGFja2V0ID0gcGFja2V0O1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5yZWNvblBhY2sgPSBwYWNrZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiBiaW5hcnkgZGF0YSByZWNlaXZlZCBmcm9tIGNvbm5lY3Rpb25cbiAgICAgKiBhZnRlciBhIEJJTkFSWV9FVkVOVCBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0J1ZmZlciB8IEFycmF5QnVmZmVyfSBiaW5EYXRhIC0gdGhlIHJhdyBiaW5hcnkgZGF0YSByZWNlaXZlZFxuICAgICAqIEByZXR1cm4ge251bGwgfCBPYmplY3R9IHJldHVybnMgbnVsbCBpZiBtb3JlIGJpbmFyeSBkYXRhIGlzIGV4cGVjdGVkIG9yXG4gICAgICogICBhIHJlY29uc3RydWN0ZWQgcGFja2V0IG9iamVjdCBpZiBhbGwgYnVmZmVycyBoYXZlIGJlZW4gcmVjZWl2ZWQuXG4gICAgICovXG4gICAgdGFrZUJpbmFyeURhdGEoYmluRGF0YSkge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChiaW5EYXRhKTtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IHRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAvLyBkb25lIHdpdGggYnVmZmVyIGxpc3RcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IHJlY29uc3RydWN0UGFja2V0KHRoaXMucmVjb25QYWNrLCB0aGlzLmJ1ZmZlcnMpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gcGFja2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbnMgdXAgYmluYXJ5IHBhY2tldCByZWNvbnN0cnVjdGlvbiB2YXJpYWJsZXMuXG4gICAgICovXG4gICAgZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZWNvblBhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gb24ob2JqLCBldiwgZm4pIHtcbiAgICBvYmoub24oZXYsIGZuKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3ViRGVzdHJveSgpIHtcbiAgICAgICAgb2JqLm9mZihldiwgZm4pO1xuICAgIH07XG59XG4iLCJpbXBvcnQgeyBQYWNrZXRUeXBlIH0gZnJvbSBcInNvY2tldC5pby1wYXJzZXJcIjtcbmltcG9ydCB7IG9uIH0gZnJvbSBcIi4vb24uanNcIjtcbmltcG9ydCB7IEVtaXR0ZXIsIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbi8qKlxuICogSW50ZXJuYWwgZXZlbnRzLlxuICogVGhlc2UgZXZlbnRzIGNhbid0IGJlIGVtaXR0ZWQgYnkgdGhlIHVzZXIuXG4gKi9cbmNvbnN0IFJFU0VSVkVEX0VWRU5UUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIGNvbm5lY3Q6IDEsXG4gICAgY29ubmVjdF9lcnJvcjogMSxcbiAgICBkaXNjb25uZWN0OiAxLFxuICAgIGRpc2Nvbm5lY3Rpbmc6IDEsXG4gICAgLy8gRXZlbnRFbWl0dGVyIHJlc2VydmVkIGV2ZW50czogaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9ldmVudHMuaHRtbCNldmVudHNfZXZlbnRfbmV3bGlzdGVuZXJcbiAgICBuZXdMaXN0ZW5lcjogMSxcbiAgICByZW1vdmVMaXN0ZW5lcjogMSxcbn0pO1xuLyoqXG4gKiBBIFNvY2tldCBpcyB0aGUgZnVuZGFtZW50YWwgY2xhc3MgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIHNlcnZlci5cbiAqXG4gKiBBIFNvY2tldCBiZWxvbmdzIHRvIGEgY2VydGFpbiBOYW1lc3BhY2UgKGJ5IGRlZmF1bHQgLykgYW5kIHVzZXMgYW4gdW5kZXJseWluZyB7QGxpbmsgTWFuYWdlcn0gdG8gY29tbXVuaWNhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gKlxuICogc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKFwiY29ubmVjdGVkXCIpO1xuICogfSk7XG4gKlxuICogLy8gc2VuZCBhbiBldmVudCB0byB0aGUgc2VydmVyXG4gKiBzb2NrZXQuZW1pdChcImZvb1wiLCBcImJhclwiKTtcbiAqXG4gKiBzb2NrZXQub24oXCJmb29iYXJcIiwgKCkgPT4ge1xuICogICAvLyBhbiBldmVudCB3YXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyXG4gKiB9KTtcbiAqXG4gKiAvLyB1cG9uIGRpc2Nvbm5lY3Rpb25cbiAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICogICBjb25zb2xlLmxvZyhgZGlzY29ubmVjdGVkIGR1ZSB0byAke3JlYXNvbn1gKTtcbiAqIH0pO1xuICovXG5leHBvcnQgY2xhc3MgU29ja2V0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogYFNvY2tldGAgY29uc3RydWN0b3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaW8sIG5zcCwgb3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgc29ja2V0IGlzIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gdGhlIHNlcnZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgICAgICpcbiAgICAgICAgICogc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmNvbm5lY3RlZCk7IC8vIHRydWVcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5jb25uZWN0ZWQpOyAvLyBmYWxzZVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBjb25uZWN0aW9uIHN0YXRlIHdhcyByZWNvdmVyZWQgYWZ0ZXIgYSB0ZW1wb3JhcnkgZGlzY29ubmVjdGlvbi4gSW4gdGhhdCBjYXNlLCBhbnkgbWlzc2VkIHBhY2tldHMgd2lsbFxuICAgICAgICAgKiBiZSB0cmFuc21pdHRlZCBieSB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWNvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBmb3IgcGFja2V0cyByZWNlaXZlZCBiZWZvcmUgdGhlIENPTk5FQ1QgcGFja2V0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBmb3IgcGFja2V0cyB0aGF0IHdpbGwgYmUgc2VudCBvbmNlIHRoZSBzb2NrZXQgaXMgY29ubmVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBxdWV1ZSBvZiBwYWNrZXRzIHRvIGJlIHNlbnQgd2l0aCByZXRyeSBpbiBjYXNlIG9mIGZhaWx1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFBhY2tldHMgYXJlIHNlbnQgb25lIGJ5IG9uZSwgZWFjaCB3YWl0aW5nIGZvciB0aGUgc2VydmVyIGFja25vd2xlZGdlbWVudCwgaW4gb3JkZXIgdG8gZ3VhcmFudGVlIHRoZSBkZWxpdmVyeSBvcmRlci5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlcXVlbmNlIHRvIGdlbmVyYXRlIHRoZSBJRCBvZiB0aGUge0BsaW5rIFF1ZXVlZFBhY2tldH0uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9xdWV1ZVNlcSA9IDA7XG4gICAgICAgIHRoaXMuaWRzID0gMDtcbiAgICAgICAgdGhpcy5hY2tzID0ge307XG4gICAgICAgIHRoaXMuZmxhZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5pbyA9IGlvO1xuICAgICAgICB0aGlzLm5zcCA9IG5zcDtcbiAgICAgICAgaWYgKG9wdHMgJiYgb3B0cy5hdXRoKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGggPSBvcHRzLmF1dGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMpO1xuICAgICAgICBpZiAodGhpcy5pby5fYXV0b0Nvbm5lY3QpXG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgc29ja2V0IGlzIGN1cnJlbnRseSBkaXNjb25uZWN0ZWRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmRpc2Nvbm5lY3RlZCk7IC8vIGZhbHNlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5kaXNjb25uZWN0ZWQpOyAvLyB0cnVlXG4gICAgICogfSk7XG4gICAgICovXG4gICAgZ2V0IGRpc2Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNvbm5lY3RlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIG9wZW4sIGNsb3NlIGFuZCBwYWNrZXQgZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN1YkV2ZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3VicylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaW8gPSB0aGlzLmlvO1xuICAgICAgICB0aGlzLnN1YnMgPSBbXG4gICAgICAgICAgICBvbihpbywgXCJvcGVuXCIsIHRoaXMub25vcGVuLmJpbmQodGhpcykpLFxuICAgICAgICAgICAgb24oaW8sIFwicGFja2V0XCIsIHRoaXMub25wYWNrZXQuYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbihpbywgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbihpbywgXCJjbG9zZVwiLCB0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIFNvY2tldCB3aWxsIHRyeSB0byByZWNvbm5lY3Qgd2hlbiBpdHMgTWFuYWdlciBjb25uZWN0cyBvciByZWNvbm5lY3RzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coc29ja2V0LmFjdGl2ZSk7IC8vIHRydWVcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICAgICAqICAgaWYgKHJlYXNvbiA9PT0gXCJpbyBzZXJ2ZXIgZGlzY29ubmVjdFwiKSB7XG4gICAgICogICAgIC8vIHRoZSBkaXNjb25uZWN0aW9uIHdhcyBpbml0aWF0ZWQgYnkgdGhlIHNlcnZlciwgeW91IG5lZWQgdG8gbWFudWFsbHkgcmVjb25uZWN0XG4gICAgICogICAgIGNvbnNvbGUubG9nKHNvY2tldC5hY3RpdmUpOyAvLyBmYWxzZVxuICAgICAqICAgfVxuICAgICAqICAgLy8gZWxzZSB0aGUgc29ja2V0IHdpbGwgYXV0b21hdGljYWxseSB0cnkgdG8gcmVjb25uZWN0XG4gICAgICogICBjb25zb2xlLmxvZyhzb2NrZXQuYWN0aXZlKTsgLy8gdHJ1ZVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGdldCBhY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuc3VicztcbiAgICB9XG4gICAgLyoqXG4gICAgICogXCJPcGVuc1wiIHRoZSBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNvY2tldCA9IGlvKHtcbiAgICAgKiAgIGF1dG9Db25uZWN0OiBmYWxzZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc29ja2V0LmNvbm5lY3QoKTtcbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgdGhpcy5zdWJFdmVudHMoKTtcbiAgICAgICAgaWYgKCF0aGlzLmlvW1wiX3JlY29ubmVjdGluZ1wiXSlcbiAgICAgICAgICAgIHRoaXMuaW8ub3BlbigpOyAvLyBlbnN1cmUgb3BlblxuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMuaW8uX3JlYWR5U3RhdGUpXG4gICAgICAgICAgICB0aGlzLm9ub3BlbigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIHtAbGluayBjb25uZWN0KCl9LlxuICAgICAqL1xuICAgIG9wZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBgbWVzc2FnZWAgZXZlbnQuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtaW1pY3MgdGhlIFdlYlNvY2tldC5zZW5kKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViU29ja2V0L3NlbmRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LnNlbmQoXCJoZWxsb1wiKTtcbiAgICAgKlxuICAgICAqIC8vIHRoaXMgaXMgZXF1aXZhbGVudCB0b1xuICAgICAqIHNvY2tldC5lbWl0KFwibWVzc2FnZVwiLCBcImhlbGxvXCIpO1xuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgc2VuZCguLi5hcmdzKSB7XG4gICAgICAgIGFyZ3MudW5zaGlmdChcIm1lc3NhZ2VcIik7XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIGBlbWl0YC5cbiAgICAgKiBJZiB0aGUgZXZlbnQgaXMgaW4gYGV2ZW50c2AsIGl0J3MgZW1pdHRlZCBub3JtYWxseS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LmVtaXQoXCJoZWxsb1wiLCBcIndvcmxkXCIpO1xuICAgICAqXG4gICAgICogLy8gYWxsIHNlcmlhbGl6YWJsZSBkYXRhc3RydWN0dXJlcyBhcmUgc3VwcG9ydGVkIChubyBuZWVkIHRvIGNhbGwgSlNPTi5zdHJpbmdpZnkpXG4gICAgICogc29ja2V0LmVtaXQoXCJoZWxsb1wiLCAxLCBcIjJcIiwgeyAzOiBbXCI0XCJdLCA1OiBVaW50OEFycmF5LmZyb20oWzZdKSB9KTtcbiAgICAgKlxuICAgICAqIC8vIHdpdGggYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlclxuICAgICAqIHNvY2tldC5lbWl0KFwiaGVsbG9cIiwgXCJ3b3JsZFwiLCAodmFsKSA9PiB7XG4gICAgICogICAvLyAuLi5cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIGVtaXQoZXYsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKFJFU0VSVkVEX0VWRU5UUy5oYXNPd25Qcm9wZXJ0eShldikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCInICsgZXYudG9TdHJpbmcoKSArICdcIiBpcyBhIHJlc2VydmVkIGV2ZW50IG5hbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLnVuc2hpZnQoZXYpO1xuICAgICAgICBpZiAodGhpcy5fb3B0cy5yZXRyaWVzICYmICF0aGlzLmZsYWdzLmZyb21RdWV1ZSAmJiAhdGhpcy5mbGFncy52b2xhdGlsZSkge1xuICAgICAgICAgICAgdGhpcy5fYWRkVG9RdWV1ZShhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHtcbiAgICAgICAgICAgIHR5cGU6IFBhY2tldFR5cGUuRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICB9O1xuICAgICAgICBwYWNrZXQub3B0aW9ucyA9IHt9O1xuICAgICAgICBwYWNrZXQub3B0aW9ucy5jb21wcmVzcyA9IHRoaXMuZmxhZ3MuY29tcHJlc3MgIT09IGZhbHNlO1xuICAgICAgICAvLyBldmVudCBhY2sgY2FsbGJhY2tcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkcysrO1xuICAgICAgICAgICAgY29uc3QgYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyQWNrQ2FsbGJhY2soaWQsIGFjayk7XG4gICAgICAgICAgICBwYWNrZXQuaWQgPSBpZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1RyYW5zcG9ydFdyaXRhYmxlID0gdGhpcy5pby5lbmdpbmUgJiZcbiAgICAgICAgICAgIHRoaXMuaW8uZW5naW5lLnRyYW5zcG9ydCAmJlxuICAgICAgICAgICAgdGhpcy5pby5lbmdpbmUudHJhbnNwb3J0LndyaXRhYmxlO1xuICAgICAgICBjb25zdCBkaXNjYXJkUGFja2V0ID0gdGhpcy5mbGFncy52b2xhdGlsZSAmJiAoIWlzVHJhbnNwb3J0V3JpdGFibGUgfHwgIXRoaXMuY29ubmVjdGVkKTtcbiAgICAgICAgaWYgKGRpc2NhcmRQYWNrZXQpIHtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyhwYWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGFncyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVnaXN0ZXJBY2tDYWxsYmFjayhpZCwgYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IChfYSA9IHRoaXMuZmxhZ3MudGltZW91dCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5fb3B0cy5hY2tUaW1lb3V0O1xuICAgICAgICBpZiAodGltZW91dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFja3NbaWRdID0gYWNrO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgdGltZXIgPSB0aGlzLmlvLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY2tzW2lkXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZW5kQnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VuZEJ1ZmZlcltpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kQnVmZmVyLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2suY2FsbCh0aGlzLCBuZXcgRXJyb3IoXCJvcGVyYXRpb24gaGFzIHRpbWVkIG91dFwiKSk7XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICB0aGlzLmFja3NbaWRdID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMuaW8uY2xlYXJUaW1lb3V0Rm4odGltZXIpO1xuICAgICAgICAgICAgYWNrLmFwcGx5KHRoaXMsIFtudWxsLCAuLi5hcmdzXSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IGFuZCB3YWl0cyBmb3IgYW4gYWNrbm93bGVkZ2VtZW50XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHdpdGhvdXQgdGltZW91dFxuICAgICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc29ja2V0LmVtaXRXaXRoQWNrKFwiaGVsbG9cIiwgXCJ3b3JsZFwiKTtcbiAgICAgKlxuICAgICAqIC8vIHdpdGggYSBzcGVjaWZpYyB0aW1lb3V0XG4gICAgICogdHJ5IHtcbiAgICAgKiAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc29ja2V0LnRpbWVvdXQoMTAwMCkuZW1pdFdpdGhBY2soXCJoZWxsb1wiLCBcIndvcmxkXCIpO1xuICAgICAqIH0gY2F0Y2ggKGVycikge1xuICAgICAqICAgLy8gdGhlIHNlcnZlciBkaWQgbm90IGFja25vd2xlZGdlIHRoZSBldmVudCBpbiB0aGUgZ2l2ZW4gZGVsYXlcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEgUHJvbWlzZSB0aGF0IHdpbGwgYmUgZnVsZmlsbGVkIHdoZW4gdGhlIHNlcnZlciBhY2tub3dsZWRnZXMgdGhlIGV2ZW50XG4gICAgICovXG4gICAgZW1pdFdpdGhBY2soZXYsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gdGhlIHRpbWVvdXQgZmxhZyBpcyBvcHRpb25hbFxuICAgICAgICBjb25zdCB3aXRoRXJyID0gdGhpcy5mbGFncy50aW1lb3V0ICE9PSB1bmRlZmluZWQgfHwgdGhpcy5fb3B0cy5hY2tUaW1lb3V0ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBhcmdzLnB1c2goKGFyZzEsIGFyZzIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAod2l0aEVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnMSA/IHJlamVjdChhcmcxKSA6IHJlc29sdmUoYXJnMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShhcmcxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChldiwgLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHBhY2tldCB0byB0aGUgcXVldWUuXG4gICAgICogQHBhcmFtIGFyZ3NcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hZGRUb1F1ZXVlKGFyZ3MpIHtcbiAgICAgICAgbGV0IGFjaztcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWNrZXQgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5fcXVldWVTZXErKyxcbiAgICAgICAgICAgIHRyeUNvdW50OiAwLFxuICAgICAgICAgICAgcGVuZGluZzogZmFsc2UsXG4gICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgZmxhZ3M6IE9iamVjdC5hc3NpZ24oeyBmcm9tUXVldWU6IHRydWUgfSwgdGhpcy5mbGFncyksXG4gICAgICAgIH07XG4gICAgICAgIGFyZ3MucHVzaCgoZXJyLCAuLi5yZXNwb25zZUFyZ3MpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWNrZXQgIT09IHRoaXMuX3F1ZXVlWzBdKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIHBhY2tldCBoYXMgYWxyZWFkeSBiZWVuIGFja25vd2xlZGdlZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhc0Vycm9yID0gZXJyICE9PSBudWxsO1xuICAgICAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC50cnlDb3VudCA+IHRoaXMuX29wdHMucmV0cmllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGFjaykge1xuICAgICAgICAgICAgICAgICAgICBhY2sobnVsbCwgLi4ucmVzcG9uc2VBcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZXQucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RyYWluUXVldWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3F1ZXVlLnB1c2gocGFja2V0KTtcbiAgICAgICAgdGhpcy5fZHJhaW5RdWV1ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBmaXJzdCBwYWNrZXQgb2YgdGhlIHF1ZXVlLCBhbmQgd2FpdCBmb3IgYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gZm9yY2UgLSB3aGV0aGVyIHRvIHJlc2VuZCBhIHBhY2tldCB0aGF0IGhhcyBub3QgYmVlbiBhY2tub3dsZWRnZWQgeWV0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kcmFpblF1ZXVlKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCB8fCB0aGlzLl9xdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWNrZXQgPSB0aGlzLl9xdWV1ZVswXTtcbiAgICAgICAgaWYgKHBhY2tldC5wZW5kaW5nICYmICFmb3JjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhY2tldC5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgcGFja2V0LnRyeUNvdW50Kys7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBwYWNrZXQuZmxhZ3M7XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBwYWNrZXQuYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcGFja2V0KHBhY2tldCkge1xuICAgICAgICBwYWNrZXQubnNwID0gdGhpcy5uc3A7XG4gICAgICAgIHRoaXMuaW8uX3BhY2tldChwYWNrZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYG9wZW5gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbm9wZW4oKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5hdXRoID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5hdXRoKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZENvbm5lY3RQYWNrZXQoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRDb25uZWN0UGFja2V0KHRoaXMuYXV0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBDT05ORUNUIHBhY2tldCB0byBpbml0aWF0ZSB0aGUgU29ja2V0LklPIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NlbmRDb25uZWN0UGFja2V0KGRhdGEpIHtcbiAgICAgICAgdGhpcy5wYWNrZXQoe1xuICAgICAgICAgICAgdHlwZTogUGFja2V0VHlwZS5DT05ORUNULFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fcGlkXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKHsgcGlkOiB0aGlzLl9waWQsIG9mZnNldDogdGhpcy5fbGFzdE9mZnNldCB9LCBkYXRhKVxuICAgICAgICAgICAgICAgIDogZGF0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBvciBtYW5hZ2VyIGBlcnJvcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXJyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmVycm9yKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYGNsb3NlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWFzb25cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBkZWxldGUgdGhpcy5pZDtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkaXNjb25uZWN0XCIsIHJlYXNvbiwgZGVzY3JpcHRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCBzb2NrZXQgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25wYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IHNhbWVOYW1lc3BhY2UgPSBwYWNrZXQubnNwID09PSB0aGlzLm5zcDtcbiAgICAgICAgaWYgKCFzYW1lTmFtZXNwYWNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVDpcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0LmRhdGEgJiYgcGFja2V0LmRhdGEuc2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25jb25uZWN0KHBhY2tldC5kYXRhLnNpZCwgcGFja2V0LmRhdGEucGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdF9lcnJvclwiLCBuZXcgRXJyb3IoXCJJdCBzZWVtcyB5b3UgYXJlIHRyeWluZyB0byByZWFjaCBhIFNvY2tldC5JTyBzZXJ2ZXIgaW4gdjIueCB3aXRoIGEgdjMueCBjbGllbnQsIGJ1dCB0aGV5IGFyZSBub3QgY29tcGF0aWJsZSAobW9yZSBpbmZvcm1hdGlvbiBoZXJlOiBodHRwczovL3NvY2tldC5pby9kb2NzL3YzL21pZ3JhdGluZy1mcm9tLTIteC10by0zLTAvKVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkVWRU5UOlxuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVDpcbiAgICAgICAgICAgICAgICB0aGlzLm9uZXZlbnQocGFja2V0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5BQ0s6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0FDSzpcbiAgICAgICAgICAgICAgICB0aGlzLm9uYWNrKHBhY2tldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRElTQ09OTkVDVDpcbiAgICAgICAgICAgICAgICB0aGlzLm9uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkNPTk5FQ1RfRVJST1I6XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKHBhY2tldC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHBhY2tldC5kYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmV2ZW50KHBhY2tldCkge1xuICAgICAgICBjb25zdCBhcmdzID0gcGFja2V0LmRhdGEgfHwgW107XG4gICAgICAgIGlmIChudWxsICE9IHBhY2tldC5pZCkge1xuICAgICAgICAgICAgYXJncy5wdXNoKHRoaXMuYWNrKHBhY2tldC5pZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0RXZlbnQoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIucHVzaChPYmplY3QuZnJlZXplKGFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbWl0RXZlbnQoYXJncykge1xuICAgICAgICBpZiAodGhpcy5fYW55TGlzdGVuZXJzICYmIHRoaXMuX2FueUxpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueUxpc3RlbmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdXBlci5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBpZiAodGhpcy5fcGlkICYmIGFyZ3MubGVuZ3RoICYmIHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RPZmZzZXQgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYW4gYWNrIGNhbGxiYWNrIHRvIGVtaXQgd2l0aCBhbiBldmVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYWNrKGlkKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgc2VudCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnQgZG91YmxlIGNhbGxiYWNrc1xuICAgICAgICAgICAgaWYgKHNlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2VudCA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnBhY2tldCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUGFja2V0VHlwZS5BQ0ssXG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgYWNrbm93bGVnZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmFjayhwYWNrZXQpIHtcbiAgICAgICAgY29uc3QgYWNrID0gdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY2spIHtcbiAgICAgICAgICAgIGFjay5hcHBseSh0aGlzLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gc2VydmVyIGNvbm5lY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY29ubmVjdChpZCwgcGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5yZWNvdmVyZWQgPSBwaWQgJiYgdGhpcy5fcGlkID09PSBwaWQ7XG4gICAgICAgIHRoaXMuX3BpZCA9IHBpZDsgLy8gZGVmaW5lZCBvbmx5IGlmIGNvbm5lY3Rpb24gc3RhdGUgcmVjb3ZlcnkgaXMgZW5hYmxlZFxuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdEJ1ZmZlcmVkKCk7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdFwiKTtcbiAgICAgICAgdGhpcy5fZHJhaW5RdWV1ZSh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdCBidWZmZXJlZCBldmVudHMgKHJlY2VpdmVkIGFuZCBlbWl0dGVkKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZW1pdEJ1ZmZlcmVkKCkge1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIuZm9yRWFjaCgoYXJncykgPT4gdGhpcy5lbWl0RXZlbnQoYXJncykpO1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyLmZvckVhY2goKHBhY2tldCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyhwYWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZEJ1ZmZlciA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzZXJ2ZXIgZGlzY29ubmVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25kaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5vbmNsb3NlKFwiaW8gc2VydmVyIGRpc2Nvbm5lY3RcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGZvcmNlZCBjbGllbnQvc2VydmVyIHNpZGUgZGlzY29ubmVjdGlvbnMsXG4gICAgICogdGhpcyBtZXRob2QgZW5zdXJlcyB0aGUgbWFuYWdlciBzdG9wcyB0cmFja2luZyB1cyBhbmRcbiAgICAgKiB0aGF0IHJlY29ubmVjdGlvbnMgZG9uJ3QgZ2V0IHRyaWdnZXJlZCBmb3IgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vicykge1xuICAgICAgICAgICAgLy8gY2xlYW4gc3Vic2NyaXB0aW9ucyB0byBhdm9pZCByZWNvbm5lY3Rpb25zXG4gICAgICAgICAgICB0aGlzLnN1YnMuZm9yRWFjaCgoc3ViRGVzdHJveSkgPT4gc3ViRGVzdHJveSgpKTtcbiAgICAgICAgICAgIHRoaXMuc3VicyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlvW1wiX2Rlc3Ryb3lcIl0odGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSBzb2NrZXQgbWFudWFsbHkuIEluIHRoYXQgY2FzZSwgdGhlIHNvY2tldCB3aWxsIG5vdCB0cnkgdG8gcmVjb25uZWN0LlxuICAgICAqXG4gICAgICogSWYgdGhpcyBpcyB0aGUgbGFzdCBhY3RpdmUgU29ja2V0IGluc3RhbmNlIG9mIHRoZSB7QGxpbmsgTWFuYWdlcn0sIHRoZSBsb3ctbGV2ZWwgY29ubmVjdGlvbiB3aWxsIGJlIGNsb3NlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICAgICAqICAgLy8gY29uc29sZS5sb2cocmVhc29uKTsgcHJpbnRzIFwiaW8gY2xpZW50IGRpc2Nvbm5lY3RcIlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc29ja2V0LmRpc2Nvbm5lY3QoKTtcbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQoeyB0eXBlOiBQYWNrZXRUeXBlLkRJU0NPTk5FQ1QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHNvY2tldCBmcm9tIHBvb2xcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgLy8gZmlyZSBldmVudHNcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcImlvIGNsaWVudCBkaXNjb25uZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIGRpc2Nvbm5lY3QoKX0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb21wcmVzcyBmbGFnLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQuY29tcHJlc3MoZmFsc2UpLmVtaXQoXCJoZWxsb1wiKTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb21wcmVzcyAtIGlmIGB0cnVlYCwgY29tcHJlc3NlcyB0aGUgc2VuZGluZyBkYXRhXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgY29tcHJlc3MoY29tcHJlc3MpIHtcbiAgICAgICAgdGhpcy5mbGFncy5jb21wcmVzcyA9IGNvbXByZXNzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1vZGlmaWVyIGZvciBhIHN1YnNlcXVlbnQgZXZlbnQgZW1pc3Npb24gdGhhdCB0aGUgZXZlbnQgbWVzc2FnZSB3aWxsIGJlIGRyb3BwZWQgd2hlbiB0aGlzIHNvY2tldCBpcyBub3RcbiAgICAgKiByZWFkeSB0byBzZW5kIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQudm9sYXRpbGUuZW1pdChcImhlbGxvXCIpOyAvLyB0aGUgc2VydmVyIG1heSBvciBtYXkgbm90IHJlY2VpdmUgaXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKi9cbiAgICBnZXQgdm9sYXRpbGUoKSB7XG4gICAgICAgIHRoaXMuZmxhZ3Mudm9sYXRpbGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1vZGlmaWVyIGZvciBhIHN1YnNlcXVlbnQgZXZlbnQgZW1pc3Npb24gdGhhdCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBlcnJvciB3aGVuIHRoZVxuICAgICAqIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHdpdGhvdXQgYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlcjpcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LnRpbWVvdXQoNTAwMCkuZW1pdChcIm15LWV2ZW50XCIsIChlcnIpID0+IHtcbiAgICAgKiAgIGlmIChlcnIpIHtcbiAgICAgKiAgICAgLy8gdGhlIHNlcnZlciBkaWQgbm90IGFja25vd2xlZGdlIHRoZSBldmVudCBpbiB0aGUgZ2l2ZW4gZGVsYXlcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKi9cbiAgICB0aW1lb3V0KHRpbWVvdXQpIHtcbiAgICAgICAgdGhpcy5mbGFncy50aW1lb3V0ID0gdGltZW91dDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0Lm9uQW55KChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYGdvdCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgb25BbnkobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5wcmVwZW5kQW55KChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYGdvdCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgcHJlcGVuZEFueShsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYXRjaEFsbExpc3RlbmVyID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgZ290IGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uQW55KGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gcmVtb3ZlIGEgc3BlY2lmaWMgbGlzdGVuZXJcbiAgICAgKiBzb2NrZXQub2ZmQW55KGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gb3IgcmVtb3ZlIGFsbCBsaXN0ZW5lcnNcbiAgICAgKiBzb2NrZXQub2ZmQW55KCk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBvZmZBbnkobGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hbnlMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdGhhdCBhcmUgbGlzdGVuaW5nIGZvciBhbnkgZXZlbnQgdGhhdCBpcyBzcGVjaWZpZWQuIFRoaXMgYXJyYXkgY2FuIGJlIG1hbmlwdWxhdGVkLFxuICAgICAqIGUuZy4gdG8gcmVtb3ZlIGxpc3RlbmVycy5cbiAgICAgKi9cbiAgICBsaXN0ZW5lcnNBbnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIE5vdGU6IGFja25vd2xlZGdlbWVudHMgc2VudCB0byB0aGUgc2VydmVyIGFyZSBub3QgaW5jbHVkZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5vbkFueU91dGdvaW5nKChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYHNlbnQgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIG9uQW55T3V0Z29pbmcobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgPSB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyB8fCBbXTtcbiAgICAgICAgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBOb3RlOiBhY2tub3dsZWRnZW1lbnRzIHNlbnQgdG8gdGhlIHNlcnZlciBhcmUgbm90IGluY2x1ZGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQucHJlcGVuZEFueU91dGdvaW5nKChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYHNlbnQgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIHByZXBlbmRBbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYXRjaEFsbExpc3RlbmVyID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc2VudCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHNvY2tldC5vbkFueU91dGdvaW5nKGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gcmVtb3ZlIGEgc3BlY2lmaWMgbGlzdGVuZXJcbiAgICAgKiBzb2NrZXQub2ZmQW55T3V0Z29pbmcoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyBvciByZW1vdmUgYWxsIGxpc3RlbmVyc1xuICAgICAqIHNvY2tldC5vZmZBbnlPdXRnb2luZygpO1xuICAgICAqXG4gICAgICogQHBhcmFtIFtsaXN0ZW5lcl0gLSB0aGUgY2F0Y2gtYWxsIGxpc3RlbmVyIChvcHRpb25hbClcbiAgICAgKi9cbiAgICBvZmZBbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0aGF0IGFyZSBsaXN0ZW5pbmcgZm9yIGFueSBldmVudCB0aGF0IGlzIHNwZWNpZmllZC4gVGhpcyBhcnJheSBjYW4gYmUgbWFuaXB1bGF0ZWQsXG4gICAgICogZS5nLiB0byByZW1vdmUgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGxpc3RlbmVyc0FueU91dGdvaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmeSB0aGUgbGlzdGVuZXJzIGZvciBlYWNoIHBhY2tldCBzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHBhY2tldCkge1xuICAgICAgICBpZiAodGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgJiYgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIEluaXRpYWxpemUgYmFja29mZiB0aW1lciB3aXRoIGBvcHRzYC5cbiAqXG4gKiAtIGBtaW5gIGluaXRpYWwgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgWzEwMF1cbiAqIC0gYG1heGAgbWF4IHRpbWVvdXQgWzEwMDAwXVxuICogLSBgaml0dGVyYCBbMF1cbiAqIC0gYGZhY3RvcmAgWzJdXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCYWNrb2ZmKG9wdHMpIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICB0aGlzLm1zID0gb3B0cy5taW4gfHwgMTAwO1xuICAgIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMTAwMDA7XG4gICAgdGhpcy5mYWN0b3IgPSBvcHRzLmZhY3RvciB8fCAyO1xuICAgIHRoaXMuaml0dGVyID0gb3B0cy5qaXR0ZXIgPiAwICYmIG9wdHMuaml0dGVyIDw9IDEgPyBvcHRzLmppdHRlciA6IDA7XG4gICAgdGhpcy5hdHRlbXB0cyA9IDA7XG59XG4vKipcbiAqIFJldHVybiB0aGUgYmFja29mZiBkdXJhdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbXMgPSB0aGlzLm1zICogTWF0aC5wb3codGhpcy5mYWN0b3IsIHRoaXMuYXR0ZW1wdHMrKyk7XG4gICAgaWYgKHRoaXMuaml0dGVyKSB7XG4gICAgICAgIHZhciByYW5kID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgdmFyIGRldmlhdGlvbiA9IE1hdGguZmxvb3IocmFuZCAqIHRoaXMuaml0dGVyICogbXMpO1xuICAgICAgICBtcyA9IChNYXRoLmZsb29yKHJhbmQgKiAxMCkgJiAxKSA9PSAwID8gbXMgLSBkZXZpYXRpb24gOiBtcyArIGRldmlhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKG1zLCB0aGlzLm1heCkgfCAwO1xufTtcbi8qKlxuICogUmVzZXQgdGhlIG51bWJlciBvZiBhdHRlbXB0cy5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmF0dGVtcHRzID0gMDtcbn07XG4vKipcbiAqIFNldCB0aGUgbWluaW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLnNldE1pbiA9IGZ1bmN0aW9uIChtaW4pIHtcbiAgICB0aGlzLm1zID0gbWluO1xufTtcbi8qKlxuICogU2V0IHRoZSBtYXhpbXVtIGR1cmF0aW9uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQmFja29mZi5wcm90b3R5cGUuc2V0TWF4ID0gZnVuY3Rpb24gKG1heCkge1xuICAgIHRoaXMubWF4ID0gbWF4O1xufTtcbi8qKlxuICogU2V0IHRoZSBqaXR0ZXJcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRKaXR0ZXIgPSBmdW5jdGlvbiAoaml0dGVyKSB7XG4gICAgdGhpcy5qaXR0ZXIgPSBqaXR0ZXI7XG59O1xuIiwiaW1wb3J0IHsgU29ja2V0IGFzIEVuZ2luZSwgaW5zdGFsbFRpbWVyRnVuY3Rpb25zLCBuZXh0VGljaywgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcIi4vc29ja2V0LmpzXCI7XG5pbXBvcnQgKiBhcyBwYXJzZXIgZnJvbSBcInNvY2tldC5pby1wYXJzZXJcIjtcbmltcG9ydCB7IG9uIH0gZnJvbSBcIi4vb24uanNcIjtcbmltcG9ydCB7IEJhY2tvZmYgfSBmcm9tIFwiLi9jb250cmliL2JhY2tvMi5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciwgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuZXhwb3J0IGNsYXNzIE1hbmFnZXIgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5zcHMgPSB7fTtcbiAgICAgICAgdGhpcy5zdWJzID0gW107XG4gICAgICAgIGlmICh1cmkgJiYgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHVyaSkge1xuICAgICAgICAgICAgb3B0cyA9IHVyaTtcbiAgICAgICAgICAgIHVyaSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICAgICAgb3B0cy5wYXRoID0gb3B0cy5wYXRoIHx8IFwiL3NvY2tldC5pb1wiO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uKG9wdHMucmVjb25uZWN0aW9uICE9PSBmYWxzZSk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMob3B0cy5yZWNvbm5lY3Rpb25BdHRlbXB0cyB8fCBJbmZpbml0eSk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uRGVsYXkob3B0cy5yZWNvbm5lY3Rpb25EZWxheSB8fCAxMDAwKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heChvcHRzLnJlY29ubmVjdGlvbkRlbGF5TWF4IHx8IDUwMDApO1xuICAgICAgICB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKF9hID0gb3B0cy5yYW5kb21pemF0aW9uRmFjdG9yKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwLjUpO1xuICAgICAgICB0aGlzLmJhY2tvZmYgPSBuZXcgQmFja29mZih7XG4gICAgICAgICAgICBtaW46IHRoaXMucmVjb25uZWN0aW9uRGVsYXkoKSxcbiAgICAgICAgICAgIG1heDogdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heCgpLFxuICAgICAgICAgICAgaml0dGVyOiB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGltZW91dChudWxsID09IG9wdHMudGltZW91dCA/IDIwMDAwIDogb3B0cy50aW1lb3V0KTtcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIHRoaXMudXJpID0gdXJpO1xuICAgICAgICBjb25zdCBfcGFyc2VyID0gb3B0cy5wYXJzZXIgfHwgcGFyc2VyO1xuICAgICAgICB0aGlzLmVuY29kZXIgPSBuZXcgX3BhcnNlci5FbmNvZGVyKCk7XG4gICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBfcGFyc2VyLkRlY29kZXIoKTtcbiAgICAgICAgdGhpcy5fYXV0b0Nvbm5lY3QgPSBvcHRzLmF1dG9Db25uZWN0ICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9Db25uZWN0KVxuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbih2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbiA9ICEhdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbkF0dGVtcHRzKHYpIHtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMgPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXkodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWluKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmFuZG9taXphdGlvbkZhY3Rvcih2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yO1xuICAgICAgICB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Sml0dGVyKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXlNYXgodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWF4KHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdGltZW91dCh2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0cnlpbmcgdG8gcmVjb25uZWN0IGlmIHJlY29ubmVjdGlvbiBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIG5vdFxuICAgICAqIHN0YXJ0ZWQgcmVjb25uZWN0aW5nIHlldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBtYXliZVJlY29ubmVjdE9uT3BlbigpIHtcbiAgICAgICAgLy8gT25seSB0cnkgdG8gcmVjb25uZWN0IGlmIGl0J3MgdGhlIGZpcnN0IHRpbWUgd2UncmUgY29ubmVjdGluZ1xuICAgICAgICBpZiAoIXRoaXMuX3JlY29ubmVjdGluZyAmJlxuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uICYmXG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGtlZXBzIHJlY29ubmVjdGlvbiBmcm9tIGZpcmluZyB0d2ljZSBmb3IgdGhlIHNhbWUgcmVjb25uZWN0aW9uIGxvb3BcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQgYHNvY2tldGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIG9wdGlvbmFsLCBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBvcGVuKGZuKSB7XG4gICAgICAgIGlmICh+dGhpcy5fcmVhZHlTdGF0ZS5pbmRleE9mKFwib3BlblwiKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLmVuZ2luZSA9IG5ldyBFbmdpbmUodGhpcy51cmksIHRoaXMub3B0cyk7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgLy8gZW1pdCBgb3BlbmBcbiAgICAgICAgY29uc3Qgb3BlblN1YkRlc3Ryb3kgPSBvbihzb2NrZXQsIFwib3BlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLm9ub3BlbigpO1xuICAgICAgICAgICAgZm4gJiYgZm4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsZWFudXAoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgZG8gdGhpcyBpZiB0aGVyZSBpcyBubyBmbiB0byBoYW5kbGUgdGhlIGVycm9yXG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZVJlY29ubmVjdE9uT3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBlbWl0IGBlcnJvcmBcbiAgICAgICAgY29uc3QgZXJyb3JTdWIgPSBvbihzb2NrZXQsIFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgICAgIGlmIChmYWxzZSAhPT0gdGhpcy5fdGltZW91dCkge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gICAgICAgICAgICAvLyBzZXQgdGltZXJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9wZW5TdWJEZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgb25FcnJvcihuZXcgRXJyb3IoXCJ0aW1lb3V0XCIpKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aW1lci51bnJlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdWJzLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGltZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzLnB1c2gob3BlblN1YkRlc3Ryb3kpO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChlcnJvclN1Yik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Igb3BlbigpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgY29ubmVjdChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IG9wZW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ub3BlbigpIHtcbiAgICAgICAgLy8gY2xlYXIgb2xkIHN1YnNcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIC8vIG1hcmsgYXMgb3BlblxuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICAgICAgLy8gYWRkIG5ldyBzdWJzXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsIFwicGluZ1wiLCB0aGlzLm9ucGluZy5iaW5kKHRoaXMpKSwgb24oc29ja2V0LCBcImRhdGFcIiwgdGhpcy5vbmRhdGEuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJjbG9zZVwiLCB0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksIG9uKHRoaXMuZGVjb2RlciwgXCJkZWNvZGVkXCIsIHRoaXMub25kZWNvZGVkLmJpbmQodGhpcykpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBwaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnBpbmcoKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGluZ1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25kYXRhKGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5hZGQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcInBhcnNlIGVycm9yXCIsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHBhcnNlciBmdWxseSBkZWNvZGVzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRlY29kZWQocGFja2V0KSB7XG4gICAgICAgIC8vIHRoZSBuZXh0VGljayBjYWxsIHByZXZlbnRzIGFuIGV4Y2VwdGlvbiBpbiBhIHVzZXItcHJvdmlkZWQgZXZlbnQgbGlzdGVuZXIgZnJvbSB0cmlnZ2VyaW5nIGEgZGlzY29ubmVjdGlvbiBkdWUgdG8gYSBcInBhcnNlIGVycm9yXCJcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzb2NrZXQgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZXJyb3IoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzb2NrZXQgZm9yIHRoZSBnaXZlbiBgbnNwYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NvY2tldH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc29ja2V0KG5zcCwgb3B0cykge1xuICAgICAgICBsZXQgc29ja2V0ID0gdGhpcy5uc3BzW25zcF07XG4gICAgICAgIGlmICghc29ja2V0KSB7XG4gICAgICAgICAgICBzb2NrZXQgPSBuZXcgU29ja2V0KHRoaXMsIG5zcCwgb3B0cyk7XG4gICAgICAgICAgICB0aGlzLm5zcHNbbnNwXSA9IHNvY2tldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvQ29ubmVjdCAmJiAhc29ja2V0LmFjdGl2ZSkge1xuICAgICAgICAgICAgc29ja2V0LmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc29ja2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNvY2tldCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzb2NrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kZXN0cm95KHNvY2tldCkge1xuICAgICAgICBjb25zdCBuc3BzID0gT2JqZWN0LmtleXModGhpcy5uc3BzKTtcbiAgICAgICAgZm9yIChjb25zdCBuc3Agb2YgbnNwcykge1xuICAgICAgICAgICAgY29uc3Qgc29ja2V0ID0gdGhpcy5uc3BzW25zcF07XG4gICAgICAgICAgICBpZiAoc29ja2V0LmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcGFja2V0KHBhY2tldCkge1xuICAgICAgICBjb25zdCBlbmNvZGVkUGFja2V0cyA9IHRoaXMuZW5jb2Rlci5lbmNvZGUocGFja2V0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUud3JpdGUoZW5jb2RlZFBhY2tldHNbaV0sIHBhY2tldC5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0cmFuc3BvcnQgc3Vic2NyaXB0aW9ucyBhbmQgcGFja2V0IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgdGhpcy5zdWJzLmZvckVhY2goKHN1YkRlc3Ryb3kpID0+IHN1YkRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuc3Vicy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRlY29kZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY3VycmVudCBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbG9zZSgpIHtcbiAgICAgICAgdGhpcy5za2lwUmVjb25uZWN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25jbG9zZShcImZvcmNlZCBjbG9zZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lKVxuICAgICAgICAgICAgdGhpcy5lbmdpbmUuY2xvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGNsb3NlKClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25jbG9zZShyZWFzb24sIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY2xvc2VcIiwgcmVhc29uLCBkZXNjcmlwdGlvbik7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3Rpb24gJiYgIXRoaXMuc2tpcFJlY29ubmVjdCkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0IGEgcmVjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICByZWNvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3RpbmcgfHwgdGhpcy5za2lwUmVjb25uZWN0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5iYWNrb2ZmLmF0dGVtcHRzID49IHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2ZhaWxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLmJhY2tvZmYuZHVyYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCB0aW1lciA9IHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5za2lwUmVjb25uZWN0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfYXR0ZW1wdFwiLCBzZWxmLmJhY2tvZmYuYXR0ZW1wdHMpO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGFnYWluIGZvciB0aGUgY2FzZSBzb2NrZXQgY2xvc2VkIGluIGFib3ZlIGV2ZW50c1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBzZWxmLm9wZW4oKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9lcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbnJlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgICAgICAgIHRpbWVyLnVucmVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN1YnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRGbih0aW1lcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzdWNjZXNzZnVsIHJlY29ubmVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25yZWNvbm5lY3QoKSB7XG4gICAgICAgIGNvbnN0IGF0dGVtcHQgPSB0aGlzLmJhY2tvZmYuYXR0ZW1wdHM7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RcIiwgYXR0ZW1wdCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgdXJsIH0gZnJvbSBcIi4vdXJsLmpzXCI7XG5pbXBvcnQgeyBNYW5hZ2VyIH0gZnJvbSBcIi4vbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcIi4vc29ja2V0LmpzXCI7XG4vKipcbiAqIE1hbmFnZXJzIGNhY2hlLlxuICovXG5jb25zdCBjYWNoZSA9IHt9O1xuZnVuY3Rpb24gbG9va3VwKHVyaSwgb3B0cykge1xuICAgIGlmICh0eXBlb2YgdXJpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG9wdHMgPSB1cmk7XG4gICAgICAgIHVyaSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgY29uc3QgcGFyc2VkID0gdXJsKHVyaSwgb3B0cy5wYXRoIHx8IFwiL3NvY2tldC5pb1wiKTtcbiAgICBjb25zdCBzb3VyY2UgPSBwYXJzZWQuc291cmNlO1xuICAgIGNvbnN0IGlkID0gcGFyc2VkLmlkO1xuICAgIGNvbnN0IHBhdGggPSBwYXJzZWQucGF0aDtcbiAgICBjb25zdCBzYW1lTmFtZXNwYWNlID0gY2FjaGVbaWRdICYmIHBhdGggaW4gY2FjaGVbaWRdW1wibnNwc1wiXTtcbiAgICBjb25zdCBuZXdDb25uZWN0aW9uID0gb3B0cy5mb3JjZU5ldyB8fFxuICAgICAgICBvcHRzW1wiZm9yY2UgbmV3IGNvbm5lY3Rpb25cIl0gfHxcbiAgICAgICAgZmFsc2UgPT09IG9wdHMubXVsdGlwbGV4IHx8XG4gICAgICAgIHNhbWVOYW1lc3BhY2U7XG4gICAgbGV0IGlvO1xuICAgIGlmIChuZXdDb25uZWN0aW9uKSB7XG4gICAgICAgIGlvID0gbmV3IE1hbmFnZXIoc291cmNlLCBvcHRzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY2FjaGVbaWRdKSB7XG4gICAgICAgICAgICBjYWNoZVtpZF0gPSBuZXcgTWFuYWdlcihzb3VyY2UsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGlvID0gY2FjaGVbaWRdO1xuICAgIH1cbiAgICBpZiAocGFyc2VkLnF1ZXJ5ICYmICFvcHRzLnF1ZXJ5KSB7XG4gICAgICAgIG9wdHMucXVlcnkgPSBwYXJzZWQucXVlcnlLZXk7XG4gICAgfVxuICAgIHJldHVybiBpby5zb2NrZXQocGFyc2VkLnBhdGgsIG9wdHMpO1xufVxuLy8gc28gdGhhdCBcImxvb2t1cFwiIGNhbiBiZSB1c2VkIGJvdGggYXMgYSBmdW5jdGlvbiAoZS5nLiBgaW8oLi4uKWApIGFuZCBhcyBhXG4vLyBuYW1lc3BhY2UgKGUuZy4gYGlvLmNvbm5lY3QoLi4uKWApLCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuT2JqZWN0LmFzc2lnbihsb29rdXAsIHtcbiAgICBNYW5hZ2VyLFxuICAgIFNvY2tldCxcbiAgICBpbzogbG9va3VwLFxuICAgIGNvbm5lY3Q6IGxvb2t1cCxcbn0pO1xuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHsgcHJvdG9jb2wgfSBmcm9tIFwic29ja2V0LmlvLXBhcnNlclwiO1xuLyoqXG4gKiBFeHBvc2UgY29uc3RydWN0b3JzIGZvciBzdGFuZGFsb25lIGJ1aWxkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHsgTWFuYWdlciwgU29ja2V0LCBsb29rdXAgYXMgaW8sIGxvb2t1cCBhcyBjb25uZWN0LCBsb29rdXAgYXMgZGVmYXVsdCwgfTtcbiIsImltcG9ydCB7IHBhcnNlIH0gZnJvbSBcImVuZ2luZS5pby1jbGllbnRcIjtcbi8qKlxuICogVVJMIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0gdXJpIC0gdXJsXG4gKiBAcGFyYW0gcGF0aCAtIHRoZSByZXF1ZXN0IHBhdGggb2YgdGhlIGNvbm5lY3Rpb25cbiAqIEBwYXJhbSBsb2MgLSBBbiBvYmplY3QgbWVhbnQgdG8gbWltaWMgd2luZG93LmxvY2F0aW9uLlxuICogICAgICAgIERlZmF1bHRzIHRvIHdpbmRvdy5sb2NhdGlvbi5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVybCh1cmksIHBhdGggPSBcIlwiLCBsb2MpIHtcbiAgICBsZXQgb2JqID0gdXJpO1xuICAgIC8vIGRlZmF1bHQgdG8gd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8ICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24pO1xuICAgIGlmIChudWxsID09IHVyaSlcbiAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgXCIvL1wiICsgbG9jLmhvc3Q7XG4gICAgLy8gcmVsYXRpdmUgcGF0aCBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKFwiL1wiID09PSB1cmkuY2hhckF0KDApKSB7XG4gICAgICAgICAgICBpZiAoXCIvXCIgPT09IHVyaS5jaGFyQXQoMSkpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MuaG9zdCArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9eKGh0dHBzP3x3c3M/KTpcXC9cXC8vLnRlc3QodXJpKSkge1xuICAgICAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBsb2MpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBcImh0dHBzOi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2VcbiAgICAgICAgb2JqID0gcGFyc2UodXJpKTtcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIHdlIHRyZWF0IGBsb2NhbGhvc3Q6ODBgIGFuZCBgbG9jYWxob3N0YCBlcXVhbGx5XG4gICAgaWYgKCFvYmoucG9ydCkge1xuICAgICAgICBpZiAoL14oaHR0cHx3cykkLy50ZXN0KG9iai5wcm90b2NvbCkpIHtcbiAgICAgICAgICAgIG9iai5wb3J0ID0gXCI4MFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKC9eKGh0dHB8d3MpcyQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgICAgICAgb2JqLnBvcnQgPSBcIjQ0M1wiO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9iai5wYXRoID0gb2JqLnBhdGggfHwgXCIvXCI7XG4gICAgY29uc3QgaXB2NiA9IG9iai5ob3N0LmluZGV4T2YoXCI6XCIpICE9PSAtMTtcbiAgICBjb25zdCBob3N0ID0gaXB2NiA/IFwiW1wiICsgb2JqLmhvc3QgKyBcIl1cIiA6IG9iai5ob3N0O1xuICAgIC8vIGRlZmluZSB1bmlxdWUgaWRcbiAgICBvYmouaWQgPSBvYmoucHJvdG9jb2wgKyBcIjovL1wiICsgaG9zdCArIFwiOlwiICsgb2JqLnBvcnQgKyBwYXRoO1xuICAgIC8vIGRlZmluZSBocmVmXG4gICAgb2JqLmhyZWYgPVxuICAgICAgICBvYmoucHJvdG9jb2wgK1xuICAgICAgICAgICAgXCI6Ly9cIiArXG4gICAgICAgICAgICBob3N0ICtcbiAgICAgICAgICAgIChsb2MgJiYgbG9jLnBvcnQgPT09IG9iai5wb3J0ID8gXCJcIiA6IFwiOlwiICsgb2JqLnBvcnQpO1xuICAgIHJldHVybiBvYmo7XG59XG4iLCJpbXBvcnQgeyBpbyB9IGZyb20gXCJzb2NrZXQuaW8tY2xpZW50XCI7XHJcbmV4cG9ydCBjbGFzcyBTb2NrZXRNYW5hZ2VyIHtcclxuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcclxuICAgICAgICBpZiAoU29ja2V0TWFuYWdlci5zb2NrZXQgPT0gdW5kZWZpbmVkIHx8IFNvY2tldE1hbmFnZXIuc29ja2V0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQgPSBpbygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gU29ja2V0TWFuYWdlci5zb2NrZXQ7XHJcbiAgICB9XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZU1hbmFnZXIsIGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudGFnID0gXCJFVkVOVEhBTkRMRVJcIjtcclxuICAgICAgICB0aGlzLmVtaXR0ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMudW5yZWdpc3RlcmVkID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgICAgIHRoaXMuc2NlbmVNYW5hZ2VyID0gc2NlbmVNYW5hZ2VyO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIFNvY2tldE1hbmFnZXIuc29ja2V0LmVtaXQoXCJjbGlja1wiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIFNvY2tldE1hbmFnZXIuc29ja2V0LmVtaXQoXCJrZXlkb3duXCIsIGV2ZW50LmtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXRDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJMaXN0ZW5lcihjb21wb25lbnQpIHtcclxuICAgICAgICBsZXQgZW1pdHRlciA9IHRoaXMuZW1pdHRlcnMuZ2V0KGNvbXBvbmVudC5nZXRFdmVudFR5cGUoKSk7XHJcbiAgICAgICAgaWYgKGVtaXR0ZXIpIHtcclxuICAgICAgICAgICAgZW1pdHRlci5hZGRMaXN0ZW5lcihjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlZ2lzdGVyRW1pdHRlcihjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmVtaXR0ZXJzLnNldChjb21wb25lbnQuZ2V0RXZlbnRUeXBlKCksIGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICByZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgaWYgKGNvbXAuY29tcG9uZW50SWQgPT0gdW5kZWZpbmVkIHx8IGNvbXAuY29tcG9uZW50SWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSB0aGlzLnNjZW5lTWFuYWdlci5nZXRVbmlxdWVDb21wb25lbnRJZCgpO1xyXG4gICAgICAgICAgICBjb21wLmNvbXBvbmVudElkID0gaWQ7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgY29tcC5pbml0aWFsaXplKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGlkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChjb21wLmNvbXBvbmVudElkLCBjb21wKTtcclxuICAgICAgICAgICAgY29tcC5pbml0aWFsaXplKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNvY2tldCBNYW5hZ2VyIHJlZ2lzdGVyZWRcIik7XHJcbiAgICB9XHJcbiAgICB1bnJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBsZXQgZGVsZXRlZCA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlZC5hbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZWQucHVzaChkZWxldGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNsaWVudCBTb2NrZXQgSGFuZGxlclwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNsaWVudCBTb2NrZXQgSGFuZGxlciBDb21wb25lbnRzOlwiICsgdGhpcy5jb21wb25lbnRzLnNpemUpO1xyXG4gICAgICAgIGZvciAobGV0IGVtaXR0ZXIgb2YgdGhpcy5lbWl0dGVycykge1xyXG4gICAgICAgICAgICBlbWl0dGVyWzFdLnVwZGF0ZShkdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICBsZXQgZW1pdHRlciA9IHRoaXMuZW1pdHRlcnMuZ2V0KHRoaXMubGlzdGVuZXJzW2ldLmdldEV2ZW50VHlwZSgpKTtcclxuICAgICAgICAgICAgaWYgKGVtaXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGVtaXR0ZXIuYWRkTGlzdGVuZXIodGhpcy5saXN0ZW5lcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbaV0gPSB0aGlzLmxpc3RlbmVyc1t0aGlzLmxpc3RlbmVycy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnBvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNvY2tldE1hbmFnZXIuanMubWFwIiwiZXhwb3J0IGNsYXNzIFRleHQge1xyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgIH1cclxuICAgIGNvbnN0cnVjdG9yKHRleHQpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiR1JBUEhJQ1NcIjtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHsgeDogMTAwLCB5OiAxMDAsIHo6IDAgfTtcclxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgfVxyXG4gICAgdW5tb3VudCgpIHtcclxuICAgIH1cclxuICAgIGNvcHkodGV4dCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SWQgPSB0ZXh0LmNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gdGV4dC5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dC50ZXh0O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnggPSB0aGlzLnRyYW5zZm9ybS54O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnkgPSB0aGlzLnRyYW5zZm9ybS55O1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmN0eC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMudHJhbnNmb3JtLngsIHRoaXMudHJhbnNmb3JtLnkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoKSB7XHJcbiAgICB9XHJcbiAgICBnZXRSZWN0YW5nbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9zOiB0aGlzLnRyYW5zZm9ybSxcclxuICAgICAgICAgICAgZGltOiB7IGxlbmd0aDogMCwgaGVpZ2h0OiAwIH0sXHJcbiAgICAgICAgICAgIHJvdDogMFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICB0b0pzb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW50aXR5OiB0aGlzLmVudGl0eSxcclxuICAgICAgICAgICAgZW5naW5lVGFnOiB0aGlzLmVuZ2luZVRhZyxcclxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IHRoaXMuY29tcG9uZW50SWQsXHJcbiAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCxcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZSxcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0aGlzLnRyYW5zZm9ybVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dC5qcy5tYXAiLCJpbXBvcnQgeyBUZXh0IH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9UZXh0LmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBMYWJlbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnRleHQgPSBuZXcgVGV4dChcInRlc3RcIik7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW3RoaXMudGV4dF07XHJcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBcIkxhYmVsXCI7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGFiZWwuanMubWFwIiwiaW1wb3J0IHsgR1JBUEhJQ1NfVEFHIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzXCI7XHJcbmltcG9ydCB7IGdldFRvcFgsIGdldFRvcFksIHJlY3RhbmdsZUNvcHkgfSBmcm9tIFwiLi4vLi4vdHlwZXMvY29tcG9uZW50cy9jb2xsaXNpb24vc2hhcGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIFRpbWVkU3ByaXRlU2hlZXQge1xyXG4gICAgY29uc3RydWN0b3IocGF0aCwgcmVjdGFuZ2xlLCBkZWxheSwgbGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IEdSQVBISUNTX1RBRztcclxuICAgICAgICB0aGlzLnN0YXRlID0gMDtcclxuICAgICAgICB0aGlzLnRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gcmVjdGFuZ2xlLnBvcztcclxuICAgICAgICB0aGlzLnNoYXBlID0gcmVjdGFuZ2xlO1xyXG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcclxuICAgIH1cclxuICAgIHVubW91bnQoKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5jdHgpIHtcclxuICAgICAgICAgICAgbGV0IHggPSBnZXRUb3BYKHRoaXMuc2hhcGUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRyYXduIHdpdGggU3RhdGUgXCIgKyB0aGlzLnN0YXRlKTtcclxuICAgICAgICAgICAgbGV0IHkgPSBnZXRUb3BZKHRoaXMuc2hhcGUpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCB0aGlzLnNoYXBlLmRpbS5sZW5ndGggKiB0aGlzLnN0YXRlLCAwLCB0aGlzLnNoYXBlLmRpbS5sZW5ndGgsIHRoaXMuc2hhcGUuZGltLmhlaWdodCwgeCwgeSwgdGhpcy5zaGFwZS5kaW0ubGVuZ3RoLCB0aGlzLnNoYXBlLmRpbS5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb250ZXh0IGlzIG5vdCBpbmplY3RlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IHRoaXMucGF0aDtcclxuICAgICAgICB0aGlzLnN0YXRlID0gMDtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICAgICAgdGhpcy50aW1lICs9IGR0O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgU3ByaXRlc2hlZXRcIik7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZSA+IHRoaXMuZGVsYXkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUaW1lIGlzIGdyZWF0ZXIgdGhhbiBkZWxheVwiKTtcclxuICAgICAgICAgICAgbGV0IHN0YXRlQ2hhbmdlID0gTWF0aC5mbG9vcih0aGlzLnRpbWUgLyB0aGlzLmRlbGF5KTtcclxuICAgICAgICAgICAgbGV0IG51bVN0YXRlcyA9IE1hdGguZmxvb3IodGhpcy5pbWFnZS53aWR0aCAvIHRoaXMuc2hhcGUuZGltLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW1hZ2Ugd2lkdGggaXMgXCIgKyB0aGlzLmltYWdlLndpZHRoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdGF0ZSBjaGFuZ2UgaXMgXCIgKyBzdGF0ZUNoYW5nZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAoMSArIHRoaXMuc3RhdGUpICUgbnVtU3RhdGVzO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUgPSB0aGlzLnRpbWUgJSB0aGlzLmRlbGF5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldFJlY3RhbmdsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaGFwZTtcclxuICAgIH1cclxuICAgIGNvcHkoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBjb21wb25lbnQuZW50aXR5O1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGNvbXBvbmVudC52aXNpYmxlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSBjb21wb25lbnQuYWxpdmU7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IGNvbXBvbmVudC5jb21wb25lbnRJZDtcclxuICAgICAgICB0aGlzLnBhdGggPSBjb21wb25lbnQucGF0aDtcclxuICAgICAgICB0aGlzLmRlbGF5ID0gY29tcG9uZW50LmRlbGF5O1xyXG4gICAgICAgIHRoaXMucmVuZGVyZWQgPSBjb21wb25lbnQucmVuZGVyZWQ7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ueCA9IGNvbXBvbmVudC50cmFuc2Zvcm0ueDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS55ID0gY29tcG9uZW50LnRyYW5zZm9ybS55O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnogPSBjb21wb25lbnQudHJhbnNmb3JtLno7XHJcbiAgICAgICAgcmVjdGFuZ2xlQ29weSh0aGlzLnNoYXBlLCBjb21wb25lbnQuc2hhcGUpO1xyXG4gICAgfVxyXG4gICAgdG9KU09OKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGVudGl0eTogdGhpcy5lbnRpdHksXHJcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiB0aGlzLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICBlbmdpbmVUYWc6IHRoaXMuZW5naW5lVGFnLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMudHJhbnNmb3JtLFxyXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnZpc2libGUsXHJcbiAgICAgICAgICAgIGFsaXZlOiB0aGlzLmFsaXZlLFxyXG4gICAgICAgICAgICBzcmM6IHRoaXMucGF0aCxcclxuICAgICAgICAgICAgc2hhcGU6IHRoaXMuc2hhcGUsXHJcbiAgICAgICAgICAgIGRlbGF5OiB0aGlzLmRlbGF5LFxyXG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcclxuICAgICAgICAgICAgdGltZTogdGhpcy50aW1lLFxyXG4gICAgICAgICAgICBwYXRoOiB0aGlzLnBhdGgsXHJcbiAgICAgICAgICAgIHJlbmRlcmVkOiB0aGlzLnJlbmRlcmVkXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVzaGVldC5qcy5tYXAiLCJpbXBvcnQgeyBUaW1lZFNwcml0ZVNoZWV0IH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9TcHJpdGVzaGVldC5qc1wiO1xyXG5leHBvcnQgY2xhc3MgU3dvcmRBbmltIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtuZXcgVGltZWRTcHJpdGVTaGVldChcIi9pbWFnZXMvU3dvcmRTcHJpdGVTaGVldC5wbmdcIiwgeyBkaW06IHsgbGVuZ3RoOiAzMiwgaGVpZ2h0OiAzMiB9LCBwb3M6IHsgeDogMjAsIHk6IDIwLCB6OiAwIH0sIHJvdDogMCB9LCAzLCAzMildO1xyXG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gXCJTV09SREFOSU1cIjtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Td29yZEFuaW0uanMubWFwIiwiLy9hZGRpblxyXG5leHBvcnQgZnVuY3Rpb24gc2VydmVyQWRkKHNjZW5lLCBlbnRpdHkpIHtcclxuICAgIGlmIChlbnRpdHkuaWQgPT0gbnVsbCB8fCBlbnRpdHkuaWQgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW50aXR5IGlkIGlzIHVuZGVmaW5lZFwiKTtcclxuICAgIH1cclxuICAgIGVudGl0eS5zY2VuZSA9IHNjZW5lO1xyXG4gICAgc2NlbmUuZW50aXRpZXMuc2V0KGVudGl0eS5pZCwgZW50aXR5KTtcclxuICAgIGlmIChzY2VuZS5uZXdFbnRpdHlRdWV1ZSkge1xyXG4gICAgICAgIGxldCBpc0luUXVldWUgPSBzY2VuZS5uZXdFbnRpdHlRdWV1ZS5oYXMoZW50aXR5LmlkKTtcclxuICAgICAgICBpZiAoIWlzSW5RdWV1ZSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb21wIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcExpc3QgPSBzY2VuZS5lbmdpbmVDb21wb25lbnRzLmdldChjb21wLmVuZ2luZVRhZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcExpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3lzdGVtID0gc2NlbmUuc2NlbmVNYW5hZ2VyLnN5c3RlbVRhZy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzeXN0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtLnJlZ2lzdGVyKGNvbXAsIHNjZW5lLmdldFVuaXF1ZUNvbXBvbmVudElkKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbXAuZW5naW5lVGFnICsgXCIgdGFnZ2VkIFN5c3RlbSBpcyBub3QgZm91bmRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzZnVsbHkgYWRkZWQgZW50aXR5c1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAobGV0IGNvbXAgb2YgZW50aXR5LmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgbGV0IGNvbXBMaXN0ID0gc2NlbmUuZW5naW5lQ29tcG9uZW50cy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICBpZiAoY29tcExpc3QpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzeXN0ZW0gPSBzY2VuZS5zY2VuZU1hbmFnZXIuc3lzdGVtVGFnLmdldChjb21wLmVuZ2luZVRhZyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3lzdGVtLnJlZ2lzdGVyKGNvbXAsIHNjZW5lLmdldFVuaXF1ZUNvbXBvbmVudElkKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29tcC5lbmdpbmVUYWcgKyBcIiB0YWdnZWQgU3lzdGVtIGlzIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NmdWxseSBhZGRlZCBlbnRpdHlzXCIpO1xyXG4gICAgICAgIHJldHVybiBlbnRpdHk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUVudGl0eShzY2VuZSwgaWQpIHtcclxuICAgIGxldCBlbnRpdHkgPSBzY2VuZS5lbnRpdGllcy5nZXQoaWQpO1xyXG4gICAgaWYgKGVudGl0eSkge1xyXG4gICAgICAgIHNjZW5lLmVudGl0aWVzLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgZm9yIChsZXQgYyBvZiBlbnRpdHkuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBvbmVudFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3lzdGVtXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjLnN5c3RlbSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcG9uZW50IGlkIFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYy5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgIGMuc3lzdGVtLnVucmVnaXN0ZXIoYy5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVudGl0eTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2VuZVV0aWxzLmpzLm1hcCIsImltcG9ydCB7IEVuZ2luZVR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuaW1wb3J0IHsgU2NlbmVNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2NvcmUvbWFuYWdlcnMvU2NlbmVNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IFNvY2tldE1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9tYW5hZ2Vycy9Tb2NrZXRNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IHNlcnZlckFkZCB9IGZyb20gXCIuLi8uLi9jb3JlL3NjZW5lVXRpbHMuanNcIjtcclxuZXhwb3J0IGNsYXNzIFNvY2tldENsaWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihzb2NrZXRNYXAsIHNvY2tldENvbmZpZykge1xyXG4gICAgICAgIHRoaXMuZW1pc3Npb25RdWV1ZSA9IFtdO1xyXG4gICAgICAgIHRoaXMubGlzdGVuUXVldWUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lckxvY2sgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJFVkVOVEhBTkRMRVJcIjtcclxuICAgICAgICB0aGlzLnNuYXBTaG90cyA9IFtdO1xyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zb2NrZXRNYXAgPSBzb2NrZXRNYXA7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5zb2NrZXRDb25maWcgPSBzb2NrZXRDb25maWc7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKHN5c3RlbSkge1xyXG4gICAgICAgIHN5c3RlbS5yZWdpc3RlckVtaXR0ZXIodGhpcyk7XHJcbiAgICAgICAgc3lzdGVtLnJlZ2lzdGVyTGlzdGVuZXIodGhpcyk7XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5zb2NrZXRNYXApLm1hcCgoW2ssIHZdKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnNldChrLCB2KTtcclxuICAgICAgICAgICAgU29ja2V0TWFuYWdlci5nZXRJbnN0YW5jZSgpLm9uKGssIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZnVuYyA9IHRoaXMuZXZlbnRzLmdldChrKTtcclxuICAgICAgICAgICAgICAgIGlmIChmdW5jICYmICF0aGlzLmxpc3RlbmVyTG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuUXVldWUuc2V0KGssIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMuc2V0KFwidXBkYXRlXCIsIChzZXJ2ZXJEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBzY2VuZSA9IFNjZW5lTWFuYWdlci5jdXJyU2NlbmU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGltZSBEaWZmZXJlbmNlIFwiICsgKHNlcnZlckRhdGEudGltZXN0YW1wIC0gdGhpcy50aW1lKSk7XHJcbiAgICAgICAgICAgIGlmIChzY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5U2VudCBvZiBzZXJ2ZXJEYXRhLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZ2V0U2NlbmUgPSBzY2VuZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0U2NlbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHF1ZXJpZWRFbnRpdHkgPSBnZXRTY2VuZS5lbnRpdGllcy5nZXQoZW50aXR5U2VudC5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWVyaWVkRW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudGl0eVNlbnQuY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbmdpbmUgPSBnZXRTY2VuZS5lbmdpbmVDb21wb25lbnRzLmdldChlbnRpdHlTZW50LmNvbXBvbmVudHNbaV0uZW5naW5lVGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tcCA9IGVuZ2luZT8uZ2V0KGVudGl0eVNlbnQuY29tcG9uZW50c1tpXS5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcC5jb3B5KGVudGl0eVNlbnQuY29tcG9uZW50c1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBZGRpbmcgbmV3IEVudGl0eVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbnRpdHlGYWN0b3J5ID0gdGhpcy5zb2NrZXRDb25maWcuZW50aXR5R2VuZXJhdG9yTWFwLmdldChlbnRpdHlTZW50LmVudGl0eUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHlGYWN0b3J5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVudGl0eSA9IGVudGl0eUZhY3RvcnkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkuaWQgPSBlbnRpdHlTZW50LmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5zY2VuZSA9IGdldFNjZW5lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZW50aXR5LmNvbXBvbmVudHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LmNvbXBvbmVudHNbal0uY29weShlbnRpdHlTZW50LmNvbXBvbmVudHNbal0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJBZGQoZ2V0U2NlbmUsIGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNjZW5lIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBTb2NrZXRNYW5hZ2VyLmdldEluc3RhbmNlKCkub24oXCJ1cGRhdGVcIiwgKHNlcnZlckRhdGEpID0+IHtcclxuICAgICAgICAgICAgbGV0IGZ1bmMgPSB0aGlzLmV2ZW50cy5nZXQoXCJ1cGRhdGVcIik7XHJcbiAgICAgICAgICAgIGlmIChmdW5jICYmICF0aGlzLmxpc3RlbmVyTG9jaykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbiB1cGRhdFwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlcnZlckRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5RdWV1ZS5zZXQoXCJ1cGRhdGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiBcInVwZGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHNlcnZlckRhdGFcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhZGRMaXN0ZW5lcihjb21wb25lbnQpIHtcclxuICAgICAgICBsZXQgZXZlbnRzID0gY29tcG9uZW50LmdldEV2ZW50cygpO1xyXG4gICAgICAgIGZvciAobGV0IGV2ZW50IG9mIGV2ZW50cykge1xyXG4gICAgICAgICAgICBTb2NrZXRNYW5hZ2VyLmdldEluc3RhbmNlKCkub24oZXZlbnRbMF0sIGV2ZW50WzFdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbWl0KGV2ZW50KSB7XHJcbiAgICAgICAgU29ja2V0TWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXQoZXZlbnQuZXZlbnQsIGV2ZW50LmRhdGEpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZW1pc3Npb25RdWV1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQodGhpcy5lbWlzc2lvblF1ZXVlW2ldKTtcclxuICAgICAgICAgICAgdGhpcy5lbWlzc2lvblF1ZXVlLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxpc3RlbmVyTG9jayA9IHRydWU7XHJcbiAgICAgICAgZm9yIChsZXQgaSBvZiB0aGlzLmxpc3RlblF1ZXVlKSB7XHJcbiAgICAgICAgICAgIGxldCBmdW5jID0gdGhpcy5ldmVudHMuZ2V0KGlbMF0pO1xyXG4gICAgICAgICAgICBpZiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgZnVuYyhpWzFdLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5saXN0ZW5RdWV1ZS5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJMb2NrID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBxdWV1ZUV2ZW50KGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5lbWlzc2lvblF1ZXVlLnB1c2goZXZlbnQpO1xyXG4gICAgfVxyXG4gICAgY29weShjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBjb21wb25lbnQudmlzaWJsZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gY29tcG9uZW50LmFsaXZlO1xyXG4gICAgICAgIHRoaXMuc29ja2V0Q29uZmlnLmVuZ2luZVR5cGUgPSBjb21wb25lbnQuc29ja2V0Q29uZmlnLmVuZ2luZVR5cGU7XHJcbiAgICB9XHJcbiAgICBnZXRFdmVudFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiU29ja2V0U2VydmVyXCI7XHJcbiAgICB9XHJcbiAgICAvL0xpc3RlbmVyIHBvcnRpb25cclxuICAgIGV4ZWN1dGUoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgbGV0IGZ1bmMgPSB0aGlzLmV2ZW50cy5nZXQoZXZlbnQuZXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgZnVuYyhldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldEV2ZW50cygpIHtcclxuICAgICAgICBsZXQgbWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuc29ja2V0TWFwKS5tYXAoKFtrLCB2XSkgPT4ge1xyXG4gICAgICAgICAgICBtYXAuc2V0KGssIHYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBtYXA7XHJcbiAgICB9XHJcbiAgICB0b0pTT04oKSB7XHJcbiAgICAgICAgbGV0IGVuZ2luZVR5cGUgPSB0aGlzLnNvY2tldENvbmZpZy5lbmdpbmVUeXBlID09IEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5UID8gRW5naW5lVHlwZS5TT0NLRVRTRVJWRVIgOiBFbmdpbmVUeXBlLlNPQ0tFVENMSUVOVDtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnZpc2libGUsXHJcbiAgICAgICAgICAgIGFsaXZlOiB0aGlzLmFsaXZlLFxyXG4gICAgICAgICAgICBzb2NrZXRDb25maWc6IHtcclxuICAgICAgICAgICAgICAgIGVuZ2luZVR5cGU6IGVuZ2luZVR5cGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U29ja2V0U2VydmVyRW1pdHRlci5qcy5tYXAiLCJpbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiLi4vZW5naW5lL3NyYy9jb3JlL2VuZ2luZS5qc1wiO1xyXG5pbXBvcnQgeyBHcmFwaGljc0NvbmZpZywgU2NlbmVDb25maWcgfSBmcm9tIFwiLi4vZW5naW5lL3NyYy9jb3JlL2NvbmZpZy5qc1wiO1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9zY2VuZXMvZW50aXRpZXMvUGxheWVyLmpzXCI7XHJcbmltcG9ydCB7IFN0YWdlIH0gZnJvbSBcIi4uL2VuZ2luZS9zcmMvY29yZS9zY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBUZW1wbGFyIH0gZnJvbSBcIi4vc2NlbmVzL2VudGl0aWVzL1RlbXBsYXIuanNcIjtcclxuaW1wb3J0IHsgTWFpbkNhbWVyYSB9IGZyb20gXCIuL3NjZW5lcy9lbnRpdGllcy9NYWluQ2FtZXJhLmpzXCI7XHJcbmltcG9ydCB7IEVuZ2luZVR5cGUgfSBmcm9tIFwiLi4vZW5naW5lL3NyYy9jb25zdGFudHMvZW5naW5lVHlwZS5qc1wiO1xyXG5pbXBvcnQgeyBTb2NrZXRNYW5hZ2VyIH0gZnJvbSBcIi4uL2VuZ2luZS9zcmMvY29yZS9tYW5hZ2Vycy9Tb2NrZXRNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIi4vc2NlbmVzL2VudGl0aWVzL0xhYmVsLmpzXCI7XHJcbmltcG9ydCB7IFN3b3JkQW5pbSB9IGZyb20gXCIuL3NjZW5lcy9lbnRpdGllcy9Td29yZEFuaW0uanNcIjtcclxuaW1wb3J0IHsgTW91c2VMaXN0ZW5lciB9IGZyb20gXCIuLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvRXZlbnQvTGlzdGVuZXIuanNcIjtcclxuaW1wb3J0IHsgU29ja2V0Q2xpZW50IH0gZnJvbSBcIi4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9FdmVudC9Tb2NrZXRTZXJ2ZXJFbWl0dGVyLmpzXCI7XHJcbmltcG9ydCB7IEtleUJvYXJkRW1pdHRlciB9IGZyb20gXCIuLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvRXZlbnQvS2V5Ym9hcmQuanNcIjtcclxubGV0IG1hcCA9IG5ldyBNYXAoKTtcclxubWFwLnNldChcIlRlbXBsYXJcIiwgKCkgPT4geyByZXR1cm4gbmV3IFRlbXBsYXIoKTsgfSk7XHJcbm1hcC5zZXQoXCJNYWluQ2FtZXJhXCIsICgpID0+IHsgY29uc29sZS5sb2coXCJjYW1lcmEgbWFkZVwiKTsgcmV0dXJuIG5ldyBNYWluQ2FtZXJhKCk7IH0pO1xyXG5tYXAuc2V0KFwiUGxheWVyXCIsICgpID0+IHsgcmV0dXJuIG5ldyBQbGF5ZXIoKTsgfSk7XHJcbm1hcC5zZXQoXCJMYWJlbFwiLCAoKSA9PiB7IHJldHVybiBuZXcgTGFiZWwoKTsgfSk7XHJcbm1hcC5zZXQoXCJTV09SREFOSU1cIiwgKCkgPT4geyByZXR1cm4gbmV3IFN3b3JkQW5pbSgpOyB9KTtcclxuY2xhc3MgVGVzdCBleHRlbmRzIFN0YWdlIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0aWVzKSB7XHJcbiAgICAgICAgc3VwZXIoXCJOYW1lXCIpO1xyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmVuZ2luZUNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZUNvbmZpZyA9IG5ldyBTY2VuZUNvbmZpZyhlbnRpdGllcyk7XHJcbiAgICAgICAgbGV0IHNvY2tldCA9IG5ldyBTb2NrZXRDbGllbnQoeyBcImNvbm5lY3RcIjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm9vbUlkID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvb21BcnIgPSByb29tSWQuc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICAgICAgICAgU29ja2V0TWFuYWdlci5nZXRJbnN0YW5jZSgpLmVtaXQoXCJqb2luZWRcIiwgd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJQbGF5ZXJOYW1lXCIpLCByb29tQXJyW3Jvb21BcnIubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbWl0dGluZ1wiKTtcclxuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KHsgZXZlbnQ6IFwiY2xpZW50SW5pdGlhbGl6ZVwiLCBkYXRhOiBudWxsIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9lbmdpbmUuc3RhcnQoMjAwMClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJkaXNjb25uZWN0XCI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgICAgICB9IH0sIHsgZW5naW5lVHlwZTogRW5naW5lVHlwZS5TT0NLRVRDTElFTlQsIGVudGl0eUdlbmVyYXRvck1hcDogbWFwIH0pO1xyXG4gICAgICAgIGxldCBtb3VzZSA9IG5ldyBNb3VzZUxpc3RlbmVyKHsgXCJjbGlja1wiOiAoY2xpY2tFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQb3NpdGlvbiB4IGlzIFwiICsgY2xpY2tFdmVudC5wb3MueCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvc2l0aW9uIHkgaXMgXCIgKyBjbGlja0V2ZW50LnBvcy55KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmFtZSBpcyBcIiArIGNsaWNrRXZlbnQuZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KHsgZXZlbnQ6IFwiY2xpY2tcIiwgZGF0YTogbnVsbCB9KTtcclxuICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcG9zID0ge3g6IGNsaWNrRXZlbnQucG9zLngsIHk6IGNsaWNrRXZlbnQucG9zLnksIHo6IC0yMH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkaW0gPSB7bGVuZ3RoOiBNYXRoLnJhbmRvbSgpICogMzAgKyAxICwgaGVpZ2h0OiBNYXRoLnJhbmRvbSgpICogMzAgKyAxfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWN0ID0gbmV3IFJlY3RhbmdsZUVudGl0eShwb3MsIGRpbSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmFkZEVudGl0eSh0aGlzLnNjZW5lLCByZWN0KVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBxdWFkID0gcXVhZHRyZWUuaW5zZXJ0KHJlY3QucmVjdGFuZ2xlLnNoYXBlKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBxdWFkUmVjdCA9IHF1YWRNYXAuZ2V0KHF1YWQpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHF1YWRSZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QucmVjdGFuZ2xlLmNvbG9yID0gcXVhZFJlY3QuY29sb3JcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImRibGNsaWNrXCI6IChjbGlja2V2bnQpID0+IHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKHNvY2tldCwgbmV3IEtleUJvYXJkRW1pdHRlcihFbmdpbmVUeXBlLlNPQ0tFVENMSUVOVCkpO1xyXG4gICAgfVxyXG4gICAgZ2V0U2NlbmVDb25maWcoKSB7XHJcbiAgICAgICAgbGV0IHBsYXllciA9IG5ldyBQbGF5ZXIoeyB4OiAyMCwgeTogMjAsIHo6IDIwIH0sIHsgeDogMC4xLCB5OiAwLCB6OiAwIH0sIEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5UKTtcclxuICAgICAgICB0aGlzLnNjZW5lQ29uZmlnLmVudGl0aWVzLnB1c2godGhpcywgcGxheWVyKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZUNvbmZpZztcclxuICAgIH1cclxufVxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgIFxyXG4gICAgbGV0IHNvY2tldDogU29ja2V0ID0gaW8oKVxyXG5cclxuICAgIGxldCBDT05GSUc6IFBoYXNlci5UeXBlcy5Db3JlLkdhbWVDb25maWcgPSB7XHJcbiAgICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgICAgdGl0bGU6ICd0ZXN0JyxcclxuICAgICAgICBwYXJlbnQ6ICdnYW1lJyxcclxuICAgICAgICBzY2VuZTogW1xyXG4gICAgICAgICAgICBuZXcgV2FpdGluZ1NjZW5lKHNvY2tldClcclxuICAgICAgICBdLFxyXG4gICAgICAgIHNjYWxlOiB7XHJcbiAgICAgICAgICAgIG1vZGU6IFBoYXNlci5TY2FsZS5DRU5URVJfQk9USCxcclxuICAgICAgICAgICAgd2lkdGg6IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aCAtICh3aW5kb3cub3V0ZXJXaWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoKSxcclxuICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0IC0gKHdpbmRvdy5vdXRlckhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodClcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjM2FiYTNhXCIsXHJcbiAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXHJcblxyXG4gICAgICAgIGRvbToge1xyXG4gICAgICAgICAgICBjcmVhdGVDb250YWluZXI6IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAgICAgc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKT0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCcpXHJcbiAgICAgICAgICAgIGxldCByb29tSWQ6IHN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZVxyXG4gICAgICAgICAgICBsZXQgcm9vbUFycjogc3RyaW5nW10gID0gcm9vbUlkLnNwbGl0KFwiL1wiKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyb29tQXJyW3Jvb21BcnIubGVuZ3RoLTFdKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyb29tSWQpXHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiQWRkUGxheWVyXCIsIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiUGxheWVyTmFtZVwiKSwgcm9vbUFycltyb29tQXJyLmxlbmd0aC0xXSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSlcclxuICAgICAgICBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Rpc2Nvbm5lY3RlZCcpXHJcbiAgICAgICAgfSlcclxuICAgIGxldCBnYW1lOiBQaGFzZXIuR2FtZSA9IG5ldyBQaGFzZXIuR2FtZShDT05GSUcpXHJcbiAgICBsZXQgcGxheWVyID1cclxuICAgICovXHJcbiAgICBsZXQgc2NlbmUgPSBuZXcgVGVzdChbXHJcbiAgICAgICAgbmV3IE1haW5DYW1lcmEoKSxcclxuICAgIF0pO1xyXG4gICAgbGV0IGVuZ2luZSA9IG5ldyBFbmdpbmUoe1xyXG4gICAgICAgIGVuZ2luZVR5cGU6IEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5ULFxyXG4gICAgICAgIGdyYXBoaWNzQ29uZmlnOiBuZXcgR3JhcGhpY3NDb25maWcoXCJ0ZXN0XCIsIFwiMTkzYXNcIiwgeyBcImRpc3BsYXk6ZmxleDtiYWNrZ3JvdW5kLWNvbG9yXCI6IFwid2hpdGVcIiwgXCJ3aWR0aFwiOiBcIjEwMCVcIiwgXCJoZWlnaHRcIjogXCIxMDAlXCIsIFwiei1pbmRleFwiOiBcIjBcIiB9KSxcclxuICAgICAgICBzY2VuZUNvbmZpZzogW1xyXG4gICAgICAgICAgICBzY2VuZVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgcGh5c2ljc0NvbmZpZzoge30sXHJcbiAgICAgICAgc2NyaXB0aW5nQ29uZmlnOiB7fVxyXG4gICAgfSk7XHJcbiAgICBlbmdpbmUuc3lzdGVtcy5wdXNoKG5ldyBTb2NrZXRNYW5hZ2VyKGVuZ2luZS5zY2VuZU1hbmFnZXIsIHtcclxuICAgICAgICBlbnRpdHlGYWN0b3J5TWFwOiBtYXAsXHJcbiAgICAgICAgc29ja2V0RXZlbnRNYXA6IChzb2NrZXQpID0+IHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgIHNvY2tldC5vbihcImNsaWVudEluaXRpYWxpemVcIiwgKGVudGl0aWVzOiBFbnRpdHlQYWNrZXRbXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjbGllbnRJbml0aWFsaXplIGFjdGl2YXRlZFwiKVxyXG4gICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5U2VudCBvZiBlbnRpdGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBnZXRTY2VuZSA9IGVuZ2luZS5zY2VuZU1hbmFnZXIuc2NlbmVzLmdldChlbnRpdHlTZW50LnNjZW5lSWQpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldFNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdFbnRpdHlGYWN0b3J5ID0gbWFwLmdldChlbnRpdHlTZW50LmVudGl0eUNsYXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3RW50aXR5RmFjdG9yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0VudGl0eSA9IG5ld0VudGl0eUZhY3RvcnkoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RW50aXR5LmlkID0gZW50aXR5U2VudC5pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RW50aXR5LnNjZW5lID0gZW5naW5lLnNjZW5lTWFuYWdlci5zY2VuZXMuZ2V0KGVudGl0eVNlbnQuc2NlbmVJZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3RW50aXR5LmNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFbnRpdHkuY29tcG9uZW50c1tpXS5jb3B5KGVudGl0eVNlbnQuY29tcG9uZW50c1tpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFNjZW5lLmFkZEVudGl0eShnZXRTY2VuZSwgbmV3RW50aXR5LCAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWRkZWQgXCIrIG5ld0VudGl0eS5jbGFzc05hbWUpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgZW50aXR5OyBDbGFzcyBuYW1lOiBcIiArIGVudGl0eVNlbnQuZW50aXR5Q2xhc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTY2VuZSBub3QgZm91bmRcIilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICBmb3IgKGxldCBlIG9mIGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlkID0gMFxyXG4gICAgICAgICAgICAgICAgaWYgKGUuaWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBlLmlkXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlbnQgaXRlbXMgaXMgXCIgKyBlbnRpdHkgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZW5naW5lLnNjZW5lTWFuYWdlci5nZXRDdXJyZW50U2NlbmUoKS5hZGRFbnRpdHkoZW5naW5lLnNjZW5lTWFuYWdlci5nZXRDdXJyZW50U2NlbmUoKSxlICwgZS5pZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAvL30pXHJcbiAgICAgICAgICAgIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm9vbUlkID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvb21BcnIgPSByb29tSWQuc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoXCJqb2luZWRcIiwgd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJQbGF5ZXJOYW1lXCIpLCByb29tQXJyW3Jvb21BcnIubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbWl0dGluZ1wiKTtcclxuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiY2xpZW50SW5pdGlhbGl6ZVwiKTtcclxuICAgICAgICAgICAgICAgIC8vZW5naW5lLnN0YXJ0KDIwMDApXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pKTtcclxuICAgIGVuZ2luZS5zdGFydCgxMCk7XHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJFdmVudEhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImV2ZW50Q29uZmlnIiwia2V5Ym9hcmQiLCJtb3VzZSIsInRoaXMiLCJ0YWciLCJkZWxldGVkIiwiY29tcG9uZW50cyIsIk1hcCIsImV2ZW50cyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInB1c2giLCJyZWdpc3Rlckxpc3RlbmVyIiwicmVnaXN0ZXJFbWl0dGVyIiwiZ2V0Q29uZmlnIiwicmVnaXN0ZXIiLCJjb21wIiwiaWQiLCJ1bmRlZmluZWQiLCJjb21wb25lbnRJZCIsInN5c3RlbSIsInNldCIsImNvbnNvbGUiLCJsb2ciLCJ1bnJlZ2lzdGVyIiwiYWxpdmUiLCJ1cGRhdGUiLCJkdCIsInNpemUiLCJrZXlzIiwibGVuZ3RoIiwicG9wIiwiZGVsZXRlIiwiR1JBUEhJQ1NfVEFHIiwiUXVhZFRyZWUiLCJnZXRRdWFkIiwicGFyZW50Tm9kZSIsIlF1YWRUcmVlTm9kZSIsInF1ZXJ5IiwiYm94IiwiY2xlYXIiLCJpbnNlcnQiLCJpdGVtIiwicXVhZE5vZGUiLCJyZW1vdmUiLCJFcnJvciIsInRvU3RyaW5nIiwiZGVwdGgiLCJjaGlsZHJlbiIsIml0ZW1zIiwibWF4RGVwdGgiLCJhcmVhIiwicmVzaXplIiwibGlzdCIsInF1ZXJ5SGVscGVyIiwiYW5zd2VyIiwiaSIsImNvbGxpZGVzIiwiZ2V0UmVjdGFuZ2xlIiwiY29udGFpbnMiLCJnZXRJdGVtTGlzdCIsInJlY3RhbmdsZSIsInBvcyIsIngiLCJkaW0iLCJ5IiwiaGVpZ2h0IiwiY291bnQiLCJ0YWJzIiwicmV0dXJuZWQiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGFpbmVyIiwiY29udGFpbmVkIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyZWN0YW5nbGUxIiwicmVjdGFuZ2xlMiIsIlF1YWRUcmVlU3RyYXRlZ3kiLCJncmFwaGljc0VuZ2luZSIsInJlZ2lzdGVkRWxlbWVudHMiLCJxdWFkdHJlZSIsInJlZ2lzdGVyU3RyYXRlZ3kiLCJjb21wb25lbnQiLCJkZXJlZ2lzdGVyU3RyYXRlZ3kiLCJyZW5kZXIiLCJyZW5kZXJpbmdBcnIiLCJHcmFwaGljc0VuZ2luZSIsImdyYXBoaWNzQ29uZmlnIiwiY29udGV4dCIsInJlbmRlcmluZyIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJ3aWR0aCIsImJvZHkiLCJtYXJnaW4iLCJjb250ZXh0SW5mbyIsInoiLCJyb3QiLCJnZXRDYW52YXMiLCJyZW5kZXJTdHJhdGVneSIsInJlbmRlcmVkIiwiaW5pdGlhbGl6ZSIsImVudGl0eSIsImN0eCIsImMiLCJzZXRTY2VuZSIsInNjZW5lIiwiZW5naW5lQ29tcG9uZW50cyIsInJlZ2lzdGVyRG9tRWxlbWVudHMiLCJQaHlzaWNzRW5naW5lIiwiY29uZmlnIiwiRW5naW5lVHlwZSIsIlNjcmlwdGluZ0VuZ2luZSIsImVuZ2luZVR5cGUiLCJCT1RIIiwiQ29udGV4dEluZm8iLCJzZXR1cCIsImNhbnZhcyIsImdlbmVyYXRlQ2FudmFzIiwiZ2V0Q29udGV4dCIsImRpdiIsImdlbmVyYXRlRGl2IiwicGFyZW50IiwiY3JlYXRlRWxlbWVudCIsInpJbmRleCIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsImFwcGVuZENoaWxkIiwiY2FudmFzSUQiLCJwYXJzZVN0eWxlIiwic2V0QXR0cmlidXRlIiwiZ2V0Q3R4IiwiZ2V0RWxlbWVudEJ5SWQiLCJIVE1MQ2FudmFzRWxlbWVudCIsInN0eWxlT2JqZWN0IiwiY3NzQXJyYXkiLCJlbnRyaWVzIiwibWFwIiwiayIsInYiLCJqb2luIiwiYmFja2dyb3VuZCIsImltYWdlIiwiSW1hZ2UiLCJzcmMiLCJwb3NpdGlvbiIsIlNjZW5lTWFuYWdlciIsImVuZ2luZUNvbmZpZyIsInNjZW5lcyIsInN5c3RlbXMiLCJzeXN0ZW1UYWciLCJTT0NLRVRDTElFTlQiLCJTT0NLRVRTRVJWRVIiLCJDTElFTlRPTkxZIiwibmV3U2NlbmUiLCJzY2VuZU1hbmFnZXIiLCJuYW1lIiwic2NlbmVDb25maWdzIiwiY3VycmVudElkeCIsInN3aXRjaFNjZW5lcyIsInN5cyIsImdldEN1cnJlbnRTY2VuZSIsImN1cnIiLCJpZHgiLCJjdXJyU2NlbmUiLCJnZXRVbmlxdWVJZCIsImdldFVuaXF1ZUNvbXBvbmVudElkIiwiTmFpdmVDb2xsaXNpb24iLCJyZWdpc3RlckNvbXBvbmVudCIsImtleTEiLCJjb2wxIiwidmlzaWJsZSIsImtleTIiLCJjb2wyIiwiY2hlY2tDb2xsaXNpb24iLCJDb2xsaXNpb25TeXN0ZW0iLCJib3VuZHMiLCJjb2xsaXNpb25TdHJhdGVneSIsInBvcHBlZCIsImRlbGV0ZUNvbXBvbmVudCIsImNvbCIsIkVuZ2luZSIsImdhbWVDb25maWciLCJzdGFydFRpbWUiLCJwaHlzaWNzQ29uZmlnIiwic2NyaXB0aW5nQ29uZmlnIiwiY29sbGlzaW9uQ29uZmlnIiwiZ3JhcGhpY3MiLCJzY2VuZUNvbmZpZyIsInJ1bm5pbmciLCJzdGFydCIsImdldFNjZW5lQ29uZmlnIiwiZW50aXRpZXMiLCJhZGRFbnRpdHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lc3RhbXAiLCJkZWx0YVRpbWUiLCJ0aW1lIiwicHJvY2VzcyIsImhydGltZSIsImJpZ2ludCIsInNldEludGVydmFsIiwic2VydmVyVXBkYXRlIiwiY3VyclRpbWUiLCJyZWFsRGVsdGEiLCJOdW1iZXIiLCJHcmFwaGljc0NvbmZpZyIsIlNjZW5lQ29uZmlnIiwiVHJhbnNmb3JtIiwidmVsIiwiYWNjZWwiLCJlbmdpbmVUYWciLCJjb3B5IiwidHJhbnNmb3JtIiwidG9KU09OIiwiZ2V0VG9wWCIsImdldFRvcFkiLCJTcHJpdGUiLCJzaGFwZSIsInVubW91bnQiLCJlbGVtZW50IiwidmlzaXQiLCJkcmF3SW1hZ2UiLCJzZXRTcmMiLCJyZW5kZXJyZWQiLCJNb3VzZUxpc3RlbmVyIiwiY2xpY2tNYXAiLCJleGVjdXRlIiwiZnVuYyIsImV2ZW50TmFtZSIsImdldEV2ZW50VHlwZSIsImxpc3RlbmVyIiwiZ2V0RXZlbnRzIiwiU2NyaXB0IiwiY2FsbGJhY2siLCJzY3JpcHQiLCJjb21wb25lbklkIiwiUGxheWVyIiwiY2xhc3NOYW1lIiwic3ByaXRlIiwiY2xpY2siLCJTdGFnZSIsInN0YWdlTmFtZSIsInVuaXF1ZUlkIiwiY29tcExpc3QiLCJyZW1vdmVFbnRpdHkiLCJhZGRTZXJ2ZXJFbnRpdHkiLCJuZXdFbnRpdHlRdWV1ZSIsImhhcyIsIlRlbXBsYXIiLCJNYXRoIiwicmFuZG9tIiwiQ2FtZXJhIiwic2NhbGUiLCJjYW1lcmEiLCJhcnJheSIsInRyYW5zbGF0ZSIsImNsZWFyUmVjdCIsInNhdmUiLCJLZXlib2FyZExpc3RlbmVyIiwiS2V5Qm9hcmRFbWl0dGVyIiwiZW5naW5lIiwibGlzdGVuZXJzIiwiU2V0IiwiYWRkTGlzdGVuZXIiLCJhZGQiLCJlbWl0IiwiTWFpbkNhbWVyYSIsIlBBQ0tFVF9UWVBFUyIsImNyZWF0ZSIsIlBBQ0tFVF9UWVBFU19SRVZFUlNFIiwiZm9yRWFjaCIsIkVSUk9SX1BBQ0tFVCIsInR5cGUiLCJkYXRhIiwid2l0aE5hdGl2ZUJsb2IiLCJCbG9iIiwid2l0aE5hdGl2ZUFycmF5QnVmZmVyIiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJidWZmZXIiLCJlbmNvZGVQYWNrZXQiLCJzdXBwb3J0c0JpbmFyeSIsImVuY29kZUJsb2JBc0Jhc2U2NCIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiY29udGVudCIsInJlc3VsdCIsInNwbGl0IiwicmVhZEFzRGF0YVVSTCIsInRvQXJyYXkiLCJVaW50OEFycmF5IiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJURVhUX0VOQ09ERVIiLCJlbmNvZGVQYWNrZXRUb0JpbmFyeSIsInBhY2tldCIsImFycmF5QnVmZmVyIiwidGhlbiIsImVuY29kZWQiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsImxvb2t1cCIsImNoYXJzIiwiY2hhckNvZGVBdCIsImRlY29kZVBhY2tldCIsImVuY29kZWRQYWNrZXQiLCJiaW5hcnlUeXBlIiwibWFwQmluYXJ5IiwiY2hhckF0IiwiZGVjb2RlQmFzZTY0UGFja2V0Iiwic3Vic3RyaW5nIiwiZGVjb2RlZCIsImJhc2U2NCIsImVuY29kZWQxIiwiZW5jb2RlZDIiLCJlbmNvZGVkMyIsImVuY29kZWQ0IiwiYnVmZmVyTGVuZ3RoIiwibGVuIiwicCIsImFycmF5YnVmZmVyIiwiYnl0ZXMiLCJkZWNvZGUiLCJTRVBBUkFUT1IiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJURVhUX0RFQ09ERVIiLCJFbWl0dGVyIiwibWl4aW4iLCJvbiIsImZuIiwiX2NhbGxiYWNrcyIsIm9uY2UiLCJvZmYiLCJhcHBseSIsImFyZ3VtZW50cyIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNiIiwiY2FsbGJhY2tzIiwic3BsaWNlIiwiYXJncyIsIkFycmF5Iiwic2xpY2UiLCJlbWl0UmVzZXJ2ZWQiLCJoYXNMaXN0ZW5lcnMiLCJnbG9iYWxUaGlzU2hpbSIsInNlbGYiLCJGdW5jdGlvbiIsInBpY2siLCJhdHRyIiwicmVkdWNlIiwiYWNjIiwiTkFUSVZFX1NFVF9USU1FT1VUIiwic2V0VGltZW91dCIsIk5BVElWRV9DTEVBUl9USU1FT1VUIiwiY2xlYXJUaW1lb3V0IiwiaW5zdGFsbFRpbWVyRnVuY3Rpb25zIiwib3B0cyIsInVzZU5hdGl2ZVRpbWVycyIsInNldFRpbWVvdXRGbiIsImJpbmQiLCJjbGVhclRpbWVvdXRGbiIsIlRyYW5zcG9ydEVycm9yIiwicmVhc29uIiwiZGVzY3JpcHRpb24iLCJzdXBlciIsIlRyYW5zcG9ydCIsIndyaXRhYmxlIiwic29ja2V0Iiwib25FcnJvciIsIm9wZW4iLCJyZWFkeVN0YXRlIiwiZG9PcGVuIiwiY2xvc2UiLCJkb0Nsb3NlIiwib25DbG9zZSIsInNlbmQiLCJwYWNrZXRzIiwid3JpdGUiLCJvbk9wZW4iLCJvbkRhdGEiLCJvblBhY2tldCIsImRldGFpbHMiLCJwYXVzZSIsIm9uUGF1c2UiLCJjcmVhdGVVcmkiLCJzY2hlbWEiLCJfaG9zdG5hbWUiLCJfcG9ydCIsInBhdGgiLCJfcXVlcnkiLCJob3N0bmFtZSIsImluZGV4T2YiLCJwb3J0Iiwic2VjdXJlIiwiZW5jb2RlZFF1ZXJ5Iiwic3RyIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYWxwaGFiZXQiLCJwcmV2Iiwic2VlZCIsIm51bSIsImZsb29yIiwieWVhc3QiLCJub3ciLCJEYXRlIiwiWE1MSHR0cFJlcXVlc3QiLCJlcnIiLCJoYXNDT1JTIiwiWEhSIiwieGRvbWFpbiIsImUiLCJjb25jYXQiLCJlbXB0eSIsImhhc1hIUjIiLCJyZXNwb25zZVR5cGUiLCJSZXF1ZXN0IiwidXJpIiwibWV0aG9kIiwiX2EiLCJ4ZCIsInhociIsImV4dHJhSGVhZGVycyIsInNldERpc2FibGVIZWFkZXJDaGVjayIsInNldFJlcXVlc3RIZWFkZXIiLCJjb29raWVKYXIiLCJhZGRDb29raWVzIiwid2l0aENyZWRlbnRpYWxzIiwicmVxdWVzdFRpbWVvdXQiLCJ0aW1lb3V0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicGFyc2VDb29raWVzIiwic3RhdHVzIiwib25Mb2FkIiwiaW5kZXgiLCJyZXF1ZXN0c0NvdW50IiwicmVxdWVzdHMiLCJjbGVhbnVwIiwiZnJvbUVycm9yIiwiYWJvcnQiLCJyZXNwb25zZVRleHQiLCJ1bmxvYWRIYW5kbGVyIiwiYXR0YWNoRXZlbnQiLCJuZXh0VGljayIsIlByb21pc2UiLCJyZXNvbHZlIiwiV2ViU29ja2V0IiwiTW96V2ViU29ja2V0IiwiaXNSZWFjdE5hdGl2ZSIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ0b0xvd2VyQ2FzZSIsInNob3VsZEluY2x1ZGVCaW5hcnlIZWFkZXIiLCJ0cmFuc3BvcnRzIiwid2Vic29ja2V0IiwiZm9yY2VCYXNlNjQiLCJjaGVjayIsInByb3RvY29scyIsImhlYWRlcnMiLCJ3cyIsImFkZEV2ZW50TGlzdGVuZXJzIiwib25vcGVuIiwiYXV0b1VucmVmIiwiX3NvY2tldCIsInVucmVmIiwib25jbG9zZSIsImNsb3NlRXZlbnQiLCJvbm1lc3NhZ2UiLCJldiIsIm9uZXJyb3IiLCJsYXN0UGFja2V0IiwidGltZXN0YW1wUmVxdWVzdHMiLCJ0aW1lc3RhbXBQYXJhbSIsImI2NCIsIndlYnRyYW5zcG9ydCIsIldlYlRyYW5zcG9ydCIsInRyYW5zcG9ydCIsInRyYW5zcG9ydE9wdGlvbnMiLCJjbG9zZWQiLCJjYXRjaCIsInJlYWR5IiwiY3JlYXRlQmlkaXJlY3Rpb25hbFN0cmVhbSIsInN0cmVhbSIsInJlYWRlciIsInJlYWRhYmxlIiwiZ2V0UmVhZGVyIiwiYmluYXJ5RmxhZyIsIndyaXRlciIsImdldFdyaXRlciIsInJlYWQiLCJkb25lIiwiaXNCaW5hcnkiLCJUZXh0RGVjb2RlciIsImlzUGxhaW5CaW5hcnkiLCJkZWNvZGVQYWNrZXRGcm9tQmluYXJ5IiwiaGFuZHNoYWtlIiwic2lkIiwib2YiLCJwb2xsaW5nIiwibG9jYXRpb24iLCJpc1NTTCIsInByb3RvY29sIiwiY3JlYXRlQ29va2llSmFyIiwicG9sbCIsInRvdGFsIiwiZG9Qb2xsIiwiZW5jb2RlZFBheWxvYWQiLCJlbmNvZGVkUGFja2V0cyIsImRlY29kZWRQYWNrZXQiLCJkZWNvZGVQYXlsb2FkIiwiZW5jb2RlUGF5bG9hZCIsImRvV3JpdGUiLCJyZXF1ZXN0IiwiYXNzaWduIiwicmVxIiwieGhyU3RhdHVzIiwicG9sbFhociIsInJlIiwicGFydHMiLCJwYXJzZSIsImIiLCJyZXBsYWNlIiwibSIsImV4ZWMiLCJzb3VyY2UiLCJob3N0IiwiYXV0aG9yaXR5IiwiaXB2NnVyaSIsInBhdGhOYW1lcyIsIm5hbWVzIiwicXVlcnlLZXkiLCIkMCIsIiQxIiwiJDIiLCJTb2NrZXQiLCJ3cml0ZUJ1ZmZlciIsInByZXZCdWZmZXJMZW4iLCJhZ2VudCIsInVwZ3JhZGUiLCJyZW1lbWJlclVwZ3JhZGUiLCJhZGRUcmFpbGluZ1NsYXNoIiwicmVqZWN0VW5hdXRob3JpemVkIiwicGVyTWVzc2FnZURlZmxhdGUiLCJ0aHJlc2hvbGQiLCJjbG9zZU9uQmVmb3JldW5sb2FkIiwicXMiLCJxcnkiLCJwYWlycyIsImwiLCJwYWlyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwidXBncmFkZXMiLCJwaW5nSW50ZXJ2YWwiLCJwaW5nVGltZW91dCIsInBpbmdUaW1lb3V0VGltZXIiLCJiZWZvcmV1bmxvYWRFdmVudExpc3RlbmVyIiwib2ZmbGluZUV2ZW50TGlzdGVuZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJFSU8iLCJwcmlvcldlYnNvY2tldFN1Y2Nlc3MiLCJzaGlmdCIsInNldFRyYW5zcG9ydCIsIm9uRHJhaW4iLCJwcm9iZSIsImZhaWxlZCIsIm9uVHJhbnNwb3J0T3BlbiIsIm1zZyIsInVwZ3JhZGluZyIsImZsdXNoIiwiZnJlZXplVHJhbnNwb3J0IiwiZXJyb3IiLCJvblRyYW5zcG9ydENsb3NlIiwib251cGdyYWRlIiwidG8iLCJvbkhhbmRzaGFrZSIsInJlc2V0UGluZ1RpbWVvdXQiLCJzZW5kUGFja2V0IiwiY29kZSIsImZpbHRlclVwZ3JhZGVzIiwibWF4UGF5bG9hZCIsImdldFdyaXRhYmxlUGFja2V0cyIsInBheWxvYWRTaXplIiwidXRmOExlbmd0aCIsImNlaWwiLCJvcHRpb25zIiwiY29tcHJlc3MiLCJjbGVhbnVwQW5kQ2xvc2UiLCJ3YWl0Rm9yVXBncmFkZSIsImZpbHRlcmVkVXBncmFkZXMiLCJqIiwid2l0aE5hdGl2ZUZpbGUiLCJGaWxlIiwiaGFzQmluYXJ5IiwiaXNBcnJheSIsImRlY29uc3RydWN0UGFja2V0IiwiYnVmZmVycyIsInBhY2tldERhdGEiLCJwYWNrIiwiX2RlY29uc3RydWN0UGFja2V0IiwiYXR0YWNobWVudHMiLCJwbGFjZWhvbGRlciIsIl9wbGFjZWhvbGRlciIsIm5ld0RhdGEiLCJyZWNvbnN0cnVjdFBhY2tldCIsIl9yZWNvbnN0cnVjdFBhY2tldCIsIlJFU0VSVkVEX0VWRU5UUyIsIlBhY2tldFR5cGUiLCJFbmNvZGVyIiwicmVwbGFjZXIiLCJFVkVOVCIsIkFDSyIsImVuY29kZUFzU3RyaW5nIiwiZW5jb2RlQXNCaW5hcnkiLCJCSU5BUllfRVZFTlQiLCJCSU5BUllfQUNLIiwibnNwIiwiZGVjb25zdHJ1Y3Rpb24iLCJ1bnNoaWZ0IiwiaXNPYmplY3QiLCJEZWNvZGVyIiwicmV2aXZlciIsInJlY29uc3RydWN0b3IiLCJkZWNvZGVTdHJpbmciLCJpc0JpbmFyeUV2ZW50IiwiQmluYXJ5UmVjb25zdHJ1Y3RvciIsInRha2VCaW5hcnlEYXRhIiwiYnVmIiwibmV4dCIsInBheWxvYWQiLCJ0cnlQYXJzZSIsInN1YnN0ciIsImlzUGF5bG9hZFZhbGlkIiwic3RhdGljIiwiQ09OTkVDVCIsIkRJU0NPTk5FQ1QiLCJDT05ORUNUX0VSUk9SIiwiZGVzdHJveSIsImZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24iLCJyZWNvblBhY2siLCJiaW5EYXRhIiwiZnJlZXplIiwiY29ubmVjdCIsImNvbm5lY3RfZXJyb3IiLCJkaXNjb25uZWN0IiwiZGlzY29ubmVjdGluZyIsIm5ld0xpc3RlbmVyIiwiaW8iLCJjb25uZWN0ZWQiLCJyZWNvdmVyZWQiLCJyZWNlaXZlQnVmZmVyIiwic2VuZEJ1ZmZlciIsIl9xdWV1ZSIsIl9xdWV1ZVNlcSIsImlkcyIsImFja3MiLCJmbGFncyIsImF1dGgiLCJfb3B0cyIsIl9hdXRvQ29ubmVjdCIsImRpc2Nvbm5lY3RlZCIsInN1YkV2ZW50cyIsInN1YnMiLCJvbnBhY2tldCIsImFjdGl2ZSIsIl9yZWFkeVN0YXRlIiwicmV0cmllcyIsImZyb21RdWV1ZSIsInZvbGF0aWxlIiwiX2FkZFRvUXVldWUiLCJhY2siLCJfcmVnaXN0ZXJBY2tDYWxsYmFjayIsImlzVHJhbnNwb3J0V3JpdGFibGUiLCJub3RpZnlPdXRnb2luZ0xpc3RlbmVycyIsImFja1RpbWVvdXQiLCJ0aW1lciIsImVtaXRXaXRoQWNrIiwid2l0aEVyciIsInJlamVjdCIsImFyZzEiLCJhcmcyIiwidHJ5Q291bnQiLCJwZW5kaW5nIiwicmVzcG9uc2VBcmdzIiwiX2RyYWluUXVldWUiLCJmb3JjZSIsIl9wYWNrZXQiLCJfc2VuZENvbm5lY3RQYWNrZXQiLCJfcGlkIiwicGlkIiwib2Zmc2V0IiwiX2xhc3RPZmZzZXQiLCJvbmNvbm5lY3QiLCJvbmV2ZW50Iiwib25hY2siLCJvbmRpc2Nvbm5lY3QiLCJtZXNzYWdlIiwiZW1pdEV2ZW50IiwiX2FueUxpc3RlbmVycyIsInNlbnQiLCJlbWl0QnVmZmVyZWQiLCJzdWJEZXN0cm95Iiwib25BbnkiLCJwcmVwZW5kQW55Iiwib2ZmQW55IiwibGlzdGVuZXJzQW55Iiwib25BbnlPdXRnb2luZyIsIl9hbnlPdXRnb2luZ0xpc3RlbmVycyIsInByZXBlbmRBbnlPdXRnb2luZyIsIm9mZkFueU91dGdvaW5nIiwibGlzdGVuZXJzQW55T3V0Z29pbmciLCJCYWNrb2ZmIiwibXMiLCJtaW4iLCJtYXgiLCJmYWN0b3IiLCJqaXR0ZXIiLCJhdHRlbXB0cyIsImR1cmF0aW9uIiwicG93IiwicmFuZCIsImRldmlhdGlvbiIsInJlc2V0Iiwic2V0TWluIiwic2V0TWF4Iiwic2V0Sml0dGVyIiwiTWFuYWdlciIsIm5zcHMiLCJyZWNvbm5lY3Rpb24iLCJyZWNvbm5lY3Rpb25BdHRlbXB0cyIsIkluZmluaXR5IiwicmVjb25uZWN0aW9uRGVsYXkiLCJyZWNvbm5lY3Rpb25EZWxheU1heCIsInJhbmRvbWl6YXRpb25GYWN0b3IiLCJiYWNrb2ZmIiwiX3BhcnNlciIsInBhcnNlciIsImVuY29kZXIiLCJkZWNvZGVyIiwiYXV0b0Nvbm5lY3QiLCJfcmVjb25uZWN0aW9uIiwiX3JlY29ubmVjdGlvbkF0dGVtcHRzIiwiX3JlY29ubmVjdGlvbkRlbGF5IiwiX3JhbmRvbWl6YXRpb25GYWN0b3IiLCJfcmVjb25uZWN0aW9uRGVsYXlNYXgiLCJfdGltZW91dCIsIm1heWJlUmVjb25uZWN0T25PcGVuIiwiX3JlY29ubmVjdGluZyIsInJlY29ubmVjdCIsInNraXBSZWNvbm5lY3QiLCJvcGVuU3ViRGVzdHJveSIsImVycm9yU3ViIiwib25waW5nIiwib25kYXRhIiwib25kZWNvZGVkIiwiX2Rlc3Ryb3kiLCJfY2xvc2UiLCJkZWxheSIsIm9ucmVjb25uZWN0IiwiYXR0ZW1wdCIsImNhY2hlIiwicGFyc2VkIiwibG9jIiwidGVzdCIsImhyZWYiLCJ1cmwiLCJzYW1lTmFtZXNwYWNlIiwiZm9yY2VOZXciLCJtdWx0aXBsZXgiLCJTb2NrZXRNYW5hZ2VyIiwiZW1pdHRlcnMiLCJ1bnJlZ2lzdGVyZWQiLCJlbWl0dGVyIiwiVGV4dCIsInRleHQiLCJmaWxsVGV4dCIsInRvSnNvbiIsIkxhYmVsIiwiVGltZWRTcHJpdGVTaGVldCIsInN0YXRlIiwic3RhdGVDaGFuZ2UiLCJudW1TdGF0ZXMiLCJyZWNlaXZlciIsInNlbmRlciIsIlN3b3JkQW5pbSIsInNlcnZlckFkZCIsIlNvY2tldENsaWVudCIsInNvY2tldE1hcCIsInNvY2tldENvbmZpZyIsImVtaXNzaW9uUXVldWUiLCJsaXN0ZW5RdWV1ZSIsImxpc3RlbmVyTG9jayIsInNuYXBTaG90cyIsImdldEluc3RhbmNlIiwic2VydmVyRGF0YSIsImVudGl0eVNlbnQiLCJnZXRTY2VuZSIsImVudGl0eUZhY3RvcnkiLCJlbnRpdHlHZW5lcmF0b3JNYXAiLCJlbnRpdHlDbGFzcyIsInF1ZXVlRXZlbnQiLCJUZXN0Iiwicm9vbUFyciIsInBhdGhuYW1lIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiY2xpY2tFdmVudCIsImNsaWNrZXZudCIsInBsYXllciIsImVudGl0eUZhY3RvcnlNYXAiLCJzb2NrZXRFdmVudE1hcCJdLCJzb3VyY2VSb290IjoiIn0=