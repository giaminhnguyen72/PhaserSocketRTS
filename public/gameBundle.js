(()=>{"use strict";var t,e={d:(t,s)=>{for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},s={};function n(t,e,s){var n=bt.getUniqueId();for(var i of(e.id=n,e.scene=t,t.entities.set(n,e),e.components))if(t.engineComponents.get(i.engineTag)){let e=t.sceneManager.systemTag.get(i.engineTag);e&&e.register(i)}else console.log(i.engineTag+" tagged System is not found");return console.log("successfully added entity"),e}function i(t,e){var s=bt.getUniqueId();for(var n of(e.id=s,e.scene=t,t.entities.set(s,e),e.components))if(t.engineComponents.get(n.engineTag)){let e=t.sceneManager.systemTag.get(n.engineTag);e&&e.register(n)}return console.log("successfully added entity"),e}e.r(s),e.d(s,{Decoder:()=>ct,Encoder:()=>at,PacketType:()=>ht,protocol:()=>rt}),function(t){t[t.SOCKETCLIENT=0]="SOCKETCLIENT",t[t.SOCKETSERVER=1]="SOCKETSERVER",t[t.CLIENTONLY=2]="CLIENTONLY"}(t||(t={}));const o=Object.create(null);o.open="0",o.close="1",o.ping="2",o.pong="3",o.message="4",o.upgrade="5",o.noop="6";const r=Object.create(null);Object.keys(o).forEach((t=>{r[o[t]]=t}));const h={type:"error",data:"parser error"},a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"==typeof ArrayBuffer,p=(t,e)=>{const s=new FileReader;return s.onload=function(){const t=s.result.split(",")[1];e("b"+t)},s.readAsDataURL(t)},l=({type:t,data:e},s,n)=>{return a&&e instanceof Blob?s?n(e):p(e,n):c&&(e instanceof ArrayBuffer||(i=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?s?n(e):p(new Blob([e]),n):n(o[t]+(e||""));var i},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<d.length;t++)u[d.charCodeAt(t)]=t;const f="function"==typeof ArrayBuffer,g=(t,e)=>{if(f){const s=(t=>{let e,s,n,i,o,r=.75*t.length,h=t.length,a=0;"="===t[t.length-1]&&(r--,"="===t[t.length-2]&&r--);const c=new ArrayBuffer(r),p=new Uint8Array(c);for(e=0;e<h;e+=4)s=u[t.charCodeAt(e)],n=u[t.charCodeAt(e+1)],i=u[t.charCodeAt(e+2)],o=u[t.charCodeAt(e+3)],p[a++]=s<<2|n>>4,p[a++]=(15&n)<<4|i>>2,p[a++]=(3&i)<<6|63&o;return c})(t);return m(s,e)}return{base64:!0,data:t}},m=(t,e)=>"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t,y=(t,e)=>{if("string"!=typeof t)return{type:"message",data:m(t,e)};const s=t.charAt(0);return"b"===s?{type:"message",data:g(t.substring(1),e)}:r[s]?t.length>1?{type:r[s],data:t.substring(1)}:{type:r[s]}:h},v=String.fromCharCode(30);function b(t){if(t)return function(t){for(var e in b.prototype)t[e]=b.prototype[e];return t}(t)}b.prototype.on=b.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},b.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},b.prototype.off=b.prototype.removeListener=b.prototype.removeAllListeners=b.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((s=n[i])===e||s.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},b.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){n=0;for(var i=(s=s.slice(0)).length;n<i;++n)s[n].apply(this,e)}return this},b.prototype.emitReserved=b.prototype.emit,b.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},b.prototype.hasListeners=function(t){return!!this.listeners(t).length};const w="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function C(t,...e){return e.reduce(((e,s)=>(t.hasOwnProperty(s)&&(e[s]=t[s]),e)),{})}const k=setTimeout,E=clearTimeout;function x(t,e){e.useNativeTimers?(t.setTimeoutFn=k.bind(w),t.clearTimeoutFn=E.bind(w)):(t.setTimeoutFn=setTimeout.bind(w),t.clearTimeoutFn=clearTimeout.bind(w))}class T extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class I extends b{constructor(t){super(),this.writable=!1,x(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,s){return super.emitReserved("error",new T(t,e,s)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=y(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const O="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),R={};let _,A=0,S=0;function N(t){let e="";do{e=O[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function L(){const t=N(+new Date);return t!==_?(A=0,_=t):t+"."+N(A++)}for(;S<64;S++)R[O[S]]=S;function B(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}let M=!1;try{M="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const P=M;function q(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||P))return new XMLHttpRequest}catch(t){}if(!e)try{return new(w[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function j(){}const D=null!=new q({xdomain:!1}).responseType;class z extends b{constructor(t,e){super(),x(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=C(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new q(t);try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof e.status?e.status:0)}),0))},e.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=z.requestsCount++,z.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=j,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete z.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function U(){for(let t in z.requests)z.requests.hasOwnProperty(t)&&z.requests[t].abort()}z.requestsCount=0,z.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",U):"function"==typeof addEventListener&&addEventListener("onpagehide"in w?"pagehide":"unload",U,!1));const H="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),F=w.WebSocket||w.MozWebSocket,V="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),K={websocket:class extends I{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,s=V?{}:C(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=V?new F(t,e,s):e?new F(t,e):new F(t)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],n=e===t.length-1;l(s,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(t){}n&&H((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let s="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(s=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=L()),this.supportsBinary||(t.b64=1);const n=B(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(n.length?"?"+n:"")}check(){return!!F}},polling:class extends I{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const e="https:"===location.protocol;let s=location.port;s||(s=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=D&&!e}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const s=t.split(v),n=[];for(let t=0;t<s.length;t++){const i=y(s[t],e);if(n.push(i),"error"===i.type)break}return n})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const s=t.length,n=new Array(s);let i=0;t.forEach(((t,o)=>{l(t,!1,(t=>{n[o]=t,++i===s&&e(n.join(v))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let s="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=L()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(s=":"+this.opts.port);const n=B(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(n.length?"?"+n:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new z(this.uri(),t)}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},Y=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function W(t){const e=t,s=t.indexOf("["),n=t.indexOf("]");-1!=s&&-1!=n&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let i=Y.exec(t||""),o={},r=14;for(;r--;)o[$[r]]=i[r]||"";return-1!=s&&-1!=n&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const s=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||s.splice(0,1),"/"==e.slice(-1)&&s.splice(s.length-1,1),s}(0,o.path),o.queryKey=function(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(s[e]=n)})),s}(0,o.query),o}class G extends b{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=W(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=W(e.host).host),x(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},s=t.split("&");for(let t=0,n=s.length;t<n;t++){let n=s[t].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new K[t](s)}open(){let t;if(this.opts.rememberUpgrade&&G.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),s=!1;G.priorWebsocketSuccess=!1;const n=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!s)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;G.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{s||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){s||(s=!0,c(),e.close(),e=null)}const o=t=>{const s=new Error("probe error: "+t);s.transport=e.name,i(),this.emitReserved("upgradeError",s)};function r(){o("transport closed")}function h(){o("socket closed")}function a(t){e&&t.name!==e.name&&i()}const c=()=>{e.removeListener("open",n),e.removeListener("error",o),e.removeListener("close",r),this.off("close",h),this.off("upgrading",a)};e.once("open",n),e.once("error",o),e.once("close",r),this.once("close",h),this.once("upgrading",a),e.open()}onOpen(){if(this.readyState="open",G.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+="string"==typeof(e=n)?function(t){let e=0,s=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}(e):Math.ceil(1.33*(e.byteLength||e.size))),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}var e;return this.writeBuffer}write(t,e,s){return this.sendPacket("message",t,e,s),this}send(t,e,s){return this.sendPacket("message",t,e,s),this}sendPacket(t,e,s,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof s&&(n=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const i={type:t,data:e,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?s():t()})):this.upgrading?s():t()),this}onError(t){G.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let s=0;const n=t.length;for(;s<n;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}G.protocol=4,G.protocol;const J="function"==typeof ArrayBuffer,X=Object.prototype.toString,Q="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===X.call(Blob),Z="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===X.call(File);function tt(t){return J&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||Q&&t instanceof Blob||Z&&t instanceof File}function et(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,s=t.length;e<s;e++)if(et(t[e]))return!0;return!1}if(tt(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return et(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&et(t[e]))return!0;return!1}function st(t){const e=[],s=t.data,n=t;return n.data=nt(s,e),n.attachments=e.length,{packet:n,buffers:e}}function nt(t,e){if(!t)return t;if(tt(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=nt(t[n],e);return s}if("object"==typeof t&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=nt(t[n],e));return s}return t}function it(t,e){return t.data=ot(t.data,e),t.attachments=void 0,t}function ot(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=ot(t[s],e);else if("object"==typeof t)for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=ot(t[s],e));return t}const rt=5;var ht;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(ht||(ht={}));class at{constructor(t){this.replacer=t}encode(t){return t.type!==ht.EVENT&&t.type!==ht.ACK||!et(t)?[this.encodeAsString(t)]:(t.type=t.type===ht.EVENT?ht.BINARY_EVENT:ht.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==ht.BINARY_EVENT&&t.type!==ht.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=st(t),s=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(s),n}}class ct extends b{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t),e.type===ht.BINARY_EVENT||e.type===ht.BINARY_ACK?(this.reconstructor=new pt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!tt(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===ht[s.type])throw new Error("unknown packet type "+s.type);if(s.type===ht.BINARY_EVENT||s.type===ht.BINARY_ACK){const n=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(n,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(i)}if("/"===t.charAt(e+1)){const n=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);s.nsp=t.substring(n,e)}else s.nsp="/";const n=t.charAt(e+1);if(""!==n&&Number(n)==n){const n=e+1;for(;++e;){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}s.id=Number(t.substring(n,e+1))}if(t.charAt(++e)){const n=this.tryParse(t.substr(e));if(!ct.isPayloadValid(s.type,n))throw new Error("invalid payload");s.data=n}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case ht.CONNECT:return"object"==typeof e;case ht.DISCONNECT:return void 0===e;case ht.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case ht.EVENT:case ht.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case ht.ACK:case ht.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class pt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=it(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function lt(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const dt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ut extends b{constructor(t,e,s){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[lt(t,"open",this.onopen.bind(this)),lt(t,"packet",this.onpacket.bind(this)),lt(t,"error",this.onerror.bind(this)),lt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(dt.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');e.unshift(t);const s={type:ht.EVENT,data:e,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,n=e.pop();this._registerAckCallback(t,n),s.id=t}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,e){const s=this.flags.timeout;if(void 0===s)return void(this.acks[t]=e);const n=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),s);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(n),e.apply(this,[null,...t])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this.packet({type:ht.CONNECT,data:t})})):this.packet({type:ht.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ht.CONNECT:if(t.data&&t.data.sid){const e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ht.EVENT:case ht.BINARY_EVENT:this.onevent(t);break;case ht.ACK:case ht.BINARY_ACK:this.onack(t);break;case ht.DISCONNECT:this.ondisconnect();break;case ht.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let s=!1;return function(...n){s||(s=!0,e.packet({type:ht.ACK,id:t,data:n}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ht.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}}function ft(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ft.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-s:t+s}return 0|Math.min(t,this.max)},ft.prototype.reset=function(){this.attempts=0},ft.prototype.setMin=function(t){this.ms=t},ft.prototype.setMax=function(t){this.max=t},ft.prototype.setJitter=function(t){this.jitter=t};class gt extends b{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,x(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new ft({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const i=e.parser||s;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new G(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const n=lt(e,"open",(function(){s.onopen(),t&&t()})),i=lt(e,"error",(e=>{s.cleanup(),s._readyState="closed",this.emitReserved("error",e),t?t(e):s.maybeReconnectOnOpen()}));if(!1!==this._timeout){const t=this._timeout;0===t&&n();const s=this.setTimeoutFn((()=>{n(),e.close(),e.emit("error",new Error("timeout"))}),t);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(n),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(lt(t,"ping",this.onping.bind(this)),lt(t,"data",this.ondata.bind(this)),lt(t,"error",this.onerror.bind(this)),lt(t,"close",this.onclose.bind(this)),lt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){H((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s||(s=new ut(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const t of e)if(this.nsps[t].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const mt={};function yt(t,e){"object"==typeof t&&(e=t,t=void 0);const s=function(t,e="",s){let n=t;s=s||"undefined"!=typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==s?s.protocol+"//"+t:"https://"+t),n=W(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}(t,(e=e||{}).path||"/socket.io"),n=s.source,i=s.id,o=s.path,r=mt[i]&&o in mt[i].nsps;let h;return e.forceNew||e["force new connection"]||!1===e.multiplex||r?h=new gt(n,e):(mt[i]||(mt[i]=new gt(n,e)),h=mt[i]),s.query&&!e.query&&(e.query=s.queryKey),h.socket(s.path,e)}Object.assign(yt,{Manager:gt,Socket:ut,io:yt,connect:yt});class vt{constructor(t){this.tag="EVENTHANDLER",this.deleted=[],this.components=new Map,this.events=[],this.sceneManager=t,this.socket=yt(),this.socket.on("connect",(()=>{this.socket.on("create",(t=>{})),this.socket.on("ypdate",(()=>{}))})),window.addEventListener("click",(t=>{this.events.push("click")})),window.addEventListener("keydown",(t=>{this.events.push(t.key)}))}register(t){if(null==t.componentId||null==t.componentId){let e=bt.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}console.log("Socket Manager registered")}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){console.log("Client Socket Handler"),console.log("Client Socket Handler Components:"+this.components.size),this.components.size;let e=[...this.components.keys()];for(var s of e){var n=this.components.get(s),i=n.eventMap;for(var o of this.events)if(i){var r=i.get(o);r&&r()}n.update(t)}for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}this.events=[]}}class bt{constructor(e,s=[],o){this.systems=o,this.systemTag=new Map,this.scenes=new Map,this.engineConfig=e,e.engineType==t.SOCKETCLIENT?(this.addEntity=i,o.push(new vt(this))):this.addEntity=n;for(let t=0;t<s.length;t++){let e=s[t],n=e.scene;for(var r of(n.sceneManager=this,n.engineComponents=new Map,n.entities=new Map,console.log("In Scene Manager"),this.scenes.set(n.name,n),o))this.systemTag.set(r.tag,r),n.engineComponents.set(r.tag,r.components);for(var h of e.entities)i(n,h)}this.sceneConfigs=s,this.currentIdx=this.sceneConfigs[0].scene.name,this.systems=o}switchScenes(t){let e=this.scenes.get(t);if(e)for(var s of this.systems)if(!e.engineComponents.get(s.tag))throw Error("error in start method")}getCurrentScene(){let t=this.scenes.get(this.currentIdx);if(t)return t;throw Error("Cant get current scene")}static getUniqueId(){return bt.id++}static getUniqueComponentId(){return bt.componentId++}}bt.id=0,bt.componentId=0;class wt{constructor(t={keyboard:!1,mouse:!1}){this.tag="EVENTHANDLER",this.deleted=[],this.components=new Map,this.events=[],this.eventConfig=t,window.addEventListener("click",(t=>{this.events.push("click")})),window.addEventListener("keydown",(t=>{this.events.push(t.key)}))}register(t){if(null==t.componentId||null==t.componentId){let e=bt.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}console.log("Event Handler registered")}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){console.log("Event Handler"),console.log("Event  Handler Components:"+this.components.size),this.components.size;let e=[...this.components.keys()];for(var s of e){var n=this.components.get(s),i=n.eventMap;for(var o of this.events)if(i){var r=i.get(o);r&&r()}n.update(t)}for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}this.events=[]}}class Ct{constructor(t,e){this.tag="GRAPHICS",this.graphicsConfig=t,this.components=new Map,this.deleted=[],document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.body.style.height="100%",document.body.style.width="100%",document.body.style.margin="0",this.contextInfo=e}register(t){if(null==t.componentId||null==t.componentId){let e=bt.getUniqueComponentId();t.componentId=e,t.system=this,t.context=this.contextInfo,t.initialize(),this.components.set(e,t)}}unregister(t){var e;let s=this.components.get(t);s&&(s.alive=!1,this.deleted.push(s),console.log((null===(e=s.entity)||void 0===e?void 0:e.id)+" s Component with id "+s.componentId+"is popped"))}update(t){for(var e of(this.contextInfo.ctx,console.log("Graphics engine running"),this.components))e[1].update(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}}setScene(t){t.engineComponents.get(this.tag)}}class kt{constructor(t){this.tag="PHYSICS",this.deleted=[],this.components=new Map,this.config=t}register(t){if(null==t.componentId||null==t.componentId){let e=bt.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}}unregister(t){var e;let s=this.components.get(t);s&&(s.alive=!1,this.deleted.push(s),console.log((null===(e=s.entity)||void 0===e?void 0:e.id)+" s Component with id "+s.componentId+"is popped"))}update(t){for(var e of(console.log("Physics engine running"),this.components))e[1].update(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}}}class Et{constructor(){this.tag="SCRIPTING",this.deleted=[],this.components=new Map}register(t){if(null==t.componentId||null==t.componentId){let e=bt.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){for(var e of(console.log("Scripting engine running"),this.components))e[1].callback(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}}}class xt{constructor(t){this.graphicsConfig=t,this.graphicsConfig=t,document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.body.style.height="100%",document.body.style.width="100%",document.body.style.margin="0",this.setup(),this.canvas=this.generateCanvas(),this.canvas.width=1e3,this.canvas.height=500,this.ctx=this.canvas.getContext("2d"),this.div=this.generateDiv(this.graphicsConfig.parent)}generateDiv(t){var e=document.createElement("div");return e.id=t,e.style.position="absolute",e.style.height="100%",e.style.width="100%",e.style.zIndex="1",e.style.backgroundImage="/images/test.jpg",e.appendChild(this.canvas),document.body.appendChild(e),console.log("test"),e}generateCanvas(){var t=document.createElement("CANVAS");return t.id=this.graphicsConfig.canvasID,console.log(this.parseStyle(this.graphicsConfig.style)),console.log("Before"),t.setAttribute("style",this.parseStyle(this.graphicsConfig.style)),t}getCtx(){return this.getCanvas().getContext("2d")}getCanvas(){var t=document.getElementById(this.graphicsConfig.canvasID);if(t instanceof HTMLCanvasElement)return t;throw Error("engineCanvas should be a reserved id for DOM Components")}parseStyle(t){var e=Object.entries(t).map((([t,e])=>t+":"+e+";"));return console.log(this.graphicsConfig.parent),e.join(" ")}setup(){var t=new Image;t.src="/images/test.jpg",t.style.position="absolute",t.style.zIndex="-1",t.style.width="100%",t.style.height="100%",document.body.appendChild(t)}}class Tt{constructor(t){this.tag="COLLISION",this.components=new Map,this.config=t,this.deleted=[]}register(t){if(null==t.componentId||null==t.componentId){let e=bt.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){for(var[e,s]of(console.log("Collision System Running"),this.components))if(s.visible)for(var[n,i]of this.components)i.visible&&s.checkCollision(i)&&s!=i?s.collides(i):i.alive||this.deleted.push(i);for(;this.deleted.length>0;){let t=this.deleted.pop();t&&this.deleteComponent(t)}}deleteComponent(t){t.componentId&&this.components.delete(t.componentId)}}class It{constructor(e={engineType:t.CLIENTONLY},s){if(this.canvasID="engineCanvas",this.systems=[],this.time=0,this.engineConfig=e,e.graphicsConfig&&(this.contextInfo=new xt(e.graphicsConfig)),this.engineConfig.eventConfig&&this.systems.push(new wt(this.engineConfig.eventConfig)),this.engineConfig.physicsConfig&&this.systems.push(new kt(this.engineConfig.physicsConfig)),this.engineConfig.scriptingConfig&&this.contextInfo&&this.systems.push(new Et),s)for(var n of s)this.systems.push(n);if(this.engineConfig.collisionConfig&&this.systems.push(new Tt(this.engineConfig.collisionConfig)),this.engineConfig.graphicsConfig&&this.contextInfo&&(console.log("Console.context info"),console.log(this.contextInfo),this.graphics=new Ct(this.engineConfig.graphicsConfig,this.contextInfo),this.systems.push(this.graphics)),s)for(var n of s)this.systems.push(n);for(var n of(this.sceneManager=new bt(this.engineConfig,this.engineConfig.sceneConfig,this.systems),this.running=!0,this.systems))if(!this.sceneManager.getCurrentScene().engineComponents.set(n.tag,n.components))throw Error("error in start method");this.running=!1}start(e){this.running=!0,this.engineConfig.engineType==t.CLIENTONLY||this.engineConfig.engineType==t.SOCKETCLIENT?this.update(e):setTimeout((()=>{this.running&&this.serverUpdate(e)}),e)}update(t){for(var e of this.systems)e.update(t);this.time+=t,console.log(this.time),window.requestAnimationFrame((t=>{let e=t-this.time;this.update(e),this.time=t}))}serverUpdate(t){for(var e of this.systems)e.update(t);this.time+=t,console.log(this.time),setTimeout((()=>{this.running&&this.serverUpdate(t)}),t)}}class Ot{constructor(t="engineDiv",e="engineCanvas",s={},n){this.parent=t,this.canvasID=e,this.style=s,this.background=n}}class Rt{constructor(t,e={x:0,y:0,z:0},s={x:0,y:0,z:0},n={x:0,y:0,z:0}){this.engineTag="PHYSICS",this.visible=!0,this.alive=!0,this.entity=t,this.pos=e,this.vel=s,this.accel=n}update(t){console.log("Position is: "+this.pos.x+" and "+this.pos.y),this.vel.x=this.vel.x+this.accel.x*t,this.vel.y=this.vel.y+this.accel.y*t,this.vel.z=this.vel.z+this.accel.z*t,this.pos.x=this.pos.x+this.vel.x*t,this.pos.y=this.pos.y+this.vel.y*t,this.pos.z=this.pos.z+this.vel.z*t}}class _t{constructor(t,e,s){this.engineTag="GRAPHICS",this.visible=!0,this.alive=!0,this.entity=t,this.transform=e,this.component=this,this.src=s}render(t){t&&t.drawImage(this.image,this.transform.pos.x,this.transform.pos.y,64,64)}update(t){}initialize(){this.image=new Image,this.image.src=this.src}}class At{update(t,e){}constructor(t,e){this.engineTag="GRAPHICS",this.visible=!0,this.alive=!0,this.entity=t,this.transform=e}initialize(){}render(t){if(t){var e=255*Math.random(),s=255*Math.random(),n=255*Math.random();t.fillStyle=`rgb(\n                ${e},\n                ${s},\n                ${n})`,t.fillRect(this.transform.pos.x,this.transform.pos.y,20,20)}}}class St{constructor(t,e){this.engineTag="EVENTHANDLER",this.visible=!0,this.alive=!0,this.entity=t,this.eventMap=new Map,Object.entries(e).map((([t,e])=>{this.eventMap.set(t,e)}))}update(t,e){console.log("In mouse Listener")}}class Nt{constructor(t){this.engineTag="SCRIPTING",this.visible=!0,this.alive=!0,this.callback=t}update(t,e){this.callback(t)}}class Lt{constructor(t,e,s){this.engineTag="COLLISION",this.visible=!0,this.alive=!0,this.entity=t,this.collideType="Box",this.shape={pos:e,dim:{length:20,height:20},rot:0},this.prev={x:e.x,y:e.y,z:e.z},this.onCollision=s}checkCollision(t){if(t instanceof Lt){let e=t.shape,s=this.shape;if(0==e.rot&&0==s.rot)return e.pos.x+e.dim.length>s.pos.x&&e.pos.x<s.pos.x+s.dim.length&&e.pos.y+e.dim.height>s.pos.y&&e.pos.y<s.pos.y+s.dim.height}return!1}collides(t){this.onCollision(t)}update(t,e){this.prev.x=this.shape.pos.x,this.prev.y=this.shape.pos.y,this.prev.z=this.shape.pos.z}}class Bt{constructor(t,e){this.transform=new Rt(this,t,e);var s=new Nt((t=>{this.transform.pos.x,console.log("In Player Script"),this.transform.pos.x<0?(this.transform.pos.x=0,this.transform.vel.x*=-1*Math.random()*2):this.transform.pos.x+20>1e3&&(this.transform.pos.x=980,this.transform.vel.x*=-1*Math.random()*2),this.transform.pos.y<0?(this.transform.pos.y=0,this.transform.vel.y*=-1*Math.random()*2):this.transform.pos.y+20>500&&(this.transform.pos.y=480,this.transform.vel.y*=-1*Math.random()*2)}));this.renderer=new At(this,this.transform),this.listener=new St(this,{click:()=>{this.transform.vel.x*=-1*Math.random()*2,this.transform.vel.y*=-1*Math.random()*2},test2:()=>{}});let n=new _t(this,this.transform,"/images/Knight_Forward.png");new Lt(this,this.transform.pos,(t=>{this.transform.vel.x*=-1,this.transform.vel.y*=-1})),this.components=[this.transform,n,s,this.listener]}}class Mt{constructor(){this.components=[new _t(this,new Rt(this,{x:0,y:0,z:20}),"/images/Templar.png")]}}class Pt{constructor(t,e=-1,s=-1,n={x:0,y:0,z:0},i={x:1,y:1}){this.visible=!0,this.alive=!0,this.engineTag="GRAPHICS",this.height=s,this.width=e,this.pos=n,this.transform=new Rt(t,{x:0,y:0,z:0}),this.entity=t,this.scale=i}initialize(){}update(t,e){let s=this.context.ctx;this.height<0&&(this.height=-1*this.height*this.context.canvas.height),this.width<0&&(this.width=-1*this.width*this.context.canvas.width),this.pos.x+=this.transform.pos.x,this.pos.y+=this.transform.pos.y,this.context.ctx.translate(this.transform.pos.x,this.transform.pos.y),s.clearRect(-1*this.pos.x,-1*this.pos.y,this.width,this.height);let n=this.system.components;for(let t of n)t[1].render(this.context.ctx);this.transform.pos.x=0,this.transform.pos.y=0,this.context.ctx.save()}render(t){}}class qt{constructor(){this.camera=new Pt(this),this.components=[this.camera,new St(this,{w:()=>{this.camera.transform.pos.y-=1},a:()=>{this.camera.transform.pos.x-=1},d:()=>{this.camera.transform.pos.x+=1},s:()=>{this.camera.transform.pos.y+=1}})]}}window.onload=()=>{new It({engineType:t.SOCKETCLIENT,physicsConfig:{},graphicsConfig:new Ot("test","193as",{"background-color":"white",width:"100%",height:"100%"}),sceneConfig:[{scene:new class{constructor(){this.name="test",this.time=0,this.entities=new Map,this.engineComponents=new Map}},entities:[new Bt({x:0,y:0,z:15},{x:2,y:3,z:0}),new Mt,new qt]}],eventConfig:{keyboard:!0,mouse:!0},scriptingConfig:{},collisionConfig:{}}).start(1)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlFLEdBQUssQ0FBQyxJQUdoRCxFQ2JKcGYsT0FBTy9ELE9BQVMsS0ErQ0MsSUFBSWlpQixHQUFPLENBQ3BCakUsV0FBWXJoQixFQUFXc2hCLGFBQ3ZCb0UsY0FBZSxDQUFDLEVBQ2hCdEQsZUFBZ0IsSUFBSStELEdBQWUsT0FBUSxRQUFTLENBQUUsbUJBQW9CLFFBQVMsTUFBUyxPQUFRLE9BQVUsU0FDOUdMLFlBQWEsQ0FDVCxDQUNJM2tCLE1BQU8sSUFkbkIsTUFDSW9ILGNBQ0l6QyxLQUFLaUksS0FBTyxPQUNaakksS0FBSzJmLEtBQU8sRUFDWjNmLEtBQUt0RSxTQUFXLElBQUkrZSxJQUNwQnphLEtBQUtuRSxpQkFBbUIsSUFBSTRlLEdBQ2hDLEdBU1EvZSxTQUFVLENBQ04sSUFBSTBtQixHQUFPLENBQUUzQixFQUFHLEVBQUdDLEVBQUcsRUFBR0MsRUFBRyxJQUFNLENBQUVGLEVBQUcsRUFBR0MsRUFBRyxFQUFHQyxFQUFHLElBQ25ELElBQUk4QixHQUNKLElBQUlPLE1BSWhCOUcsWUFBYSxDQUNUQyxVQUFVLEVBQ1ZDLE9BQU8sR0FFWHlELGdCQUFpQixDQUFDLEVBQ2xCQyxnQkFBaUIsQ0FBQyxJQUVmdk4sTUFBTSxFQUFFLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbnN0YW50cy9lbmdpbmVUeXBlLmpzIiwid2VicGFjazovL2VuZ2luZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZW5naW5lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvcmUvc2NlbmVVdGlscy5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vY29tbW9ucy5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vZW5jb2RlUGFja2V0LmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvZXNtL2NvbnRyaWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2VzbS9kZWNvZGVQYWNrZXQuYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Bzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXIvaW5kZXgubWpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9nbG9iYWxUaGlzLmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3V0aWwuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi95ZWFzdC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9wYXJzZXFzLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL2hhcy1jb3JzLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS90cmFuc3BvcnRzL3htbGh0dHByZXF1ZXN0LmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvcG9sbGluZy5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJzb2NrZXQtY29uc3RydWN0b3IuYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJzb2NrZXQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2NvbnRyaWIvcGFyc2V1cmkuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3NvY2tldC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvYnVpbGQvZXNtL2lzLWJpbmFyeS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20vYmluYXJ5LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2J1aWxkL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vb24uanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL3NvY2tldC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9iYWNrbzIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL21hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL2luZGV4LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS91cmwuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvcmUvbWFuYWdlcnMvU29ja2V0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29yZS9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3N5c3RlbXMvZXZlbnRzL0V2ZW50SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvc3lzdGVtcy9ncmFwaGljcy9HcmFwaGljRW5naW5lLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb25zdGFudHMvY29tcG9uZW50VHlwZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvc3lzdGVtcy9waHlzaWNzL1BoeXNpY3NFbmdpbmUuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3N5c3RlbXMvc2NyaXB0aW5nL1NjcmlwdGluZ0VuZ2luZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29yZS9jb250ZXh0LmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9zeXN0ZW1zL0NvbGxpc2lvbi9Db2xsaXNpb25TeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvcmUvZW5naW5lLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb3JlL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9QaHlzaWNzL3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9TcHJpdGUuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvUmVjdGFuZ2xlLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL0V2ZW50L0xpc3RlbmVyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL1NjcmlwdC9TY3JpcHQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvQ29sbGlzaW9uL0NvbGxpZGVyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvR2FtZUZyb250ZW5kL3NjZW5lcy9lbnRpdGllcy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9HYW1lRnJvbnRlbmQvc2NlbmVzL2VudGl0aWVzL1RlbXBsYXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvQ2FtZXJhLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvR2FtZUZyb250ZW5kL3NjZW5lcy9lbnRpdGllcy9NYWluQ2FtZXJhLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvR2FtZUZyb250ZW5kL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJleHBvcnQgdmFyIEVuZ2luZVR5cGU7XHJcbihmdW5jdGlvbiAoRW5naW5lVHlwZSkge1xyXG4gICAgRW5naW5lVHlwZVtFbmdpbmVUeXBlW1wiU09DS0VUQ0xJRU5UXCJdID0gMF0gPSBcIlNPQ0tFVENMSUVOVFwiO1xyXG4gICAgRW5naW5lVHlwZVtFbmdpbmVUeXBlW1wiU09DS0VUU0VSVkVSXCJdID0gMV0gPSBcIlNPQ0tFVFNFUlZFUlwiO1xyXG4gICAgRW5naW5lVHlwZVtFbmdpbmVUeXBlW1wiQ0xJRU5UT05MWVwiXSA9IDJdID0gXCJDTElFTlRPTkxZXCI7XHJcbn0pKEVuZ2luZVR5cGUgfHwgKEVuZ2luZVR5cGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmdpbmVUeXBlLmpzLm1hcCIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFNvY2tldEVudGl0eShzY2VuZSwgZW50aXR5LCBpZCkge1xyXG4gICAgdmFyIHVuaXF1ZUlkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUlkKCk7XHJcbiAgICBlbnRpdHkuaWQgPSB1bmlxdWVJZDtcclxuICAgIGVudGl0eS5zY2VuZSA9IHNjZW5lO1xyXG4gICAgc2NlbmUuZW50aXRpZXMuc2V0KHVuaXF1ZUlkLCBlbnRpdHkpO1xyXG4gICAgZm9yICh2YXIgY29tcCBvZiBlbnRpdHkuY29tcG9uZW50cykge1xyXG4gICAgICAgIHZhciBjb21wTGlzdCA9IHNjZW5lLmVuZ2luZUNvbXBvbmVudHMuZ2V0KGNvbXAuZW5naW5lVGFnKTtcclxuICAgICAgICBpZiAoY29tcExpc3QpIHtcclxuICAgICAgICAgICAgbGV0IHN5c3RlbSA9IHNjZW5lLnNjZW5lTWFuYWdlci5zeXN0ZW1UYWcuZ2V0KGNvbXAuZW5naW5lVGFnKTtcclxuICAgICAgICAgICAgaWYgKHN5c3RlbSkge1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtLnJlZ2lzdGVyKGNvbXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb21wLmVuZ2luZVRhZyArIFwiIHRhZ2dlZCBTeXN0ZW0gaXMgbm90IGZvdW5kXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc2Z1bGx5IGFkZGVkIGVudGl0eVwiKTtcclxuICAgIHJldHVybiBlbnRpdHk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVudGl0eShzY2VuZSwgZW50aXR5KSB7XHJcbiAgICB2YXIgdW5pcXVlSWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlSWQoKTtcclxuICAgIGVudGl0eS5pZCA9IHVuaXF1ZUlkO1xyXG4gICAgZW50aXR5LnNjZW5lID0gc2NlbmU7XHJcbiAgICBzY2VuZS5lbnRpdGllcy5zZXQodW5pcXVlSWQsIGVudGl0eSk7XHJcbiAgICBmb3IgKHZhciBjb21wIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgdmFyIGNvbXBMaXN0ID0gc2NlbmUuZW5naW5lQ29tcG9uZW50cy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgIGlmIChjb21wTGlzdCkge1xyXG4gICAgICAgICAgICBsZXQgc3lzdGVtID0gc2NlbmUuc2NlbmVNYW5hZ2VyLnN5c3RlbVRhZy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICBpZiAoc3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBzeXN0ZW0ucmVnaXN0ZXIoY29tcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NmdWxseSBhZGRlZCBlbnRpdHlcIik7XHJcbiAgICByZXR1cm4gZW50aXR5O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFbnRpdHkoc2NlbmUsIGlkKSB7XHJcbiAgICBsZXQgZW50aXR5ID0gc2NlbmUuZW50aXRpZXMuZ2V0KGlkKTtcclxuICAgIGlmIChlbnRpdHkpIHtcclxuICAgICAgICBzY2VuZS5lbnRpdGllcy5kZWxldGUoaWQpO1xyXG4gICAgICAgIGZvciAodmFyIGMgb2YgZW50aXR5LmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb21wb25lbnRcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN5c3RlbVwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYy5zeXN0ZW0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBvbmVudCBpZCBcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGMuY29tcG9uZW50SWQpO1xyXG4gICAgICAgICAgICBjLnN5c3RlbS51bnJlZ2lzdGVyKGMuY29tcG9uZW50SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBlbnRpdHk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVudGl0eShzY2VuZSwgaWQpIHtcclxuICAgIHJldHVybiBzY2VuZS5lbnRpdGllcy5nZXQoaWQpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQoc2NlbmUsIGNvbXApIHtcclxuICAgIGNvbXAuY29tcG9uZW50SWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKTtcclxuICAgIHJldHVybiBjb21wO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjZW5lVXRpbHMuanMubWFwIiwiY29uc3QgUEFDS0VUX1RZUEVTID0gT2JqZWN0LmNyZWF0ZShudWxsKTsgLy8gbm8gTWFwID0gbm8gcG9seWZpbGxcblBBQ0tFVF9UWVBFU1tcIm9wZW5cIl0gPSBcIjBcIjtcblBBQ0tFVF9UWVBFU1tcImNsb3NlXCJdID0gXCIxXCI7XG5QQUNLRVRfVFlQRVNbXCJwaW5nXCJdID0gXCIyXCI7XG5QQUNLRVRfVFlQRVNbXCJwb25nXCJdID0gXCIzXCI7XG5QQUNLRVRfVFlQRVNbXCJtZXNzYWdlXCJdID0gXCI0XCI7XG5QQUNLRVRfVFlQRVNbXCJ1cGdyYWRlXCJdID0gXCI1XCI7XG5QQUNLRVRfVFlQRVNbXCJub29wXCJdID0gXCI2XCI7XG5jb25zdCBQQUNLRVRfVFlQRVNfUkVWRVJTRSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5PYmplY3Qua2V5cyhQQUNLRVRfVFlQRVMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBQQUNLRVRfVFlQRVNfUkVWRVJTRVtQQUNLRVRfVFlQRVNba2V5XV0gPSBrZXk7XG59KTtcbmNvbnN0IEVSUk9SX1BBQ0tFVCA9IHsgdHlwZTogXCJlcnJvclwiLCBkYXRhOiBcInBhcnNlciBlcnJvclwiIH07XG5leHBvcnQgeyBQQUNLRVRfVFlQRVMsIFBBQ0tFVF9UWVBFU19SRVZFUlNFLCBFUlJPUl9QQUNLRVQgfTtcbiIsImltcG9ydCB7IFBBQ0tFVF9UWVBFUyB9IGZyb20gXCIuL2NvbW1vbnMuanNcIjtcbmNvbnN0IHdpdGhOYXRpdmVCbG9iID0gdHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICh0eXBlb2YgQmxvYiAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQmxvYikgPT09IFwiW29iamVjdCBCbG9iQ29uc3RydWN0b3JdXCIpO1xuY29uc3Qgd2l0aE5hdGl2ZUFycmF5QnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyID09PSBcImZ1bmN0aW9uXCI7XG4vLyBBcnJheUJ1ZmZlci5pc1ZpZXcgbWV0aG9kIGlzIG5vdCBkZWZpbmVkIGluIElFMTBcbmNvbnN0IGlzVmlldyA9IG9iaiA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/IEFycmF5QnVmZmVyLmlzVmlldyhvYmopXG4gICAgICAgIDogb2JqICYmIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbn07XG5jb25zdCBlbmNvZGVQYWNrZXQgPSAoeyB0eXBlLCBkYXRhIH0sIHN1cHBvcnRzQmluYXJ5LCBjYWxsYmFjaykgPT4ge1xuICAgIGlmICh3aXRoTmF0aXZlQmxvYiAmJiBkYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICBpZiAoc3VwcG9ydHNCaW5hcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVCbG9iQXNCYXNlNjQoZGF0YSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHdpdGhOYXRpdmVBcnJheUJ1ZmZlciAmJlxuICAgICAgICAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhkYXRhKSkpIHtcbiAgICAgICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlQmxvYkFzQmFzZTY0KG5ldyBCbG9iKFtkYXRhXSksIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBwbGFpbiBzdHJpbmdcbiAgICByZXR1cm4gY2FsbGJhY2soUEFDS0VUX1RZUEVTW3R5cGVdICsgKGRhdGEgfHwgXCJcIikpO1xufTtcbmNvbnN0IGVuY29kZUJsb2JBc0Jhc2U2NCA9IChkYXRhLCBjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZmlsZVJlYWRlci5yZXN1bHQuc3BsaXQoXCIsXCIpWzFdO1xuICAgICAgICBjYWxsYmFjayhcImJcIiArIGNvbnRlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChkYXRhKTtcbn07XG5leHBvcnQgZGVmYXVsdCBlbmNvZGVQYWNrZXQ7XG4iLCJjb25zdCBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcbi8vIFVzZSBhIGxvb2t1cCB0YWJsZSB0byBmaW5kIHRoZSBpbmRleC5cbmNvbnN0IGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbmZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpO1xufVxuZXhwb3J0IGNvbnN0IGVuY29kZSA9IChhcnJheWJ1ZmZlcikgPT4ge1xuICAgIGxldCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaSwgbGVuID0gYnl0ZXMubGVuZ3RoLCBiYXNlNjQgPSAnJztcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDMpIHtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdO1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpXSAmIDMpIDw8IDQpIHwgKGJ5dGVzW2kgKyAxXSA+PiA0KV07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyKSB8IChieXRlc1tpICsgMl0gPj4gNildO1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdO1xuICAgIH1cbiAgICBpZiAobGVuICUgMyA9PT0gMikge1xuICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAxKSArICc9JztcbiAgICB9XG4gICAgZWxzZSBpZiAobGVuICUgMyA9PT0gMSkge1xuICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArICc9PSc7XG4gICAgfVxuICAgIHJldHVybiBiYXNlNjQ7XG59O1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IChiYXNlNjQpID0+IHtcbiAgICBsZXQgYnVmZmVyTGVuZ3RoID0gYmFzZTY0Lmxlbmd0aCAqIDAuNzUsIGxlbiA9IGJhc2U2NC5sZW5ndGgsIGksIHAgPSAwLCBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcbiAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAxXSA9PT0gJz0nKSB7XG4gICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAyXSA9PT0gJz0nKSB7XG4gICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhcnJheWJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpLCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZW5jb2RlZDEgPSBsb29rdXBbYmFzZTY0LmNoYXJDb2RlQXQoaSldO1xuICAgICAgICBlbmNvZGVkMiA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMSldO1xuICAgICAgICBlbmNvZGVkMyA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMildO1xuICAgICAgICBlbmNvZGVkNCA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMyldO1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQxIDw8IDIpIHwgKGVuY29kZWQyID4+IDQpO1xuICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMiAmIDE1KSA8PCA0KSB8IChlbmNvZGVkMyA+PiAyKTtcbiAgICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDMgJiAzKSA8PCA2KSB8IChlbmNvZGVkNCAmIDYzKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5YnVmZmVyO1xufTtcbiIsImltcG9ydCB7IEVSUk9SX1BBQ0tFVCwgUEFDS0VUX1RZUEVTX1JFVkVSU0UgfSBmcm9tIFwiLi9jb21tb25zLmpzXCI7XG5pbXBvcnQgeyBkZWNvZGUgfSBmcm9tIFwiLi9jb250cmliL2Jhc2U2NC1hcnJheWJ1ZmZlci5qc1wiO1xuY29uc3Qgd2l0aE5hdGl2ZUFycmF5QnVmZmVyID0gdHlwZW9mIEFycmF5QnVmZmVyID09PSBcImZ1bmN0aW9uXCI7XG5jb25zdCBkZWNvZGVQYWNrZXQgPSAoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZW5jb2RlZFBhY2tldCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBtYXBCaW5hcnkoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IGVuY29kZWRQYWNrZXQuY2hhckF0KDApO1xuICAgIGlmICh0eXBlID09PSBcImJcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBkZWNvZGVCYXNlNjRQYWNrZXQoZW5jb2RlZFBhY2tldC5zdWJzdHJpbmcoMSksIGJpbmFyeVR5cGUpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHBhY2tldFR5cGUgPSBQQUNLRVRfVFlQRVNfUkVWRVJTRVt0eXBlXTtcbiAgICBpZiAoIXBhY2tldFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIEVSUk9SX1BBQ0tFVDtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZWRQYWNrZXQubGVuZ3RoID4gMVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlZFBhY2tldC5zdWJzdHJpbmcoMSlcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdXG4gICAgICAgIH07XG59O1xuY29uc3QgZGVjb2RlQmFzZTY0UGFja2V0ID0gKGRhdGEsIGJpbmFyeVR5cGUpID0+IHtcbiAgICBpZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGUoZGF0YSk7XG4gICAgICAgIHJldHVybiBtYXBCaW5hcnkoZGVjb2RlZCwgYmluYXJ5VHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyBiYXNlNjQ6IHRydWUsIGRhdGEgfTsgLy8gZmFsbGJhY2sgZm9yIG9sZCBicm93c2Vyc1xuICAgIH1cbn07XG5jb25zdCBtYXBCaW5hcnkgPSAoZGF0YSwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIHN3aXRjaCAoYmluYXJ5VHlwZSkge1xuICAgICAgICBjYXNlIFwiYmxvYlwiOlxuICAgICAgICAgICAgcmV0dXJuIGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBCbG9iKFtkYXRhXSkgOiBkYXRhO1xuICAgICAgICBjYXNlIFwiYXJyYXlidWZmZXJcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBkYXRhOyAvLyBhc3N1bWluZyB0aGUgZGF0YSBpcyBhbHJlYWR5IGFuIEFycmF5QnVmZmVyXG4gICAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IGRlY29kZVBhY2tldDtcbiIsImltcG9ydCBlbmNvZGVQYWNrZXQgZnJvbSBcIi4vZW5jb2RlUGFja2V0LmpzXCI7XG5pbXBvcnQgZGVjb2RlUGFja2V0IGZyb20gXCIuL2RlY29kZVBhY2tldC5qc1wiO1xuY29uc3QgU0VQQVJBVE9SID0gU3RyaW5nLmZyb21DaGFyQ29kZSgzMCk7IC8vIHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EZWxpbWl0ZXIjQVNDSUlfZGVsaW1pdGVkX3RleHRcbmNvbnN0IGVuY29kZVBheWxvYWQgPSAocGFja2V0cywgY2FsbGJhY2spID0+IHtcbiAgICAvLyBzb21lIHBhY2tldHMgbWF5IGJlIGFkZGVkIHRvIHRoZSBhcnJheSB3aGlsZSBlbmNvZGluZywgc28gdGhlIGluaXRpYWwgbGVuZ3RoIG11c3QgYmUgc2F2ZWRcbiAgICBjb25zdCBsZW5ndGggPSBwYWNrZXRzLmxlbmd0aDtcbiAgICBjb25zdCBlbmNvZGVkUGFja2V0cyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgcGFja2V0cy5mb3JFYWNoKChwYWNrZXQsIGkpID0+IHtcbiAgICAgICAgLy8gZm9yY2UgYmFzZTY0IGVuY29kaW5nIGZvciBiaW5hcnkgcGFja2V0c1xuICAgICAgICBlbmNvZGVQYWNrZXQocGFja2V0LCBmYWxzZSwgZW5jb2RlZFBhY2tldCA9PiB7XG4gICAgICAgICAgICBlbmNvZGVkUGFja2V0c1tpXSA9IGVuY29kZWRQYWNrZXQ7XG4gICAgICAgICAgICBpZiAoKytjb3VudCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZW5jb2RlZFBhY2tldHMuam9pbihTRVBBUkFUT1IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVjb2RlUGF5bG9hZCA9IChlbmNvZGVkUGF5bG9hZCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kZWRQYWNrZXRzID0gZW5jb2RlZFBheWxvYWQuc3BsaXQoU0VQQVJBVE9SKTtcbiAgICBjb25zdCBwYWNrZXRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkZWNvZGVkUGFja2V0ID0gZGVjb2RlUGFja2V0KGVuY29kZWRQYWNrZXRzW2ldLCBiaW5hcnlUeXBlKTtcbiAgICAgICAgcGFja2V0cy5wdXNoKGRlY29kZWRQYWNrZXQpO1xuICAgICAgICBpZiAoZGVjb2RlZFBhY2tldC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYWNrZXRzO1xufTtcbmV4cG9ydCBjb25zdCBwcm90b2NvbCA9IDQ7XG5leHBvcnQgeyBlbmNvZGVQYWNrZXQsIGVuY29kZVBheWxvYWQsIGRlY29kZVBhY2tldCwgZGVjb2RlUGF5bG9hZCB9O1xuIiwiLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBFbWl0dGVyYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBFbWl0dGVyKG9iaikge1xuICBpZiAob2JqKSByZXR1cm4gbWl4aW4ob2JqKTtcbn1cblxuLyoqXG4gKiBNaXhpbiB0aGUgZW1pdHRlciBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG1peGluKG9iaikge1xuICBmb3IgKHZhciBrZXkgaW4gRW1pdHRlci5wcm90b3R5cGUpIHtcbiAgICBvYmpba2V5XSA9IEVtaXR0ZXIucHJvdG90eXBlW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9uID1cbkVtaXR0ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG4gICh0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXSlcbiAgICAucHVzaChmbik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGRzIGFuIGBldmVudGAgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgYSBzaW5nbGVcbiAqIHRpbWUgdGhlbiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIGZ1bmN0aW9uIG9uKCkge1xuICAgIHRoaXMub2ZmKGV2ZW50LCBvbik7XG4gICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIG9uLmZuID0gZm47XG4gIHRoaXMub24oZXZlbnQsIG9uKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGBldmVudGAgb3IgYWxsXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vZmYgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG5cbiAgLy8gYWxsXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHNwZWNpZmljIGV2ZW50XG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XG5cbiAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxuICB2YXIgY2I7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2IgPSBjYWxsYmFja3NbaV07XG4gICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcbiAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBSZW1vdmUgZXZlbnQgc3BlY2lmaWMgYXJyYXlzIGZvciBldmVudCB0eXBlcyB0aGF0IG5vXG4gIC8vIG9uZSBpcyBzdWJzY3JpYmVkIGZvciB0byBhdm9pZCBtZW1vcnkgbGVhay5cbiAgaWYgKGNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBFbWl0IGBldmVudGAgd2l0aCB0aGUgZ2l2ZW4gYXJncy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7TWl4ZWR9IC4uLlxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQpe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG5cbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpXG4gICAgLCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gIH1cblxuICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGFsaWFzIHVzZWQgZm9yIHJlc2VydmVkIGV2ZW50cyAocHJvdGVjdGVkIG1ldGhvZClcbkVtaXR0ZXIucHJvdG90eXBlLmVtaXRSZXNlcnZlZCA9IEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ7XG5cbi8qKlxuICogUmV0dXJuIGFycmF5IG9mIGNhbGxiYWNrcyBmb3IgYGV2ZW50YC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcmV0dXJuICEhIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGg7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGdsb2JhbFRoaXNTaGltID0gKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfVxufSkoKTtcbiIsImltcG9ydCB7IGdsb2JhbFRoaXNTaGltIGFzIGdsb2JhbFRoaXMgfSBmcm9tIFwiLi9nbG9iYWxUaGlzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGljayhvYmosIC4uLmF0dHIpIHtcbiAgICByZXR1cm4gYXR0ci5yZWR1Y2UoKGFjYywgaykgPT4ge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICBhY2Nba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59XG4vLyBLZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSByZWFsIHRpbWVvdXQgZnVuY3Rpb25zIHNvIHRoZXkgY2FuIGJlIHVzZWQgd2hlbiBvdmVycmlkZGVuXG5jb25zdCBOQVRJVkVfU0VUX1RJTUVPVVQgPSBzZXRUaW1lb3V0O1xuY29uc3QgTkFUSVZFX0NMRUFSX1RJTUVPVVQgPSBjbGVhclRpbWVvdXQ7XG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbFRpbWVyRnVuY3Rpb25zKG9iaiwgb3B0cykge1xuICAgIGlmIChvcHRzLnVzZU5hdGl2ZVRpbWVycykge1xuICAgICAgICBvYmouc2V0VGltZW91dEZuID0gTkFUSVZFX1NFVF9USU1FT1VULmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgICAgIG9iai5jbGVhclRpbWVvdXRGbiA9IE5BVElWRV9DTEVBUl9USU1FT1VULmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvYmouc2V0VGltZW91dEZuID0gc2V0VGltZW91dC5iaW5kKGdsb2JhbFRoaXMpO1xuICAgICAgICBvYmouY2xlYXJUaW1lb3V0Rm4gPSBjbGVhclRpbWVvdXQuYmluZChnbG9iYWxUaGlzKTtcbiAgICB9XG59XG4vLyBiYXNlNjQgZW5jb2RlZCBidWZmZXJzIGFyZSBhYm91dCAzMyUgYmlnZ2VyIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQpXG5jb25zdCBCQVNFNjRfT1ZFUkhFQUQgPSAxLjMzO1xuLy8gd2UgY291bGQgYWxzbyBoYXZlIHVzZWQgYG5ldyBCbG9iKFtvYmpdKS5zaXplYCwgYnV0IGl0IGlzbid0IHN1cHBvcnRlZCBpbiBJRTlcbmV4cG9ydCBmdW5jdGlvbiBieXRlTGVuZ3RoKG9iaikge1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB1dGY4TGVuZ3RoKG9iaik7XG4gICAgfVxuICAgIC8vIGFycmF5YnVmZmVyIG9yIGJsb2JcbiAgICByZXR1cm4gTWF0aC5jZWlsKChvYmouYnl0ZUxlbmd0aCB8fCBvYmouc2l6ZSkgKiBCQVNFNjRfT1ZFUkhFQUQpO1xufVxuZnVuY3Rpb24gdXRmOExlbmd0aChzdHIpIHtcbiAgICBsZXQgYyA9IDAsIGxlbmd0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzdHIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgICAgIGxlbmd0aCArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPCAweGQ4MDAgfHwgYyA+PSAweGUwMDApIHtcbiAgICAgICAgICAgIGxlbmd0aCArPSAzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgbGVuZ3RoICs9IDQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxlbmd0aDtcbn1cbiIsImltcG9ydCB7IGRlY29kZVBhY2tldCB9IGZyb20gXCJlbmdpbmUuaW8tcGFyc2VyXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IGluc3RhbGxUaW1lckZ1bmN0aW9ucyB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmNsYXNzIFRyYW5zcG9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHJlYXNvbiwgZGVzY3JpcHRpb24sIGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIocmVhc29uKTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnR5cGUgPSBcIlRyYW5zcG9ydEVycm9yXCI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydCBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIFRyYW5zcG9ydCBhYnN0cmFjdCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgIHRoaXMucXVlcnkgPSBvcHRzLnF1ZXJ5O1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIlwiO1xuICAgICAgICB0aGlzLnNvY2tldCA9IG9wdHMuc29ja2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByZWFzb25cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIHRoZSBlcnJvciBjb250ZXh0XG4gICAgICogQHJldHVybiB7VHJhbnNwb3J0fSBmb3IgY2hhaW5pbmdcbiAgICAgKiBAYXBpIHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uRXJyb3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkge1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBuZXcgVHJhbnNwb3J0RXJyb3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbnMgdGhlIHRyYW5zcG9ydC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgICAgaWYgKFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcIlwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICAgICAgdGhpcy5kb09wZW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSB0cmFuc3BvcnQuXG4gICAgICpcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLmRvQ2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBtdWx0aXBsZSBwYWNrZXRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFja2V0c1xuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgc2VuZChwYWNrZXRzKSB7XG4gICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlKHBhY2tldHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcyBtaWdodCBoYXBwZW4gaWYgdGhlIHRyYW5zcG9ydCB3YXMgc2lsZW50bHkgY2xvc2VkIGluIHRoZSBiZWZvcmV1bmxvYWQgZXZlbnQgaGFuZGxlclxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIG9wZW5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5cIjtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcIm9wZW5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YVxuICAgICAqIEBhcGkgcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25EYXRhKGRhdGEpIHtcbiAgICAgICAgY29uc3QgcGFja2V0ID0gZGVjb2RlUGFja2V0KGRhdGEsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpO1xuICAgICAgICB0aGlzLm9uUGFja2V0KHBhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIGEgZGVjb2RlZCBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAYXBpIHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uUGFja2V0KHBhY2tldCkge1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gY2xvc2UuXG4gICAgICpcbiAgICAgKiBAYXBpIHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uQ2xvc2UoZGV0YWlscykge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCBkZXRhaWxzKTtcbiAgICB9XG59XG4iLCIvLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS91bnNoaWZ0aW8veWVhc3Rcbid1c2Ugc3RyaWN0JztcbmNvbnN0IGFscGhhYmV0ID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6LV8nLnNwbGl0KCcnKSwgbGVuZ3RoID0gNjQsIG1hcCA9IHt9O1xubGV0IHNlZWQgPSAwLCBpID0gMCwgcHJldjtcbi8qKlxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3BlY2lmaWVkIG51bWJlci5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtIFRoZSBudW1iZXIgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG51bWJlci5cbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGUobnVtKSB7XG4gICAgbGV0IGVuY29kZWQgPSAnJztcbiAgICBkbyB7XG4gICAgICAgIGVuY29kZWQgPSBhbHBoYWJldFtudW0gJSBsZW5ndGhdICsgZW5jb2RlZDtcbiAgICAgICAgbnVtID0gTWF0aC5mbG9vcihudW0gLyBsZW5ndGgpO1xuICAgIH0gd2hpbGUgKG51bSA+IDApO1xuICAgIHJldHVybiBlbmNvZGVkO1xufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGludGVnZXIgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBnaXZlbiBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgaW50ZWdlciB2YWx1ZSByZXByZXNlbnRlZCBieSB0aGUgc3RyaW5nLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShzdHIpIHtcbiAgICBsZXQgZGVjb2RlZCA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBkZWNvZGVkID0gZGVjb2RlZCAqIGxlbmd0aCArIG1hcFtzdHIuY2hhckF0KGkpXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZWQ7XG59XG4vKipcbiAqIFllYXN0OiBBIHRpbnkgZ3Jvd2luZyBpZCBnZW5lcmF0b3IuXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gQSB1bmlxdWUgaWQuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24geWVhc3QoKSB7XG4gICAgY29uc3Qgbm93ID0gZW5jb2RlKCtuZXcgRGF0ZSgpKTtcbiAgICBpZiAobm93ICE9PSBwcmV2KVxuICAgICAgICByZXR1cm4gc2VlZCA9IDAsIHByZXYgPSBub3c7XG4gICAgcmV0dXJuIG5vdyArICcuJyArIGVuY29kZShzZWVkKyspO1xufVxuLy9cbi8vIE1hcCBlYWNoIGNoYXJhY3RlciB0byBpdHMgaW5kZXguXG4vL1xuZm9yICg7IGkgPCBsZW5ndGg7IGkrKylcbiAgICBtYXBbYWxwaGFiZXRbaV1dID0gaTtcbiIsIi8vIGltcG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dhbGtuL3F1ZXJ5c3RyaW5nXG4vKipcbiAqIENvbXBpbGVzIGEgcXVlcnlzdHJpbmdcbiAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKG9iaikge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGxldCBpIGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICBpZiAoc3RyLmxlbmd0aClcbiAgICAgICAgICAgICAgICBzdHIgKz0gJyYnO1xuICAgICAgICAgICAgc3RyICs9IGVuY29kZVVSSUNvbXBvbmVudChpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG4vKipcbiAqIFBhcnNlcyBhIHNpbXBsZSBxdWVyeXN0cmluZyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBxc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUocXMpIHtcbiAgICBsZXQgcXJ5ID0ge307XG4gICAgbGV0IHBhaXJzID0gcXMuc3BsaXQoJyYnKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHBhaXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsZXQgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgIHFyeVtkZWNvZGVVUklDb21wb25lbnQocGFpclswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gcXJ5O1xufVxuIiwiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L2hhcy1jb3JzXG5sZXQgdmFsdWUgPSBmYWxzZTtcbnRyeSB7XG4gICAgdmFsdWUgPSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICd3aXRoQ3JlZGVudGlhbHMnIGluIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xufVxuY2F0Y2ggKGVycikge1xuICAgIC8vIGlmIFhNTEh0dHAgc3VwcG9ydCBpcyBkaXNhYmxlZCBpbiBJRSB0aGVuIGl0IHdpbGwgdGhyb3dcbiAgICAvLyB3aGVuIHRyeWluZyB0byBjcmVhdGVcbn1cbmV4cG9ydCBjb25zdCBoYXNDT1JTID0gdmFsdWU7XG4iLCIvLyBicm93c2VyIHNoaW0gZm9yIHhtbGh0dHByZXF1ZXN0IG1vZHVsZVxuaW1wb3J0IHsgaGFzQ09SUyB9IGZyb20gXCIuLi9jb250cmliL2hhcy1jb3JzLmpzXCI7XG5pbXBvcnQgeyBnbG9iYWxUaGlzU2hpbSBhcyBnbG9iYWxUaGlzIH0gZnJvbSBcIi4uL2dsb2JhbFRoaXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBYSFIob3B0cykge1xuICAgIGNvbnN0IHhkb21haW4gPSBvcHRzLnhkb21haW47XG4gICAgLy8gWE1MSHR0cFJlcXVlc3QgY2FuIGJlIGRpc2FibGVkIG9uIElFXG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAmJiAoIXhkb21haW4gfHwgaGFzQ09SUykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkgeyB9XG4gICAgaWYgKCF4ZG9tYWluKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGdsb2JhbFRoaXNbW1wiQWN0aXZlXCJdLmNvbmNhdChcIk9iamVjdFwiKS5qb2luKFwiWFwiKV0oXCJNaWNyb3NvZnQuWE1MSFRUUFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVHJhbnNwb3J0IH0gZnJvbSBcIi4uL3RyYW5zcG9ydC5qc1wiO1xuaW1wb3J0IHsgeWVhc3QgfSBmcm9tIFwiLi4vY29udHJpYi95ZWFzdC5qc1wiO1xuaW1wb3J0IHsgZW5jb2RlIH0gZnJvbSBcIi4uL2NvbnRyaWIvcGFyc2Vxcy5qc1wiO1xuaW1wb3J0IHsgZW5jb2RlUGF5bG9hZCwgZGVjb2RlUGF5bG9hZCB9IGZyb20gXCJlbmdpbmUuaW8tcGFyc2VyXCI7XG5pbXBvcnQgeyBYSFIgYXMgWE1MSHR0cFJlcXVlc3QgfSBmcm9tIFwiLi94bWxodHRwcmVxdWVzdC5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgeyBpbnN0YWxsVGltZXJGdW5jdGlvbnMsIHBpY2sgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgZ2xvYmFsVGhpc1NoaW0gYXMgZ2xvYmFsVGhpcyB9IGZyb20gXCIuLi9nbG9iYWxUaGlzLmpzXCI7XG5mdW5jdGlvbiBlbXB0eSgpIHsgfVxuY29uc3QgaGFzWEhSMiA9IChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KHtcbiAgICAgICAgeGRvbWFpbjogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm4gbnVsbCAhPSB4aHIucmVzcG9uc2VUeXBlO1xufSkoKTtcbmV4cG9ydCBjbGFzcyBQb2xsaW5nIGV4dGVuZHMgVHJhbnNwb3J0IHtcbiAgICAvKipcbiAgICAgKiBYSFIgUG9sbGluZyBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgICAgICB0aGlzLnBvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgY29uc3QgaXNTU0wgPSBcImh0dHBzOlwiID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgICAgIGxldCBwb3J0ID0gbG9jYXRpb24ucG9ydDtcbiAgICAgICAgICAgIC8vIHNvbWUgdXNlciBhZ2VudHMgaGF2ZSBlbXB0eSBgbG9jYXRpb24ucG9ydGBcbiAgICAgICAgICAgIGlmICghcG9ydCkge1xuICAgICAgICAgICAgICAgIHBvcnQgPSBpc1NTTCA/IFwiNDQzXCIgOiBcIjgwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnhkID1cbiAgICAgICAgICAgICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgICAgICAgICAgIG9wdHMuaG9zdG5hbWUgIT09IGxvY2F0aW9uLmhvc3RuYW1lKSB8fFxuICAgICAgICAgICAgICAgICAgICBwb3J0ICE9PSBvcHRzLnBvcnQ7XG4gICAgICAgICAgICB0aGlzLnhzID0gb3B0cy5zZWN1cmUgIT09IGlzU1NMO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBYSFIgc3VwcG9ydHMgYmluYXJ5XG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBmb3JjZUJhc2U2NCA9IG9wdHMgJiYgb3B0cy5mb3JjZUJhc2U2NDtcbiAgICAgICAgdGhpcy5zdXBwb3J0c0JpbmFyeSA9IGhhc1hIUjIgJiYgIWZvcmNlQmFzZTY0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc3BvcnQgbmFtZS5cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwicG9sbGluZ1wiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgc29ja2V0ICh0cmlnZ2VycyBwb2xsaW5nKS4gV2Ugd3JpdGUgYSBQSU5HIG1lc3NhZ2UgdG8gZGV0ZXJtaW5lXG4gICAgICogd2hlbiB0aGUgdHJhbnNwb3J0IGlzIG9wZW4uXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBkb09wZW4oKSB7XG4gICAgICAgIHRoaXMucG9sbCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXVzZXMgcG9sbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHVwb24gYnVmZmVycyBhcmUgZmx1c2hlZCBhbmQgdHJhbnNwb3J0IGlzIHBhdXNlZFxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHBhdXNlKG9uUGF1c2UpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJwYXVzaW5nXCI7XG4gICAgICAgIGNvbnN0IHBhdXNlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJwYXVzZWRcIjtcbiAgICAgICAgICAgIG9uUGF1c2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMucG9sbGluZyB8fCAhdGhpcy53cml0YWJsZSkge1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvbGxpbmcpIHtcbiAgICAgICAgICAgICAgICB0b3RhbCsrO1xuICAgICAgICAgICAgICAgIHRoaXMub25jZShcInBvbGxDb21wbGV0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC0tdG90YWwgfHwgcGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy53cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIHRvdGFsKys7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlKFwiZHJhaW5cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAtLXRvdGFsIHx8IHBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBwb2xsaW5nIGN5Y2xlLlxuICAgICAqXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBwb2xsKCkge1xuICAgICAgICB0aGlzLnBvbGxpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRvUG9sbCgpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbGxcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJsb2FkcyBvbkRhdGEgdG8gZGV0ZWN0IHBheWxvYWRzLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgb25EYXRhKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBwYWNrZXQgPT4ge1xuICAgICAgICAgICAgLy8gaWYgaXRzIHRoZSBmaXJzdCBtZXNzYWdlIHdlIGNvbnNpZGVyIHRoZSB0cmFuc3BvcnQgb3BlblxuICAgICAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgJiYgcGFja2V0LnR5cGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGl0cyBhIGNsb3NlIHBhY2tldCwgd2UgY2xvc2UgdGhlIG9uZ29pbmcgcmVxdWVzdHNcbiAgICAgICAgICAgIGlmIChcImNsb3NlXCIgPT09IHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlKHsgZGVzY3JpcHRpb246IFwidHJhbnNwb3J0IGNsb3NlZCBieSB0aGUgc2VydmVyXCIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGJ5cGFzcyBvbkRhdGEgYW5kIGhhbmRsZSB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgdGhpcy5vblBhY2tldChwYWNrZXQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBkZWNvZGUgcGF5bG9hZFxuICAgICAgICBkZWNvZGVQYXlsb2FkKGRhdGEsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICAvLyBpZiBhbiBldmVudCBkaWQgbm90IHRyaWdnZXIgY2xvc2luZ1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBnb3QgZGF0YSB3ZSdyZSBub3QgcG9sbGluZ1xuICAgICAgICAgICAgdGhpcy5wb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbGxDb21wbGV0ZVwiKTtcbiAgICAgICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb2xsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgcG9sbGluZywgc2VuZCBhIGNsb3NlIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53cml0ZShbeyB0eXBlOiBcImNsb3NlXCIgfV0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugd2UncmUgdHJ5aW5nIHRvIGNsb3NlIHdoaWxlXG4gICAgICAgICAgICAvLyBoYW5kc2hha2luZyBpcyBpbiBwcm9ncmVzcyAoR0gtMTY0KVxuICAgICAgICAgICAgdGhpcy5vbmNlKFwib3BlblwiLCBjbG9zZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgcGFja2V0cyBwYXlsb2FkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBwYWNrZXRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZHJhaW4gY2FsbGJhY2tcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgZW5jb2RlUGF5bG9hZChwYWNrZXRzLCBkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9Xcml0ZShkYXRhLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHVyaSgpIHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcy5xdWVyeSB8fCB7fTtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5vcHRzLnNlY3VyZSA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiO1xuICAgICAgICBsZXQgcG9ydCA9IFwiXCI7XG4gICAgICAgIC8vIGNhY2hlIGJ1c3RpbmcgaXMgZm9yY2VkXG4gICAgICAgIGlmIChmYWxzZSAhPT0gdGhpcy5vcHRzLnRpbWVzdGFtcFJlcXVlc3RzKSB7XG4gICAgICAgICAgICBxdWVyeVt0aGlzLm9wdHMudGltZXN0YW1wUGFyYW1dID0geWVhc3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc3VwcG9ydHNCaW5hcnkgJiYgIXF1ZXJ5LnNpZCkge1xuICAgICAgICAgICAgcXVlcnkuYjY0ID0gMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhdm9pZCBwb3J0IGlmIGRlZmF1bHQgZm9yIHNjaGVtYVxuICAgICAgICBpZiAodGhpcy5vcHRzLnBvcnQgJiZcbiAgICAgICAgICAgICgoXCJodHRwc1wiID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMub3B0cy5wb3J0KSAhPT0gNDQzKSB8fFxuICAgICAgICAgICAgICAgIChcImh0dHBcIiA9PT0gc2NoZW1hICYmIE51bWJlcih0aGlzLm9wdHMucG9ydCkgIT09IDgwKSkpIHtcbiAgICAgICAgICAgIHBvcnQgPSBcIjpcIiArIHRoaXMub3B0cy5wb3J0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kZWRRdWVyeSA9IGVuY29kZShxdWVyeSk7XG4gICAgICAgIGNvbnN0IGlwdjYgPSB0aGlzLm9wdHMuaG9zdG5hbWUuaW5kZXhPZihcIjpcIikgIT09IC0xO1xuICAgICAgICByZXR1cm4gKHNjaGVtYSArXG4gICAgICAgICAgICBcIjovL1wiICtcbiAgICAgICAgICAgIChpcHY2ID8gXCJbXCIgKyB0aGlzLm9wdHMuaG9zdG5hbWUgKyBcIl1cIiA6IHRoaXMub3B0cy5ob3N0bmFtZSkgK1xuICAgICAgICAgICAgcG9ydCArXG4gICAgICAgICAgICB0aGlzLm9wdHMucGF0aCArXG4gICAgICAgICAgICAoZW5jb2RlZFF1ZXJ5Lmxlbmd0aCA/IFwiP1wiICsgZW5jb2RlZFF1ZXJ5IDogXCJcIikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2RcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICByZXF1ZXN0KG9wdHMgPSB7fSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKG9wdHMsIHsgeGQ6IHRoaXMueGQsIHhzOiB0aGlzLnhzIH0sIHRoaXMub3B0cyk7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLnVyaSgpLCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIHRvIHNlbmQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGVkIHVwb24gZmx1c2guXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZG9Xcml0ZShkYXRhLCBmbikge1xuICAgICAgICBjb25zdCByZXEgPSB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcS5vbihcInN1Y2Nlc3NcIiwgZm4pO1xuICAgICAgICByZXEub24oXCJlcnJvclwiLCAoeGhyU3RhdHVzLCBjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJ4aHIgcG9zdCBlcnJvclwiLCB4aHJTdGF0dXMsIGNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgcG9sbCBjeWNsZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvUG9sbCgpIHtcbiAgICAgICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0KCk7XG4gICAgICAgIHJlcS5vbihcImRhdGFcIiwgdGhpcy5vbkRhdGEuYmluZCh0aGlzKSk7XG4gICAgICAgIHJlcS5vbihcImVycm9yXCIsICh4aHJTdGF0dXMsIGNvbnRleHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInhociBwb2xsIGVycm9yXCIsIHhoclN0YXR1cywgY29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBvbGxYaHIgPSByZXE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlcXVlc3QgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodXJpLCBvcHRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyh0aGlzLCBvcHRzKTtcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBvcHRzLm1ldGhvZCB8fCBcIkdFVFwiO1xuICAgICAgICB0aGlzLnVyaSA9IHVyaTtcbiAgICAgICAgdGhpcy5hc3luYyA9IGZhbHNlICE9PSBvcHRzLmFzeW5jO1xuICAgICAgICB0aGlzLmRhdGEgPSB1bmRlZmluZWQgIT09IG9wdHMuZGF0YSA/IG9wdHMuZGF0YSA6IG51bGw7XG4gICAgICAgIHRoaXMuY3JlYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIFhIUiBvYmplY3QgYW5kIHNlbmRzIHRoZSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBvcHRzID0gcGljayh0aGlzLm9wdHMsIFwiYWdlbnRcIiwgXCJwZnhcIiwgXCJrZXlcIiwgXCJwYXNzcGhyYXNlXCIsIFwiY2VydFwiLCBcImNhXCIsIFwiY2lwaGVyc1wiLCBcInJlamVjdFVuYXV0aG9yaXplZFwiLCBcImF1dG9VbnJlZlwiKTtcbiAgICAgICAgb3B0cy54ZG9tYWluID0gISF0aGlzLm9wdHMueGQ7XG4gICAgICAgIG9wdHMueHNjaGVtZSA9ICEhdGhpcy5vcHRzLnhzO1xuICAgICAgICBjb25zdCB4aHIgPSAodGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Qob3B0cykpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgeGhyLm9wZW4odGhpcy5tZXRob2QsIHRoaXMudXJpLCB0aGlzLmFzeW5jKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5leHRyYUhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldERpc2FibGVIZWFkZXJDaGVjayAmJiB4aHIuc2V0RGlzYWJsZUhlYWRlckNoZWNrKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMub3B0cy5leHRyYUhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuZXh0cmFIZWFkZXJzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaSwgdGhpcy5vcHRzLmV4dHJhSGVhZGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICBpZiAoXCJQT1NUXCIgPT09IHRoaXMubWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIiwgXCIqLypcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAvLyBpZTYgY2hlY2tcbiAgICAgICAgICAgIGlmIChcIndpdGhDcmVkZW50aWFsc1wiIGluIHhocikge1xuICAgICAgICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0aGlzLm9wdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5yZXF1ZXN0VGltZW91dCkge1xuICAgICAgICAgICAgICAgIHhoci50aW1lb3V0ID0gdGhpcy5vcHRzLnJlcXVlc3RUaW1lb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoNCAhPT0geGhyLnJlYWR5U3RhdGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoMjAwID09PSB4aHIuc3RhdHVzIHx8IDEyMjMgPT09IHhoci5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgYGVycm9yYCBldmVudCBoYW5kbGVyIHRoYXQncyB1c2VyLXNldFxuICAgICAgICAgICAgICAgICAgICAvLyBkb2VzIG5vdCB0aHJvdyBpbiB0aGUgc2FtZSB0aWNrIGFuZCBnZXRzIGNhdWdodCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25FcnJvcih0eXBlb2YgeGhyLnN0YXR1cyA9PT0gXCJudW1iZXJcIiA/IHhoci5zdGF0dXMgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5zZW5kKHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIE5lZWQgdG8gZGVmZXIgc2luY2UgLmNyZWF0ZSgpIGlzIGNhbGxlZCBkaXJlY3RseSBmcm9tIHRoZSBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgLy8gYW5kIHRodXMgdGhlICdlcnJvcicgZXZlbnQgY2FuIG9ubHkgYmUgb25seSBib3VuZCAqYWZ0ZXIqIHRoaXMgZXhjZXB0aW9uXG4gICAgICAgICAgICAvLyBvY2N1cnMuICBUaGVyZWZvcmUsIGFsc28sIHdlIGNhbm5vdCB0aHJvdyBoZXJlIGF0IGFsbC5cbiAgICAgICAgICAgIHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IoZSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gUmVxdWVzdC5yZXF1ZXN0c0NvdW50Kys7XG4gICAgICAgICAgICBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuaW5kZXhdID0gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlcnJvci5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uRXJyb3IoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyLCB0aGlzLnhocik7XG4gICAgICAgIHRoaXMuY2xlYW51cCh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGhvdXNlLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgY2xlYW51cChmcm9tRXJyb3IpIHtcbiAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiB0aGlzLnhociB8fCBudWxsID09PSB0aGlzLnhocikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGVtcHR5O1xuICAgICAgICBpZiAoZnJvbUVycm9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgZGVsZXRlIFJlcXVlc3QucmVxdWVzdHNbdGhpcy5pbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54aHIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBsb2FkLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgb25Mb2FkKCkge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy54aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkYXRhXCIsIGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJzdWNjZXNzXCIpO1xuICAgICAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWJvcnRzIHRoZSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgfVxufVxuUmVxdWVzdC5yZXF1ZXN0c0NvdW50ID0gMDtcblJlcXVlc3QucmVxdWVzdHMgPSB7fTtcbi8qKlxuICogQWJvcnRzIHBlbmRpbmcgcmVxdWVzdHMgd2hlbiB1bmxvYWRpbmcgdGhlIHdpbmRvdy4gVGhpcyBpcyBuZWVkZWQgdG8gcHJldmVudFxuICogbWVtb3J5IGxlYWtzIChlLmcuIHdoZW4gdXNpbmcgSUUpIGFuZCB0byBlbnN1cmUgdGhhdCBubyBzcHVyaW91cyBlcnJvciBpc1xuICogZW1pdHRlZC5cbiAqL1xuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAodHlwZW9mIGF0dGFjaEV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhdHRhY2hFdmVudChcIm9udW5sb2FkXCIsIHVubG9hZEhhbmRsZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbnN0IHRlcm1pbmF0aW9uRXZlbnQgPSBcIm9ucGFnZWhpZGVcIiBpbiBnbG9iYWxUaGlzID8gXCJwYWdlaGlkZVwiIDogXCJ1bmxvYWRcIjtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcih0ZXJtaW5hdGlvbkV2ZW50LCB1bmxvYWRIYW5kbGVyLCBmYWxzZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdW5sb2FkSGFuZGxlcigpIHtcbiAgICBmb3IgKGxldCBpIGluIFJlcXVlc3QucmVxdWVzdHMpIHtcbiAgICAgICAgaWYgKFJlcXVlc3QucmVxdWVzdHMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgIFJlcXVlc3QucmVxdWVzdHNbaV0uYWJvcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGdsb2JhbFRoaXNTaGltIGFzIGdsb2JhbFRoaXMgfSBmcm9tIFwiLi4vZ2xvYmFsVGhpcy5qc1wiO1xuZXhwb3J0IGNvbnN0IG5leHRUaWNrID0gKCgpID0+IHtcbiAgICBjb25zdCBpc1Byb21pc2VBdmFpbGFibGUgPSB0eXBlb2YgUHJvbWlzZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBQcm9taXNlLnJlc29sdmUgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBpZiAoaXNQcm9taXNlQXZhaWxhYmxlKSB7XG4gICAgICAgIHJldHVybiBjYiA9PiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGNiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAoY2IsIHNldFRpbWVvdXRGbikgPT4gc2V0VGltZW91dEZuKGNiLCAwKTtcbiAgICB9XG59KSgpO1xuZXhwb3J0IGNvbnN0IFdlYlNvY2tldCA9IGdsb2JhbFRoaXMuV2ViU29ja2V0IHx8IGdsb2JhbFRoaXMuTW96V2ViU29ja2V0O1xuZXhwb3J0IGNvbnN0IHVzaW5nQnJvd3NlcldlYlNvY2tldCA9IHRydWU7XG5leHBvcnQgY29uc3QgZGVmYXVsdEJpbmFyeVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG4iLCJpbXBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi4vdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyBlbmNvZGUgfSBmcm9tIFwiLi4vY29udHJpYi9wYXJzZXFzLmpzXCI7XG5pbXBvcnQgeyB5ZWFzdCB9IGZyb20gXCIuLi9jb250cmliL3llYXN0LmpzXCI7XG5pbXBvcnQgeyBwaWNrIH0gZnJvbSBcIi4uL3V0aWwuanNcIjtcbmltcG9ydCB7IGRlZmF1bHRCaW5hcnlUeXBlLCBuZXh0VGljaywgdXNpbmdCcm93c2VyV2ViU29ja2V0LCBXZWJTb2NrZXQgfSBmcm9tIFwiLi93ZWJzb2NrZXQtY29uc3RydWN0b3IuanNcIjtcbmltcG9ydCB7IGVuY29kZVBhY2tldCB9IGZyb20gXCJlbmdpbmUuaW8tcGFyc2VyXCI7XG4vLyBkZXRlY3QgUmVhY3ROYXRpdmUgZW52aXJvbm1lbnRcbmNvbnN0IGlzUmVhY3ROYXRpdmUgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIG5hdmlnYXRvci5wcm9kdWN0ID09PSBcInN0cmluZ1wiICYmXG4gICAgbmF2aWdhdG9yLnByb2R1Y3QudG9Mb3dlckNhc2UoKSA9PT0gXCJyZWFjdG5hdGl2ZVwiO1xuZXhwb3J0IGNsYXNzIFdTIGV4dGVuZHMgVHJhbnNwb3J0IHtcbiAgICAvKipcbiAgICAgKiBXZWJTb2NrZXQgdHJhbnNwb3J0IGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQGFwaSB7T2JqZWN0fSBjb25uZWN0aW9uIG9wdGlvbnNcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIob3B0cyk7XG4gICAgICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSAhb3B0cy5mb3JjZUJhc2U2NDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNwb3J0IG5hbWUuXG4gICAgICpcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJ3ZWJzb2NrZXRcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbnMgc29ja2V0LlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZG9PcGVuKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2hlY2soKSkge1xuICAgICAgICAgICAgLy8gbGV0IHByb2JlIHRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cmkgPSB0aGlzLnVyaSgpO1xuICAgICAgICBjb25zdCBwcm90b2NvbHMgPSB0aGlzLm9wdHMucHJvdG9jb2xzO1xuICAgICAgICAvLyBSZWFjdCBOYXRpdmUgb25seSBzdXBwb3J0cyB0aGUgJ2hlYWRlcnMnIG9wdGlvbiwgYW5kIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIGFueXRoaW5nIGVsc2UgaXMgcGFzc2VkXG4gICAgICAgIGNvbnN0IG9wdHMgPSBpc1JlYWN0TmF0aXZlXG4gICAgICAgICAgICA/IHt9XG4gICAgICAgICAgICA6IHBpY2sodGhpcy5vcHRzLCBcImFnZW50XCIsIFwicGVyTWVzc2FnZURlZmxhdGVcIiwgXCJwZnhcIiwgXCJrZXlcIiwgXCJwYXNzcGhyYXNlXCIsIFwiY2VydFwiLCBcImNhXCIsIFwiY2lwaGVyc1wiLCBcInJlamVjdFVuYXV0aG9yaXplZFwiLCBcImxvY2FsQWRkcmVzc1wiLCBcInByb3RvY29sVmVyc2lvblwiLCBcIm9yaWdpblwiLCBcIm1heFBheWxvYWRcIiwgXCJmYW1pbHlcIiwgXCJjaGVja1NlcnZlcklkZW50aXR5XCIpO1xuICAgICAgICBpZiAodGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgb3B0cy5oZWFkZXJzID0gdGhpcy5vcHRzLmV4dHJhSGVhZGVycztcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53cyA9XG4gICAgICAgICAgICAgICAgdXNpbmdCcm93c2VyV2ViU29ja2V0ICYmICFpc1JlYWN0TmF0aXZlXG4gICAgICAgICAgICAgICAgICAgID8gcHJvdG9jb2xzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBXZWJTb2NrZXQodXJpLCBwcm90b2NvbHMpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBXZWJTb2NrZXQodXJpKVxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBXZWJTb2NrZXQodXJpLCBwcm90b2NvbHMsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53cy5iaW5hcnlUeXBlID0gdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSB8fCBkZWZhdWx0QmluYXJ5VHlwZTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgc29ja2V0XG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgICAgICAgIHRoaXMud3MuX3NvY2tldC51bnJlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gY2xvc2VFdmVudCA9PiB0aGlzLm9uQ2xvc2Uoe1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwid2Vic29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBjbG9zZUV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IGV2ID0+IHRoaXMub25EYXRhKGV2LmRhdGEpO1xuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSBlID0+IHRoaXMub25FcnJvcihcIndlYnNvY2tldCBlcnJvclwiLCBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIGRhdGEgdG8gc29ja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgb2YgcGFja2V0cy5cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgLy8gZW5jb2RlUGFja2V0IGVmZmljaWVudCBhcyBpdCB1c2VzIFdTIGZyYW1pbmdcbiAgICAgICAgLy8gbm8gbmVlZCBmb3IgZW5jb2RlUGF5bG9hZFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhY2tldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IHBhY2tldHNbaV07XG4gICAgICAgICAgICBjb25zdCBsYXN0UGFja2V0ID0gaSA9PT0gcGFja2V0cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgZW5jb2RlUGFja2V0KHBhY2tldCwgdGhpcy5zdXBwb3J0c0JpbmFyeSwgZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gYWx3YXlzIGNyZWF0ZSBhIG5ldyBvYmplY3QgKEdILTQzNylcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRzID0ge307XG4gICAgICAgICAgICAgICAgaWYgKCF1c2luZ0Jyb3dzZXJXZWJTb2NrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhY2tldC5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmNvbXByZXNzID0gcGFja2V0Lm9wdGlvbnMuY29tcHJlc3M7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuID0gXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZGF0YSA/IEJ1ZmZlci5ieXRlTGVuZ3RoKGRhdGEpIDogZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVuIDwgdGhpcy5vcHRzLnBlck1lc3NhZ2VEZWZsYXRlLnRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMuY29tcHJlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTb21ldGltZXMgdGhlIHdlYnNvY2tldCBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZCBidXQgdGhlIGJyb3dzZXIgZGlkbid0XG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGNoYW5jZSBvZiBpbmZvcm1pbmcgdXMgYWJvdXQgaXQgeWV0LCBpbiB0aGF0IGNhc2Ugc2VuZCB3aWxsXG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodXNpbmdCcm93c2VyV2ViU29ja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUeXBlRXJyb3IgaXMgdGhyb3duIHdoZW4gcGFzc2luZyB0aGUgc2Vjb25kIGFyZ3VtZW50IG9uIFNhZmFyaVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5zZW5kKGRhdGEsIG9wdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsYXN0UGFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZha2UgZHJhaW5cbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXIgdG8gbmV4dCB0aWNrIHRvIGFsbG93IFNvY2tldCB0byBjbGVhciB3cml0ZUJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZHJhaW5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuc2V0VGltZW91dEZuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgc29ja2V0LlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZG9DbG9zZSgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLndzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLndzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdXJpIGZvciBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgdXJpKCkge1xuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLm9wdHMuc2VjdXJlID8gXCJ3c3NcIiA6IFwid3NcIjtcbiAgICAgICAgbGV0IHBvcnQgPSBcIlwiO1xuICAgICAgICAvLyBhdm9pZCBwb3J0IGlmIGRlZmF1bHQgZm9yIHNjaGVtYVxuICAgICAgICBpZiAodGhpcy5vcHRzLnBvcnQgJiZcbiAgICAgICAgICAgICgoXCJ3c3NcIiA9PT0gc2NoZW1hICYmIE51bWJlcih0aGlzLm9wdHMucG9ydCkgIT09IDQ0MykgfHxcbiAgICAgICAgICAgICAgICAoXCJ3c1wiID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMub3B0cy5wb3J0KSAhPT0gODApKSkge1xuICAgICAgICAgICAgcG9ydCA9IFwiOlwiICsgdGhpcy5vcHRzLnBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwZW5kIHRpbWVzdGFtcCB0byBVUklcbiAgICAgICAgaWYgKHRoaXMub3B0cy50aW1lc3RhbXBSZXF1ZXN0cykge1xuICAgICAgICAgICAgcXVlcnlbdGhpcy5vcHRzLnRpbWVzdGFtcFBhcmFtXSA9IHllYXN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29tbXVuaWNhdGUgYmluYXJ5IHN1cHBvcnQgY2FwYWJpbGl0aWVzXG4gICAgICAgIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSkge1xuICAgICAgICAgICAgcXVlcnkuYjY0ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmNvZGVkUXVlcnkgPSBlbmNvZGUocXVlcnkpO1xuICAgICAgICBjb25zdCBpcHY2ID0gdGhpcy5vcHRzLmhvc3RuYW1lLmluZGV4T2YoXCI6XCIpICE9PSAtMTtcbiAgICAgICAgcmV0dXJuIChzY2hlbWEgK1xuICAgICAgICAgICAgXCI6Ly9cIiArXG4gICAgICAgICAgICAoaXB2NiA/IFwiW1wiICsgdGhpcy5vcHRzLmhvc3RuYW1lICsgXCJdXCIgOiB0aGlzLm9wdHMuaG9zdG5hbWUpICtcbiAgICAgICAgICAgIHBvcnQgK1xuICAgICAgICAgICAgdGhpcy5vcHRzLnBhdGggK1xuICAgICAgICAgICAgKGVuY29kZWRRdWVyeS5sZW5ndGggPyBcIj9cIiArIGVuY29kZWRRdWVyeSA6IFwiXCIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBkZXRlY3Rpb24gZm9yIFdlYlNvY2tldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHdoZXRoZXIgdGhpcyB0cmFuc3BvcnQgaXMgYXZhaWxhYmxlLlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgY2hlY2soKSB7XG4gICAgICAgIHJldHVybiAhIVdlYlNvY2tldDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQb2xsaW5nIH0gZnJvbSBcIi4vcG9sbGluZy5qc1wiO1xuaW1wb3J0IHsgV1MgfSBmcm9tIFwiLi93ZWJzb2NrZXQuanNcIjtcbmV4cG9ydCBjb25zdCB0cmFuc3BvcnRzID0ge1xuICAgIHdlYnNvY2tldDogV1MsXG4gICAgcG9sbGluZzogUG9sbGluZ1xufTtcbiIsIi8vIGltcG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dhbGtuL3BhcnNldXJpXG4vKipcbiAqIFBhcnNlcyBhbiBVUklcbiAqXG4gKiBAYXV0aG9yIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPiAoTUlUIGxpY2Vuc2UpXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuY29uc3QgcmUgPSAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShodHRwfGh0dHBzfHdzfHdzcyk6XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPygoPzpbYS1mMC05XXswLDR9Oil7Miw3fVthLWYwLTldezAsNH18W146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcbmNvbnN0IHBhcnRzID0gW1xuICAgICdzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ1xuXTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgICBjb25zdCBzcmMgPSBzdHIsIGIgPSBzdHIuaW5kZXhPZignWycpLCBlID0gc3RyLmluZGV4T2YoJ10nKTtcbiAgICBpZiAoYiAhPSAtMSAmJiBlICE9IC0xKSB7XG4gICAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgYikgKyBzdHIuc3Vic3RyaW5nKGIsIGUpLnJlcGxhY2UoLzovZywgJzsnKSArIHN0ci5zdWJzdHJpbmcoZSwgc3RyLmxlbmd0aCk7XG4gICAgfVxuICAgIGxldCBtID0gcmUuZXhlYyhzdHIgfHwgJycpLCB1cmkgPSB7fSwgaSA9IDE0O1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdXJpW3BhcnRzW2ldXSA9IG1baV0gfHwgJyc7XG4gICAgfVxuICAgIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcbiAgICAgICAgdXJpLnNvdXJjZSA9IHNyYztcbiAgICAgICAgdXJpLmhvc3QgPSB1cmkuaG9zdC5zdWJzdHJpbmcoMSwgdXJpLmhvc3QubGVuZ3RoIC0gMSkucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuYXV0aG9yaXR5ID0gdXJpLmF1dGhvcml0eS5yZXBsYWNlKCdbJywgJycpLnJlcGxhY2UoJ10nLCAnJykucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuaXB2NnVyaSA9IHRydWU7XG4gICAgfVxuICAgIHVyaS5wYXRoTmFtZXMgPSBwYXRoTmFtZXModXJpLCB1cmlbJ3BhdGgnXSk7XG4gICAgdXJpLnF1ZXJ5S2V5ID0gcXVlcnlLZXkodXJpLCB1cmlbJ3F1ZXJ5J10pO1xuICAgIHJldHVybiB1cmk7XG59XG5mdW5jdGlvbiBwYXRoTmFtZXMob2JqLCBwYXRoKSB7XG4gICAgY29uc3QgcmVneCA9IC9cXC97Miw5fS9nLCBuYW1lcyA9IHBhdGgucmVwbGFjZShyZWd4LCBcIi9cIikuc3BsaXQoXCIvXCIpO1xuICAgIGlmIChwYXRoLnNsaWNlKDAsIDEpID09ICcvJyB8fCBwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBuYW1lcy5zcGxpY2UoMCwgMSk7XG4gICAgfVxuICAgIGlmIChwYXRoLnNsaWNlKC0xKSA9PSAnLycpIHtcbiAgICAgICAgbmFtZXMuc3BsaWNlKG5hbWVzLmxlbmd0aCAtIDEsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXM7XG59XG5mdW5jdGlvbiBxdWVyeUtleSh1cmksIHF1ZXJ5KSB7XG4gICAgY29uc3QgZGF0YSA9IHt9O1xuICAgIHF1ZXJ5LnJlcGxhY2UoLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgICAgICBpZiAoJDEpIHtcbiAgICAgICAgICAgIGRhdGFbJDFdID0gJDI7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbiIsImltcG9ydCB7IHRyYW5zcG9ydHMgfSBmcm9tIFwiLi90cmFuc3BvcnRzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBpbnN0YWxsVGltZXJGdW5jdGlvbnMsIGJ5dGVMZW5ndGggfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBkZWNvZGUgfSBmcm9tIFwiLi9jb250cmliL3BhcnNlcXMuanNcIjtcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIi4vY29udHJpYi9wYXJzZXVyaS5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgeyBwcm90b2NvbCB9IGZyb20gXCJlbmdpbmUuaW8tcGFyc2VyXCI7XG5leHBvcnQgY2xhc3MgU29ja2V0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogU29ja2V0IGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSB1cmkgb3Igb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodXJpLCBvcHRzID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgaWYgKHVyaSAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgdXJpKSB7XG4gICAgICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICAgICAgdXJpID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJpKSB7XG4gICAgICAgICAgICB1cmkgPSBwYXJzZSh1cmkpO1xuICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSA9IHVyaS5ob3N0O1xuICAgICAgICAgICAgb3B0cy5zZWN1cmUgPSB1cmkucHJvdG9jb2wgPT09IFwiaHR0cHNcIiB8fCB1cmkucHJvdG9jb2wgPT09IFwid3NzXCI7XG4gICAgICAgICAgICBvcHRzLnBvcnQgPSB1cmkucG9ydDtcbiAgICAgICAgICAgIGlmICh1cmkucXVlcnkpXG4gICAgICAgICAgICAgICAgb3B0cy5xdWVyeSA9IHVyaS5xdWVyeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRzLmhvc3QpIHtcbiAgICAgICAgICAgIG9wdHMuaG9zdG5hbWUgPSBwYXJzZShvcHRzLmhvc3QpLmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFsbFRpbWVyRnVuY3Rpb25zKHRoaXMsIG9wdHMpO1xuICAgICAgICB0aGlzLnNlY3VyZSA9XG4gICAgICAgICAgICBudWxsICE9IG9wdHMuc2VjdXJlXG4gICAgICAgICAgICAgICAgPyBvcHRzLnNlY3VyZVxuICAgICAgICAgICAgICAgIDogdHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIFwiaHR0cHM6XCIgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICBpZiAob3B0cy5ob3N0bmFtZSAmJiAhb3B0cy5wb3J0KSB7XG4gICAgICAgICAgICAvLyBpZiBubyBwb3J0IGlzIHNwZWNpZmllZCBtYW51YWxseSwgdXNlIHRoZSBwcm90b2NvbCBkZWZhdWx0XG4gICAgICAgICAgICBvcHRzLnBvcnQgPSB0aGlzLnNlY3VyZSA/IFwiNDQzXCIgOiBcIjgwXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA9XG4gICAgICAgICAgICBvcHRzLmhvc3RuYW1lIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiA/IGxvY2F0aW9uLmhvc3RuYW1lIDogXCJsb2NhbGhvc3RcIik7XG4gICAgICAgIHRoaXMucG9ydCA9XG4gICAgICAgICAgICBvcHRzLnBvcnQgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIGxvY2F0aW9uLnBvcnRcbiAgICAgICAgICAgICAgICAgICAgPyBsb2NhdGlvbi5wb3J0XG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5zZWN1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCI0NDNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIjgwXCIpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydHMgPSBvcHRzLnRyYW5zcG9ydHMgfHwgW1wicG9sbGluZ1wiLCBcIndlYnNvY2tldFwiXTtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJcIjtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnByZXZCdWZmZXJMZW4gPSAwO1xuICAgICAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHBhdGg6IFwiL2VuZ2luZS5pb1wiLFxuICAgICAgICAgICAgYWdlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgICAgIHVwZ3JhZGU6IHRydWUsXG4gICAgICAgICAgICB0aW1lc3RhbXBQYXJhbTogXCJ0XCIsXG4gICAgICAgICAgICByZW1lbWJlclVwZ3JhZGU6IGZhbHNlLFxuICAgICAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiB0cnVlLFxuICAgICAgICAgICAgcGVyTWVzc2FnZURlZmxhdGU6IHtcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDEwMjRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc3BvcnRPcHRpb25zOiB7fSxcbiAgICAgICAgICAgIGNsb3NlT25CZWZvcmV1bmxvYWQ6IHRydWVcbiAgICAgICAgfSwgb3B0cyk7XG4gICAgICAgIHRoaXMub3B0cy5wYXRoID0gdGhpcy5vcHRzLnBhdGgucmVwbGFjZSgvXFwvJC8sIFwiXCIpICsgXCIvXCI7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRzLnF1ZXJ5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aGlzLm9wdHMucXVlcnkgPSBkZWNvZGUodGhpcy5vcHRzLnF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgb24gaGFuZHNoYWtlXG4gICAgICAgIHRoaXMuaWQgPSBudWxsO1xuICAgICAgICB0aGlzLnVwZ3JhZGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5waW5nSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLnBpbmdUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgLy8gc2V0IG9uIGhlYXJ0YmVhdFxuICAgICAgICB0aGlzLnBpbmdUaW1lb3V0VGltZXIgPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbG9zZU9uQmVmb3JldW5sb2FkKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCBjbG9zZXMgdGhlIGNvbm5lY3Rpb24gd2hlbiB0aGUgXCJiZWZvcmV1bmxvYWRcIiBldmVudCBpcyBlbWl0dGVkIGJ1dCBub3QgQ2hyb21lLiBUaGlzIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlcyBldmVyeSBicm93c2VyIGJlaGF2ZXMgdGhlIHNhbWUgKG5vIFwiZGlzY29ubmVjdFwiIGV2ZW50IGF0IHRoZSBTb2NrZXQuSU8gbGV2ZWwgd2hlbiB0aGUgcGFnZSBpc1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlZC9yZWxvYWRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmJlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2lsZW50bHkgY2xvc2UgdGhlIHRyYW5zcG9ydFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMuYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaG9zdG5hbWUgIT09IFwibG9jYWxob3N0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwibmV0d29yayBjb25uZWN0aW9uIGxvc3RcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsIHRoaXMub2ZmbGluZUV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0cmFuc3BvcnQgb2YgdGhlIGdpdmVuIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHJhbnNwb3J0IG5hbWVcbiAgICAgKiBAcmV0dXJuIHtUcmFuc3BvcnR9XG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgY3JlYXRlVHJhbnNwb3J0KG5hbWUpIHtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdHMucXVlcnkpO1xuICAgICAgICAvLyBhcHBlbmQgZW5naW5lLmlvIHByb3RvY29sIGlkZW50aWZpZXJcbiAgICAgICAgcXVlcnkuRUlPID0gcHJvdG9jb2w7XG4gICAgICAgIC8vIHRyYW5zcG9ydCBuYW1lXG4gICAgICAgIHF1ZXJ5LnRyYW5zcG9ydCA9IG5hbWU7XG4gICAgICAgIC8vIHNlc3Npb24gaWQgaWYgd2UgYWxyZWFkeSBoYXZlIG9uZVxuICAgICAgICBpZiAodGhpcy5pZClcbiAgICAgICAgICAgIHF1ZXJ5LnNpZCA9IHRoaXMuaWQ7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdHMudHJhbnNwb3J0T3B0aW9uc1tuYW1lXSwgdGhpcy5vcHRzLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIHNvY2tldDogdGhpcyxcbiAgICAgICAgICAgIGhvc3RuYW1lOiB0aGlzLmhvc3RuYW1lLFxuICAgICAgICAgICAgc2VjdXJlOiB0aGlzLnNlY3VyZSxcbiAgICAgICAgICAgIHBvcnQ6IHRoaXMucG9ydFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyB0cmFuc3BvcnRzW25hbWVdKG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0cmFuc3BvcnQgdG8gdXNlIGFuZCBzdGFydHMgcHJvYmUuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBvcGVuKCkge1xuICAgICAgICBsZXQgdHJhbnNwb3J0O1xuICAgICAgICBpZiAodGhpcy5vcHRzLnJlbWVtYmVyVXBncmFkZSAmJlxuICAgICAgICAgICAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyAmJlxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnRzLmluZGV4T2YoXCJ3ZWJzb2NrZXRcIikgIT09IC0xKSB7XG4gICAgICAgICAgICB0cmFuc3BvcnQgPSBcIndlYnNvY2tldFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKDAgPT09IHRoaXMudHJhbnNwb3J0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIEVtaXQgZXJyb3Igb24gbmV4dCB0aWNrIHNvIGl0IGNhbiBiZSBsaXN0ZW5lZCB0b1xuICAgICAgICAgICAgdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgXCJObyB0cmFuc3BvcnRzIGF2YWlsYWJsZVwiKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gdGhpcy50cmFuc3BvcnRzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICAvLyBSZXRyeSB3aXRoIHRoZSBuZXh0IHRyYW5zcG9ydCBpZiB0aGUgdHJhbnNwb3J0IGlzIGRpc2FibGVkIChqc29ucDogZmFsc2UpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0cmFuc3BvcnQgPSB0aGlzLmNyZWF0ZVRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydHMuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyYW5zcG9ydC5vcGVuKCk7XG4gICAgICAgIHRoaXMuc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgdHJhbnNwb3J0LiBEaXNhYmxlcyB0aGUgZXhpc3Rpbmcgb25lIChpZiBhbnkpLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCkge1xuICAgICAgICBpZiAodGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCB1cCB0cmFuc3BvcnRcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIC8vIHNldCB1cCB0cmFuc3BvcnQgbGlzdGVuZXJzXG4gICAgICAgIHRyYW5zcG9ydFxuICAgICAgICAgICAgLm9uKFwiZHJhaW5cIiwgdGhpcy5vbkRyYWluLmJpbmQodGhpcykpXG4gICAgICAgICAgICAub24oXCJwYWNrZXRcIiwgdGhpcy5vblBhY2tldC5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgLm9uKFwiZXJyb3JcIiwgdGhpcy5vbkVycm9yLmJpbmQodGhpcykpXG4gICAgICAgICAgICAub24oXCJjbG9zZVwiLCByZWFzb24gPT4gdGhpcy5vbkNsb3NlKFwidHJhbnNwb3J0IGNsb3NlXCIsIHJlYXNvbikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9iZXMgYSB0cmFuc3BvcnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHJhbnNwb3J0IG5hbWVcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm9iZShuYW1lKSB7XG4gICAgICAgIGxldCB0cmFuc3BvcnQgPSB0aGlzLmNyZWF0ZVRyYW5zcG9ydChuYW1lKTtcbiAgICAgICAgbGV0IGZhaWxlZCA9IGZhbHNlO1xuICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG9uVHJhbnNwb3J0T3BlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChmYWlsZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnNlbmQoW3sgdHlwZTogXCJwaW5nXCIsIGRhdGE6IFwicHJvYmVcIiB9XSk7XG4gICAgICAgICAgICB0cmFuc3BvcnQub25jZShcInBhY2tldFwiLCBtc2cgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmYWlsZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoXCJwb25nXCIgPT09IG1zZy50eXBlICYmIFwicHJvYmVcIiA9PT0gbXNnLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGdyYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGluZ1wiLCB0cmFuc3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYW5zcG9ydClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IFwid2Vic29ja2V0XCIgPT09IHRyYW5zcG9ydC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5wYXVzZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImNsb3NlZFwiID09PSB0aGlzLnJlYWR5U3RhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5zZW5kKFt7IHR5cGU6IFwidXBncmFkZVwiIH1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZVwiLCB0cmFuc3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBncmFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwicHJvYmUgZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgZXJyLnRyYW5zcG9ydCA9IHRyYW5zcG9ydC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVFcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBmcmVlemVUcmFuc3BvcnQoKSB7XG4gICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIEFueSBjYWxsYmFjayBjYWxsZWQgYnkgdHJhbnNwb3J0IHNob3VsZCBiZSBpZ25vcmVkIHNpbmNlIG5vd1xuICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYW55IGVycm9yIHRoYXQgaGFwcGVucyB3aGlsZSBwcm9iaW5nXG4gICAgICAgIGNvbnN0IG9uZXJyb3IgPSBlcnIgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJwcm9iZSBlcnJvcjogXCIgKyBlcnIpO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgZXJyb3IudHJhbnNwb3J0ID0gdHJhbnNwb3J0Lm5hbWU7XG4gICAgICAgICAgICBmcmVlemVUcmFuc3BvcnQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZUVycm9yXCIsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gb25UcmFuc3BvcnRDbG9zZSgpIHtcbiAgICAgICAgICAgIG9uZXJyb3IoXCJ0cmFuc3BvcnQgY2xvc2VkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhlIHNvY2tldCBpcyBjbG9zZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuICAgICAgICBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgICAgICAgICAgb25lcnJvcihcInNvY2tldCBjbG9zZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGUgc29ja2V0IGlzIHVwZ3JhZGVkIHdoaWxlIHdlJ3JlIHByb2JpbmdcbiAgICAgICAgZnVuY3Rpb24gb251cGdyYWRlKHRvKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNwb3J0ICYmIHRvLm5hbWUgIT09IHRyYW5zcG9ydC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZnJlZXplVHJhbnNwb3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgb24gdGhlIHRyYW5zcG9ydCBhbmQgb24gc2VsZlxuICAgICAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgICAgICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKFwib3BlblwiLCBvblRyYW5zcG9ydE9wZW4pO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgb25lcnJvcik7XG4gICAgICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLCBvblRyYW5zcG9ydENsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwiY2xvc2VcIiwgb25jbG9zZSk7XG4gICAgICAgICAgICB0aGlzLm9mZihcInVwZ3JhZGluZ1wiLCBvbnVwZ3JhZGUpO1xuICAgICAgICB9O1xuICAgICAgICB0cmFuc3BvcnQub25jZShcIm9wZW5cIiwgb25UcmFuc3BvcnRPcGVuKTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJlcnJvclwiLCBvbmVycm9yKTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJjbG9zZVwiLCBvblRyYW5zcG9ydENsb3NlKTtcbiAgICAgICAgdGhpcy5vbmNlKFwiY2xvc2VcIiwgb25jbG9zZSk7XG4gICAgICAgIHRoaXMub25jZShcInVwZ3JhZGluZ1wiLCBvbnVwZ3JhZGUpO1xuICAgICAgICB0cmFuc3BvcnQub3BlbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBjb25uZWN0aW9uIGlzIGRlZW1lZCBvcGVuLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5cIjtcbiAgICAgICAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IFwid2Vic29ja2V0XCIgPT09IHRoaXMudHJhbnNwb3J0Lm5hbWU7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICAvLyB3ZSBjaGVjayBmb3IgYHJlYWR5U3RhdGVgIGluIGNhc2UgYW4gYG9wZW5gXG4gICAgICAgIC8vIGxpc3RlbmVyIGFscmVhZHkgY2xvc2VkIHRoZSBzb2NrZXRcbiAgICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUgJiZcbiAgICAgICAgICAgIHRoaXMub3B0cy51cGdyYWRlICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5wYXVzZSkge1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgY29uc3QgbCA9IHRoaXMudXBncmFkZXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2JlKHRoaXMudXBncmFkZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBvblBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHxcbiAgICAgICAgICAgIFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUgfHxcbiAgICAgICAgICAgIFwiY2xvc2luZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsIHBhY2tldCk7XG4gICAgICAgICAgICAvLyBTb2NrZXQgaXMgbGl2ZSAtIGFueSBwYWNrZXQgY291bnRzXG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImhlYXJ0YmVhdFwiKTtcbiAgICAgICAgICAgIHN3aXRjaCAocGFja2V0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uSGFuZHNoYWtlKEpTT04ucGFyc2UocGFja2V0LmRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInBpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldFBpbmdUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZFBhY2tldChcInBvbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb25nXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwic2VydmVyIGVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGVyci5jb2RlID0gcGFja2V0LmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRhdGFcIiwgcGFja2V0LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcIm1lc3NhZ2VcIiwgcGFja2V0LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBoYW5kc2hha2UgY29tcGxldGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gaGFuZHNoYWtlIG9ialxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uSGFuZHNoYWtlKGRhdGEpIHtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJoYW5kc2hha2VcIiwgZGF0YSk7XG4gICAgICAgIHRoaXMuaWQgPSBkYXRhLnNpZDtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQucXVlcnkuc2lkID0gZGF0YS5zaWQ7XG4gICAgICAgIHRoaXMudXBncmFkZXMgPSB0aGlzLmZpbHRlclVwZ3JhZGVzKGRhdGEudXBncmFkZXMpO1xuICAgICAgICB0aGlzLnBpbmdJbnRlcnZhbCA9IGRhdGEucGluZ0ludGVydmFsO1xuICAgICAgICB0aGlzLnBpbmdUaW1lb3V0ID0gZGF0YS5waW5nVGltZW91dDtcbiAgICAgICAgdGhpcy5tYXhQYXlsb2FkID0gZGF0YS5tYXhQYXlsb2FkO1xuICAgICAgICB0aGlzLm9uT3BlbigpO1xuICAgICAgICAvLyBJbiBjYXNlIG9wZW4gaGFuZGxlciBjbG9zZXMgc29ja2V0XG4gICAgICAgIGlmIChcImNsb3NlZFwiID09PSB0aGlzLnJlYWR5U3RhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMucmVzZXRQaW5nVGltZW91dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuZCByZXNldHMgcGluZyB0aW1lb3V0IHRpbWVyIGJhc2VkIG9uIHNlcnZlciBwaW5ncy5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlc2V0UGluZ1RpbWVvdXQoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5waW5nVGltZW91dFRpbWVyKTtcbiAgICAgICAgdGhpcy5waW5nVGltZW91dFRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpO1xuICAgICAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbCArIHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgICAgdGhpcy5waW5nVGltZW91dFRpbWVyLnVucmVmKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGBkcmFpbmAgZXZlbnRcbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uRHJhaW4oKSB7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIuc3BsaWNlKDAsIHRoaXMucHJldkJ1ZmZlckxlbik7XG4gICAgICAgIC8vIHNldHRpbmcgcHJldkJ1ZmZlckxlbiA9IDAgaXMgdmVyeSBpbXBvcnRhbnRcbiAgICAgICAgLy8gZm9yIGV4YW1wbGUsIHdoZW4gdXBncmFkaW5nLCB1cGdyYWRlIHBhY2tldCBpcyBzZW50IG92ZXIsXG4gICAgICAgIC8vIGFuZCBhIG5vbnplcm8gcHJldkJ1ZmZlckxlbiBjb3VsZCBjYXVzZSBwcm9ibGVtcyBvbiBgZHJhaW5gXG4gICAgICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IDA7XG4gICAgICAgIGlmICgwID09PSB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGbHVzaCB3cml0ZSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZmx1c2goKSB7XG4gICAgICAgIGlmIChcImNsb3NlZFwiICE9PSB0aGlzLnJlYWR5U3RhdGUgJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LndyaXRhYmxlICYmXG4gICAgICAgICAgICAhdGhpcy51cGdyYWRpbmcgJiZcbiAgICAgICAgICAgIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwYWNrZXRzID0gdGhpcy5nZXRXcml0YWJsZVBhY2tldHMoKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnNlbmQocGFja2V0cyk7XG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIGN1cnJlbnQgbGVuZ3RoIG9mIHdyaXRlQnVmZmVyXG4gICAgICAgICAgICAvLyBzcGxpY2Ugd3JpdGVCdWZmZXIgYW5kIGNhbGxiYWNrQnVmZmVyIG9uIGBkcmFpbmBcbiAgICAgICAgICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IHBhY2tldHMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJmbHVzaFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnN1cmUgdGhlIGVuY29kZWQgc2l6ZSBvZiB0aGUgd3JpdGVCdWZmZXIgaXMgYmVsb3cgdGhlIG1heFBheWxvYWQgdmFsdWUgc2VudCBieSB0aGUgc2VydmVyIChvbmx5IGZvciBIVFRQXG4gICAgICogbG9uZy1wb2xsaW5nKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRXcml0YWJsZVBhY2tldHMoKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZENoZWNrUGF5bG9hZFNpemUgPSB0aGlzLm1heFBheWxvYWQgJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0Lm5hbWUgPT09IFwicG9sbGluZ1wiICYmXG4gICAgICAgICAgICB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCA+IDE7XG4gICAgICAgIGlmICghc2hvdWxkQ2hlY2tQYXlsb2FkU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVCdWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBheWxvYWRTaXplID0gMTsgLy8gZmlyc3QgcGFja2V0IHR5cGVcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy53cml0ZUJ1ZmZlcltpXS5kYXRhO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkU2l6ZSArPSBieXRlTGVuZ3RoKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPiAwICYmIHBheWxvYWRTaXplID4gdGhpcy5tYXhQYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVCdWZmZXIuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXlsb2FkU2l6ZSArPSAyOyAvLyBzZXBhcmF0b3IgKyBwYWNrZXQgdHlwZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtTb2NrZXR9IGZvciBjaGFpbmluZy5cbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIHdyaXRlKG1zZywgb3B0aW9ucywgZm4pIHtcbiAgICAgICAgdGhpcy5zZW5kUGFja2V0KFwibWVzc2FnZVwiLCBtc2csIG9wdGlvbnMsIGZuKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNlbmQobXNnLCBvcHRpb25zLCBmbikge1xuICAgICAgICB0aGlzLnNlbmRQYWNrZXQoXCJtZXNzYWdlXCIsIG1zZywgb3B0aW9ucywgZm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFja2V0IHR5cGUuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgc2VuZFBhY2tldCh0eXBlLCBkYXRhLCBvcHRpb25zLCBmbikge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZGF0YSkge1xuICAgICAgICAgICAgZm4gPSBkYXRhO1xuICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgZm4gPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiY2xvc2luZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMuY29tcHJlc3MgPSBmYWxzZSAhPT0gb3B0aW9ucy5jb21wcmVzcztcbiAgICAgICAgY29uc3QgcGFja2V0ID0ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGFja2V0Q3JlYXRlXCIsIHBhY2tldCk7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIucHVzaChwYWNrZXQpO1xuICAgICAgICBpZiAoZm4pXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJmbHVzaFwiLCBmbik7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoXCJmb3JjZWQgY2xvc2VcIik7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjbGVhbnVwQW5kQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9mZihcInVwZ3JhZGVcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwidXBncmFkZUVycm9yXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3YWl0Rm9yVXBncmFkZSA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIHVwZ3JhZGUgdG8gZmluaXNoIHNpbmNlIHdlIGNhbid0IHNlbmQgcGFja2V0cyB3aGlsZSBwYXVzaW5nIGEgdHJhbnNwb3J0XG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJ1cGdyYWRlXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJ1cGdyYWRlRXJyb3JcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJjbG9zaW5nXCI7XG4gICAgICAgICAgICBpZiAodGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoXCJkcmFpblwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwZ3JhZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdEZvclVwZ3JhZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICAgICAgICAgICAgd2FpdEZvclVwZ3JhZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBlcnJvclxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgb25FcnJvcihlcnIpIHtcbiAgICAgICAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVycik7XG4gICAgICAgIHRoaXMub25DbG9zZShcInRyYW5zcG9ydCBlcnJvclwiLCBlcnIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiB0cmFuc3BvcnQgY2xvc2UuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkNsb3NlKHJlYXNvbiwgZGVzY3JpcHRpb24pIHtcbiAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHxcbiAgICAgICAgICAgIFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUgfHxcbiAgICAgICAgICAgIFwiY2xvc2luZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIC8vIGNsZWFyIHRpbWVyc1xuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRGbih0aGlzLnBpbmdUaW1lb3V0VGltZXIpO1xuICAgICAgICAgICAgLy8gc3RvcCBldmVudCBmcm9tIGZpcmluZyBhZ2FpbiBmb3IgdHJhbnNwb3J0XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJjbG9zZVwiKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSB0cmFuc3BvcnQgd29uJ3Qgc3RheSBvcGVuXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICAgICAgLy8gaWdub3JlIGZ1cnRoZXIgdHJhbnNwb3J0IGNvbW11bmljYXRpb25cbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZW1vdmVFdmVudExpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMuYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsIHRoaXMub2ZmbGluZUV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNldCByZWFkeSBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgICAgIC8vIGNsZWFyIHNlc3Npb24gaWRcbiAgICAgICAgICAgIHRoaXMuaWQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZW1pdCBjbG9zZSBldmVudFxuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCByZWFzb24sIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIC8vIGNsZWFuIGJ1ZmZlcnMgYWZ0ZXIsIHNvIHVzZXJzIGNhbiBzdGlsbFxuICAgICAgICAgICAgLy8gZ3JhYiB0aGUgYnVmZmVycyBvbiBgY2xvc2VgIGV2ZW50XG4gICAgICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgICAgICB0aGlzLnByZXZCdWZmZXJMZW4gPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbHRlcnMgdXBncmFkZXMsIHJldHVybmluZyBvbmx5IHRob3NlIG1hdGNoaW5nIGNsaWVudCB0cmFuc3BvcnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gc2VydmVyIHVwZ3JhZGVzXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICpcbiAgICAgKi9cbiAgICBmaWx0ZXJVcGdyYWRlcyh1cGdyYWRlcykge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFVwZ3JhZGVzID0gW107XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgY29uc3QgaiA9IHVwZ3JhZGVzLmxlbmd0aDtcbiAgICAgICAgZm9yICg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh+dGhpcy50cmFuc3BvcnRzLmluZGV4T2YodXBncmFkZXNbaV0pKVxuICAgICAgICAgICAgICAgIGZpbHRlcmVkVXBncmFkZXMucHVzaCh1cGdyYWRlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkVXBncmFkZXM7XG4gICAgfVxufVxuU29ja2V0LnByb3RvY29sID0gcHJvdG9jb2w7XG4iLCJpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbmV4cG9ydCB7IFNvY2tldCB9O1xuZXhwb3J0IGNvbnN0IHByb3RvY29sID0gU29ja2V0LnByb3RvY29sO1xuZXhwb3J0IHsgVHJhbnNwb3J0IH0gZnJvbSBcIi4vdHJhbnNwb3J0LmpzXCI7XG5leHBvcnQgeyB0cmFuc3BvcnRzIH0gZnJvbSBcIi4vdHJhbnNwb3J0cy9pbmRleC5qc1wiO1xuZXhwb3J0IHsgaW5zdGFsbFRpbWVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9jb250cmliL3BhcnNldXJpLmpzXCI7XG5leHBvcnQgeyBuZXh0VGljayB9IGZyb20gXCIuL3RyYW5zcG9ydHMvd2Vic29ja2V0LWNvbnN0cnVjdG9yLmpzXCI7XG4iLCJjb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbmNvbnN0IGlzVmlldyA9IChvYmopID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gQXJyYXlCdWZmZXIuaXNWaWV3KG9iailcbiAgICAgICAgOiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3Qgd2l0aE5hdGl2ZUJsb2IgPSB0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBCbG9iICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwoQmxvYikgPT09IFwiW29iamVjdCBCbG9iQ29uc3RydWN0b3JdXCIpO1xuY29uc3Qgd2l0aE5hdGl2ZUZpbGUgPSB0eXBlb2YgRmlsZSA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBGaWxlICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwoRmlsZSkgPT09IFwiW29iamVjdCBGaWxlQ29uc3RydWN0b3JdXCIpO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqIGlzIGEgQnVmZmVyLCBhbiBBcnJheUJ1ZmZlciwgYSBCbG9iIG9yIGEgRmlsZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCaW5hcnkob2JqKSB7XG4gICAgcmV0dXJuICgod2l0aE5hdGl2ZUFycmF5QnVmZmVyICYmIChvYmogaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc1ZpZXcob2JqKSkpIHx8XG4gICAgICAgICh3aXRoTmF0aXZlQmxvYiAmJiBvYmogaW5zdGFuY2VvZiBCbG9iKSB8fFxuICAgICAgICAod2l0aE5hdGl2ZUZpbGUgJiYgb2JqIGluc3RhbmNlb2YgRmlsZSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0JpbmFyeShvYmosIHRvSlNPTikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKGhhc0JpbmFyeShvYmpbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNCaW5hcnkob2JqKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9iai50b0pTT04gJiZcbiAgICAgICAgdHlwZW9mIG9iai50b0pTT04gPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICBhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBoYXNCaW5hcnkob2JqLnRvSlNPTigpLCB0cnVlKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpICYmIGhhc0JpbmFyeShvYmpba2V5XSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImltcG9ydCB7IGlzQmluYXJ5IH0gZnJvbSBcIi4vaXMtYmluYXJ5LmpzXCI7XG4vKipcbiAqIFJlcGxhY2VzIGV2ZXJ5IEJ1ZmZlciB8IEFycmF5QnVmZmVyIHwgQmxvYiB8IEZpbGUgaW4gcGFja2V0IHdpdGggYSBudW1iZXJlZCBwbGFjZWhvbGRlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gc29ja2V0LmlvIGV2ZW50IHBhY2tldFxuICogQHJldHVybiB7T2JqZWN0fSB3aXRoIGRlY29uc3RydWN0ZWQgcGFja2V0IGFuZCBsaXN0IG9mIGJ1ZmZlcnNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29uc3RydWN0UGFja2V0KHBhY2tldCkge1xuICAgIGNvbnN0IGJ1ZmZlcnMgPSBbXTtcbiAgICBjb25zdCBwYWNrZXREYXRhID0gcGFja2V0LmRhdGE7XG4gICAgY29uc3QgcGFjayA9IHBhY2tldDtcbiAgICBwYWNrLmRhdGEgPSBfZGVjb25zdHJ1Y3RQYWNrZXQocGFja2V0RGF0YSwgYnVmZmVycyk7XG4gICAgcGFjay5hdHRhY2htZW50cyA9IGJ1ZmZlcnMubGVuZ3RoOyAvLyBudW1iZXIgb2YgYmluYXJ5ICdhdHRhY2htZW50cydcbiAgICByZXR1cm4geyBwYWNrZXQ6IHBhY2ssIGJ1ZmZlcnM6IGJ1ZmZlcnMgfTtcbn1cbmZ1bmN0aW9uIF9kZWNvbnN0cnVjdFBhY2tldChkYXRhLCBidWZmZXJzKSB7XG4gICAgaWYgKCFkYXRhKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICBpZiAoaXNCaW5hcnkoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSB7IF9wbGFjZWhvbGRlcjogdHJ1ZSwgbnVtOiBidWZmZXJzLmxlbmd0aCB9O1xuICAgICAgICBidWZmZXJzLnB1c2goZGF0YSk7XG4gICAgICAgIHJldHVybiBwbGFjZWhvbGRlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0gbmV3IEFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuZXdEYXRhW2ldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFbaV0sIGJ1ZmZlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiAhKGRhdGEgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0RhdGFba2V5XSA9IF9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2tleV0sIGJ1ZmZlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogUmVjb25zdHJ1Y3RzIGEgYmluYXJ5IHBhY2tldCBmcm9tIGl0cyBwbGFjZWhvbGRlciBwYWNrZXQgYW5kIGJ1ZmZlcnNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gZXZlbnQgcGFja2V0IHdpdGggcGxhY2Vob2xkZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBidWZmZXJzIC0gYmluYXJ5IGJ1ZmZlcnMgdG8gcHV0IGluIHBsYWNlaG9sZGVyIHBvc2l0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSByZWNvbnN0cnVjdGVkIHBhY2tldFxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjb25zdHJ1Y3RQYWNrZXQocGFja2V0LCBidWZmZXJzKSB7XG4gICAgcGFja2V0LmRhdGEgPSBfcmVjb25zdHJ1Y3RQYWNrZXQocGFja2V0LmRhdGEsIGJ1ZmZlcnMpO1xuICAgIHBhY2tldC5hdHRhY2htZW50cyA9IHVuZGVmaW5lZDsgLy8gbm8gbG9uZ2VyIHVzZWZ1bFxuICAgIHJldHVybiBwYWNrZXQ7XG59XG5mdW5jdGlvbiBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YSwgYnVmZmVycykge1xuICAgIGlmICghZGF0YSlcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgaWYgKGRhdGEgJiYgZGF0YS5fcGxhY2Vob2xkZXIgPT09IHRydWUpIHtcbiAgICAgICAgY29uc3QgaXNJbmRleFZhbGlkID0gdHlwZW9mIGRhdGEubnVtID09PSBcIm51bWJlclwiICYmXG4gICAgICAgICAgICBkYXRhLm51bSA+PSAwICYmXG4gICAgICAgICAgICBkYXRhLm51bSA8IGJ1ZmZlcnMubGVuZ3RoO1xuICAgICAgICBpZiAoaXNJbmRleFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyc1tkYXRhLm51bV07IC8vIGFwcHJvcHJpYXRlIGJ1ZmZlciAoc2hvdWxkIGJlIG5hdHVyYWwgb3JkZXIgYW55d2F5KVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBhdHRhY2htZW50c1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YVtpXSA9IF9yZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldLCBidWZmZXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtrZXldLCBidWZmZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbiIsImltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuaW1wb3J0IHsgZGVjb25zdHJ1Y3RQYWNrZXQsIHJlY29uc3RydWN0UGFja2V0IH0gZnJvbSBcIi4vYmluYXJ5LmpzXCI7XG5pbXBvcnQgeyBpc0JpbmFyeSwgaGFzQmluYXJ5IH0gZnJvbSBcIi4vaXMtYmluYXJ5LmpzXCI7XG4vKipcbiAqIFByb3RvY29sIHZlcnNpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgcHJvdG9jb2wgPSA1O1xuZXhwb3J0IHZhciBQYWNrZXRUeXBlO1xuKGZ1bmN0aW9uIChQYWNrZXRUeXBlKSB7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQ09OTkVDVFwiXSA9IDBdID0gXCJDT05ORUNUXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiRElTQ09OTkVDVFwiXSA9IDFdID0gXCJESVNDT05ORUNUXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiRVZFTlRcIl0gPSAyXSA9IFwiRVZFTlRcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJBQ0tcIl0gPSAzXSA9IFwiQUNLXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQ09OTkVDVF9FUlJPUlwiXSA9IDRdID0gXCJDT05ORUNUX0VSUk9SXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQklOQVJZX0VWRU5UXCJdID0gNV0gPSBcIkJJTkFSWV9FVkVOVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkJJTkFSWV9BQ0tcIl0gPSA2XSA9IFwiQklOQVJZX0FDS1wiO1xufSkoUGFja2V0VHlwZSB8fCAoUGFja2V0VHlwZSA9IHt9KSk7XG4vKipcbiAqIEEgc29ja2V0LmlvIEVuY29kZXIgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEVuY29kZXIge1xuICAgIC8qKlxuICAgICAqIEVuY29kZXIgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlcGxhY2VyIC0gY3VzdG9tIHJlcGxhY2VyIHRvIHBhc3MgZG93biB0byBKU09OLnBhcnNlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVwbGFjZXIpIHtcbiAgICAgICAgdGhpcy5yZXBsYWNlciA9IHJlcGxhY2VyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGUgYSBwYWNrZXQgYXMgYSBzaW5nbGUgc3RyaW5nIGlmIG5vbi1iaW5hcnksIG9yIGFzIGFcbiAgICAgKiBidWZmZXIgc2VxdWVuY2UsIGRlcGVuZGluZyBvbiBwYWNrZXQgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBwYWNrZXQgb2JqZWN0XG4gICAgICovXG4gICAgZW5jb2RlKG9iaikge1xuICAgICAgICBpZiAob2JqLnR5cGUgPT09IFBhY2tldFR5cGUuRVZFTlQgfHwgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQUNLKSB7XG4gICAgICAgICAgICBpZiAoaGFzQmluYXJ5KG9iaikpIHtcbiAgICAgICAgICAgICAgICBvYmoudHlwZSA9XG4gICAgICAgICAgICAgICAgICAgIG9iai50eXBlID09PSBQYWNrZXRUeXBlLkVWRU5UXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFBhY2tldFR5cGUuQklOQVJZX0VWRU5UXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFBhY2tldFR5cGUuQklOQVJZX0FDSztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVBc0JpbmFyeShvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdGhpcy5lbmNvZGVBc1N0cmluZyhvYmopXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlIHBhY2tldCBhcyBzdHJpbmcuXG4gICAgICovXG4gICAgZW5jb2RlQXNTdHJpbmcob2JqKSB7XG4gICAgICAgIC8vIGZpcnN0IGlzIHR5cGVcbiAgICAgICAgbGV0IHN0ciA9IFwiXCIgKyBvYmoudHlwZTtcbiAgICAgICAgLy8gYXR0YWNobWVudHMgaWYgd2UgaGF2ZSB0aGVtXG4gICAgICAgIGlmIChvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfRVZFTlQgfHxcbiAgICAgICAgICAgIG9iai50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgICAgIHN0ciArPSBvYmouYXR0YWNobWVudHMgKyBcIi1cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgbmFtZXNwYWNlIG90aGVyIHRoYW4gYC9gXG4gICAgICAgIC8vIHdlIGFwcGVuZCBpdCBmb2xsb3dlZCBieSBhIGNvbW1hIGAsYFxuICAgICAgICBpZiAob2JqLm5zcCAmJiBcIi9cIiAhPT0gb2JqLm5zcCkge1xuICAgICAgICAgICAgc3RyICs9IG9iai5uc3AgKyBcIixcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSB0aGUgaWRcbiAgICAgICAgaWYgKG51bGwgIT0gb2JqLmlkKSB7XG4gICAgICAgICAgICBzdHIgKz0gb2JqLmlkO1xuICAgICAgICB9XG4gICAgICAgIC8vIGpzb24gZGF0YVxuICAgICAgICBpZiAobnVsbCAhPSBvYmouZGF0YSkge1xuICAgICAgICAgICAgc3RyICs9IEpTT04uc3RyaW5naWZ5KG9iai5kYXRhLCB0aGlzLnJlcGxhY2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGUgcGFja2V0IGFzICdidWZmZXIgc2VxdWVuY2UnIGJ5IHJlbW92aW5nIGJsb2JzLCBhbmRcbiAgICAgKiBkZWNvbnN0cnVjdGluZyBwYWNrZXQgaW50byBvYmplY3Qgd2l0aCBwbGFjZWhvbGRlcnMgYW5kXG4gICAgICogYSBsaXN0IG9mIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgZW5jb2RlQXNCaW5hcnkob2JqKSB7XG4gICAgICAgIGNvbnN0IGRlY29uc3RydWN0aW9uID0gZGVjb25zdHJ1Y3RQYWNrZXQob2JqKTtcbiAgICAgICAgY29uc3QgcGFjayA9IHRoaXMuZW5jb2RlQXNTdHJpbmcoZGVjb25zdHJ1Y3Rpb24ucGFja2V0KTtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGRlY29uc3RydWN0aW9uLmJ1ZmZlcnM7XG4gICAgICAgIGJ1ZmZlcnMudW5zaGlmdChwYWNrKTsgLy8gYWRkIHBhY2tldCBpbmZvIHRvIGJlZ2lubmluZyBvZiBkYXRhIGxpc3RcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcnM7IC8vIHdyaXRlIGFsbCB0aGUgYnVmZmVyc1xuICAgIH1cbn1cbi8qKlxuICogQSBzb2NrZXQuaW8gRGVjb2RlciBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZGVjb2RlclxuICovXG5leHBvcnQgY2xhc3MgRGVjb2RlciBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIERlY29kZXIgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJldml2ZXIgLSBjdXN0b20gcmV2aXZlciB0byBwYXNzIGRvd24gdG8gSlNPTi5zdHJpbmdpZnlcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXZpdmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmV2aXZlciA9IHJldml2ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY29kZXMgYW4gZW5jb2RlZCBwYWNrZXQgc3RyaW5nIGludG8gcGFja2V0IEpTT04uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqIC0gZW5jb2RlZCBwYWNrZXRcbiAgICAgKi9cbiAgICBhZGQob2JqKSB7XG4gICAgICAgIGxldCBwYWNrZXQ7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ290IHBsYWludGV4dCBkYXRhIHdoZW4gcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZXQgPSB0aGlzLmRlY29kZVN0cmluZyhvYmopO1xuICAgICAgICAgICAgaWYgKHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgICAgIHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgICAgICAgICAvLyBiaW5hcnkgcGFja2V0J3MganNvblxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3RvciA9IG5ldyBCaW5hcnlSZWNvbnN0cnVjdG9yKHBhY2tldCk7XG4gICAgICAgICAgICAgICAgLy8gbm8gYXR0YWNobWVudHMsIGxhYmVsZWQgYmluYXJ5IGJ1dCBubyBiaW5hcnkgZGF0YSB0byBmb2xsb3dcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0LmF0dGFjaG1lbnRzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImRlY29kZWRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBub24tYmluYXJ5IGZ1bGwgcGFja2V0XG4gICAgICAgICAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwiZGVjb2RlZFwiLCBwYWNrZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQmluYXJ5KG9iaikgfHwgb2JqLmJhc2U2NCkge1xuICAgICAgICAgICAgLy8gcmF3IGJpbmFyeSBkYXRhXG4gICAgICAgICAgICBpZiAoIXRoaXMucmVjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImdvdCBiaW5hcnkgZGF0YSB3aGVuIG5vdCByZWNvbnN0cnVjdGluZyBhIHBhY2tldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhY2tldCA9IHRoaXMucmVjb25zdHJ1Y3Rvci50YWtlQmluYXJ5RGF0YShvYmopO1xuICAgICAgICAgICAgICAgIGlmIChwYWNrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjZWl2ZWQgZmluYWwgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3RvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImRlY29kZWRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiICsgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNvZGUgYSBwYWNrZXQgU3RyaW5nIChKU09OIGRhdGEpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBwYWNrZXRcbiAgICAgKi9cbiAgICBkZWNvZGVTdHJpbmcoc3RyKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgLy8gbG9vayB1cCB0eXBlXG4gICAgICAgIGNvbnN0IHAgPSB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIoc3RyLmNoYXJBdCgwKSksXG4gICAgICAgIH07XG4gICAgICAgIGlmIChQYWNrZXRUeXBlW3AudHlwZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBwYWNrZXQgdHlwZSBcIiArIHAudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBhdHRhY2htZW50cyBpZiB0eXBlIGJpbmFyeVxuICAgICAgICBpZiAocC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgcC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICB3aGlsZSAoc3RyLmNoYXJBdCgrK2kpICE9PSBcIi1cIiAmJiBpICE9IHN0ci5sZW5ndGgpIHsgfVxuICAgICAgICAgICAgY29uc3QgYnVmID0gc3RyLnN1YnN0cmluZyhzdGFydCwgaSk7XG4gICAgICAgICAgICBpZiAoYnVmICE9IE51bWJlcihidWYpIHx8IHN0ci5jaGFyQXQoaSkgIT09IFwiLVwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBhdHRhY2htZW50c1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAuYXR0YWNobWVudHMgPSBOdW1iZXIoYnVmKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIG5hbWVzcGFjZSAoaWYgYW55KVxuICAgICAgICBpZiAoXCIvXCIgPT09IHN0ci5jaGFyQXQoaSArIDEpKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKCsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckF0KGkpO1xuICAgICAgICAgICAgICAgIGlmIChcIixcIiA9PT0gYylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IHN0ci5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcC5uc3AgPSBzdHIuc3Vic3RyaW5nKHN0YXJ0LCBpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHAubnNwID0gXCIvXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBpZFxuICAgICAgICBjb25zdCBuZXh0ID0gc3RyLmNoYXJBdChpICsgMSk7XG4gICAgICAgIGlmIChcIlwiICE9PSBuZXh0ICYmIE51bWJlcihuZXh0KSA9PSBuZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKCsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckF0KGkpO1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09IGMgfHwgTnVtYmVyKGMpICE9IGMpIHtcbiAgICAgICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IHN0ci5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcC5pZCA9IE51bWJlcihzdHIuc3Vic3RyaW5nKHN0YXJ0LCBpICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAganNvbiBkYXRhXG4gICAgICAgIGlmIChzdHIuY2hhckF0KCsraSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLnRyeVBhcnNlKHN0ci5zdWJzdHIoaSkpO1xuICAgICAgICAgICAgaWYgKERlY29kZXIuaXNQYXlsb2FkVmFsaWQocC50eXBlLCBwYXlsb2FkKSkge1xuICAgICAgICAgICAgICAgIHAuZGF0YSA9IHBheWxvYWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBheWxvYWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICAgIHRyeVBhcnNlKHN0cikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyLCB0aGlzLnJldml2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGlzUGF5bG9hZFZhbGlkKHR5cGUsIHBheWxvYWQpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCI7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRElTQ09OTkVDVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkNPTk5FQ1RfRVJST1I6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwYXlsb2FkID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBwYXlsb2FkID09PSBcIm9iamVjdFwiO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkVWRU5UOlxuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSAmJiBwYXlsb2FkLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQUNLOlxuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0s6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVhbGxvY2F0ZXMgYSBwYXJzZXIncyByZXNvdXJjZXNcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIG1hbmFnZXIgb2YgYSBiaW5hcnkgZXZlbnQncyAnYnVmZmVyIHNlcXVlbmNlJy4gU2hvdWxkXG4gKiBiZSBjb25zdHJ1Y3RlZCB3aGVuZXZlciBhIHBhY2tldCBvZiB0eXBlIEJJTkFSWV9FVkVOVCBpc1xuICogZGVjb2RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0XG4gKiBAcmV0dXJuIHtCaW5hcnlSZWNvbnN0cnVjdG9yfSBpbml0aWFsaXplZCByZWNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIEJpbmFyeVJlY29uc3RydWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKHBhY2tldCkge1xuICAgICAgICB0aGlzLnBhY2tldCA9IHBhY2tldDtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgICAgIHRoaXMucmVjb25QYWNrID0gcGFja2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gYmUgY2FsbGVkIHdoZW4gYmluYXJ5IGRhdGEgcmVjZWl2ZWQgZnJvbSBjb25uZWN0aW9uXG4gICAgICogYWZ0ZXIgYSBCSU5BUllfRVZFTlQgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCdWZmZXIgfCBBcnJheUJ1ZmZlcn0gYmluRGF0YSAtIHRoZSByYXcgYmluYXJ5IGRhdGEgcmVjZWl2ZWRcbiAgICAgKiBAcmV0dXJuIHtudWxsIHwgT2JqZWN0fSByZXR1cm5zIG51bGwgaWYgbW9yZSBiaW5hcnkgZGF0YSBpcyBleHBlY3RlZCBvclxuICAgICAqICAgYSByZWNvbnN0cnVjdGVkIHBhY2tldCBvYmplY3QgaWYgYWxsIGJ1ZmZlcnMgaGF2ZSBiZWVuIHJlY2VpdmVkLlxuICAgICAqL1xuICAgIHRha2VCaW5hcnlEYXRhKGJpbkRhdGEpIHtcbiAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYmluRGF0YSk7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSB0aGlzLnJlY29uUGFjay5hdHRhY2htZW50cykge1xuICAgICAgICAgICAgLy8gZG9uZSB3aXRoIGJ1ZmZlciBsaXN0XG4gICAgICAgICAgICBjb25zdCBwYWNrZXQgPSByZWNvbnN0cnVjdFBhY2tldCh0aGlzLnJlY29uUGFjaywgdGhpcy5idWZmZXJzKTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHBhY2tldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGJpbmFyeSBwYWNrZXQgcmVjb25zdHJ1Y3Rpb24gdmFyaWFibGVzLlxuICAgICAqL1xuICAgIGZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVjb25QYWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIG9uKG9iaiwgZXYsIGZuKSB7XG4gICAgb2JqLm9uKGV2LCBmbik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHN1YkRlc3Ryb3koKSB7XG4gICAgICAgIG9iai5vZmYoZXYsIGZuKTtcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgUGFja2V0VHlwZSB9IGZyb20gXCJzb2NrZXQuaW8tcGFyc2VyXCI7XG5pbXBvcnQgeyBvbiB9IGZyb20gXCIuL29uLmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyLCB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG4vKipcbiAqIEludGVybmFsIGV2ZW50cy5cbiAqIFRoZXNlIGV2ZW50cyBjYW4ndCBiZSBlbWl0dGVkIGJ5IHRoZSB1c2VyLlxuICovXG5jb25zdCBSRVNFUlZFRF9FVkVOVFMgPSBPYmplY3QuZnJlZXplKHtcbiAgICBjb25uZWN0OiAxLFxuICAgIGNvbm5lY3RfZXJyb3I6IDEsXG4gICAgZGlzY29ubmVjdDogMSxcbiAgICBkaXNjb25uZWN0aW5nOiAxLFxuICAgIC8vIEV2ZW50RW1pdHRlciByZXNlcnZlZCBldmVudHM6IGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvZXZlbnRzLmh0bWwjZXZlbnRzX2V2ZW50X25ld2xpc3RlbmVyXG4gICAgbmV3TGlzdGVuZXI6IDEsXG4gICAgcmVtb3ZlTGlzdGVuZXI6IDEsXG59KTtcbi8qKlxuICogQSBTb2NrZXQgaXMgdGhlIGZ1bmRhbWVudGFsIGNsYXNzIGZvciBpbnRlcmFjdGluZyB3aXRoIHRoZSBzZXJ2ZXIuXG4gKlxuICogQSBTb2NrZXQgYmVsb25ncyB0byBhIGNlcnRhaW4gTmFtZXNwYWNlIChieSBkZWZhdWx0IC8pIGFuZCB1c2VzIGFuIHVuZGVybHlpbmcge0BsaW5rIE1hbmFnZXJ9IHRvIGNvbW11bmljYXRlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICpcbiAqIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICogICBjb25zb2xlLmxvZyhcImNvbm5lY3RlZFwiKTtcbiAqIH0pO1xuICpcbiAqIC8vIHNlbmQgYW4gZXZlbnQgdG8gdGhlIHNlcnZlclxuICogc29ja2V0LmVtaXQoXCJmb29cIiwgXCJiYXJcIik7XG4gKlxuICogc29ja2V0Lm9uKFwiZm9vYmFyXCIsICgpID0+IHtcbiAqICAgLy8gYW4gZXZlbnQgd2FzIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlclxuICogfSk7XG4gKlxuICogLy8gdXBvbiBkaXNjb25uZWN0aW9uXG4gKiBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsIChyZWFzb24pID0+IHtcbiAqICAgY29uc29sZS5sb2coYGRpc2Nvbm5lY3RlZCBkdWUgdG8gJHtyZWFzb259YCk7XG4gKiB9KTtcbiAqL1xuZXhwb3J0IGNsYXNzIFNvY2tldCBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIGBTb2NrZXRgIGNvbnN0cnVjdG9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlvLCBuc3AsIG9wdHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHNvY2tldCBpcyBjdXJyZW50bHkgY29ubmVjdGVkIHRvIHRoZSBzZXJ2ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5jb25uZWN0ZWQpOyAvLyB0cnVlXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKlxuICAgICAgICAgKiBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcbiAgICAgICAgICogICBjb25zb2xlLmxvZyhzb2NrZXQuY29ubmVjdGVkKTsgLy8gZmFsc2VcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIGZvciBwYWNrZXRzIHJlY2VpdmVkIGJlZm9yZSB0aGUgQ09OTkVDVCBwYWNrZXRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIGZvciBwYWNrZXRzIHRoYXQgd2lsbCBiZSBzZW50IG9uY2UgdGhlIHNvY2tldCBpcyBjb25uZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VuZEJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLmlkcyA9IDA7XG4gICAgICAgIHRoaXMuYWNrcyA9IHt9O1xuICAgICAgICB0aGlzLmZsYWdzID0ge307XG4gICAgICAgIHRoaXMuaW8gPSBpbztcbiAgICAgICAgdGhpcy5uc3AgPSBuc3A7XG4gICAgICAgIGlmIChvcHRzICYmIG9wdHMuYXV0aCkge1xuICAgICAgICAgICAgdGhpcy5hdXRoID0gb3B0cy5hdXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlvLl9hdXRvQ29ubmVjdClcbiAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzb2NrZXQgaXMgY3VycmVudGx5IGRpc2Nvbm5lY3RlZFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgICAqXG4gICAgICogc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhzb2NrZXQuZGlzY29ubmVjdGVkKTsgLy8gZmFsc2VcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmRpc2Nvbm5lY3RlZCk7IC8vIHRydWVcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBnZXQgZGlzY29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuY29ubmVjdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdG8gb3BlbiwgY2xvc2UgYW5kIHBhY2tldCBldmVudHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3ViRXZlbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpbyA9IHRoaXMuaW87XG4gICAgICAgIHRoaXMuc3VicyA9IFtcbiAgICAgICAgICAgIG9uKGlvLCBcIm9wZW5cIiwgdGhpcy5vbm9wZW4uYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbihpbywgXCJwYWNrZXRcIiwgdGhpcy5vbnBhY2tldC5iaW5kKHRoaXMpKSxcbiAgICAgICAgICAgIG9uKGlvLCBcImVycm9yXCIsIHRoaXMub25lcnJvci5iaW5kKHRoaXMpKSxcbiAgICAgICAgICAgIG9uKGlvLCBcImNsb3NlXCIsIHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgU29ja2V0IHdpbGwgdHJ5IHRvIHJlY29ubmVjdCB3aGVuIGl0cyBNYW5hZ2VyIGNvbm5lY3RzIG9yIHJlY29ubmVjdHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhzb2NrZXQuYWN0aXZlKTsgLy8gdHJ1ZVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAocmVhc29uKSA9PiB7XG4gICAgICogICBpZiAocmVhc29uID09PSBcImlvIHNlcnZlciBkaXNjb25uZWN0XCIpIHtcbiAgICAgKiAgICAgLy8gdGhlIGRpc2Nvbm5lY3Rpb24gd2FzIGluaXRpYXRlZCBieSB0aGUgc2VydmVyLCB5b3UgbmVlZCB0byBtYW51YWxseSByZWNvbm5lY3RcbiAgICAgKiAgICAgY29uc29sZS5sb2coc29ja2V0LmFjdGl2ZSk7IC8vIGZhbHNlXG4gICAgICogICB9XG4gICAgICogICAvLyBlbHNlIHRoZSBzb2NrZXQgd2lsbCBhdXRvbWF0aWNhbGx5IHRyeSB0byByZWNvbm5lY3RcbiAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5hY3RpdmUpOyAvLyB0cnVlXG4gICAgICogfSk7XG4gICAgICovXG4gICAgZ2V0IGFjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zdWJzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBcIk9wZW5zXCIgdGhlIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oe1xuICAgICAqICAgYXV0b0Nvbm5lY3Q6IGZhbHNlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQuY29ubmVjdCgpO1xuICAgICAqL1xuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLnN1YkV2ZW50cygpO1xuICAgICAgICBpZiAoIXRoaXMuaW9bXCJfcmVjb25uZWN0aW5nXCJdKVxuICAgICAgICAgICAgdGhpcy5pby5vcGVuKCk7IC8vIGVuc3VyZSBvcGVuXG4gICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5pby5fcmVhZHlTdGF0ZSlcbiAgICAgICAgICAgIHRoaXMub25vcGVuKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIGNvbm5lY3QoKX0uXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIGBtZXNzYWdlYCBldmVudC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1pbWljcyB0aGUgV2ViU29ja2V0LnNlbmQoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJTb2NrZXQvc2VuZFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQuc2VuZChcImhlbGxvXCIpO1xuICAgICAqXG4gICAgICogLy8gdGhpcyBpcyBlcXVpdmFsZW50IHRvXG4gICAgICogc29ja2V0LmVtaXQoXCJtZXNzYWdlXCIsIFwiaGVsbG9cIik7XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBzZW5kKC4uLmFyZ3MpIHtcbiAgICAgICAgYXJncy51bnNoaWZ0KFwibWVzc2FnZVwiKTtcbiAgICAgICAgdGhpcy5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgYGVtaXRgLlxuICAgICAqIElmIHRoZSBldmVudCBpcyBpbiBgZXZlbnRzYCwgaXQncyBlbWl0dGVkIG5vcm1hbGx5LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQuZW1pdChcImhlbGxvXCIsIFwid29ybGRcIik7XG4gICAgICpcbiAgICAgKiAvLyBhbGwgc2VyaWFsaXphYmxlIGRhdGFzdHJ1Y3R1cmVzIGFyZSBzdXBwb3J0ZWQgKG5vIG5lZWQgdG8gY2FsbCBKU09OLnN0cmluZ2lmeSlcbiAgICAgKiBzb2NrZXQuZW1pdChcImhlbGxvXCIsIDEsIFwiMlwiLCB7IDM6IFtcIjRcIl0sIDU6IFVpbnQ4QXJyYXkuZnJvbShbNl0pIH0pO1xuICAgICAqXG4gICAgICogLy8gd2l0aCBhbiBhY2tub3dsZWRnZW1lbnQgZnJvbSB0aGUgc2VydmVyXG4gICAgICogc29ja2V0LmVtaXQoXCJoZWxsb1wiLCBcIndvcmxkXCIsICh2YWwpID0+IHtcbiAgICAgKiAgIC8vIC4uLlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgZW1pdChldiwgLi4uYXJncykge1xuICAgICAgICBpZiAoUkVTRVJWRURfRVZFTlRTLmhhc093blByb3BlcnR5KGV2KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBldi50b1N0cmluZygpICsgJ1wiIGlzIGEgcmVzZXJ2ZWQgZXZlbnQgbmFtZScpO1xuICAgICAgICB9XG4gICAgICAgIGFyZ3MudW5zaGlmdChldik7XG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHtcbiAgICAgICAgICAgIHR5cGU6IFBhY2tldFR5cGUuRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICB9O1xuICAgICAgICBwYWNrZXQub3B0aW9ucyA9IHt9O1xuICAgICAgICBwYWNrZXQub3B0aW9ucy5jb21wcmVzcyA9IHRoaXMuZmxhZ3MuY29tcHJlc3MgIT09IGZhbHNlO1xuICAgICAgICAvLyBldmVudCBhY2sgY2FsbGJhY2tcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkcysrO1xuICAgICAgICAgICAgY29uc3QgYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyQWNrQ2FsbGJhY2soaWQsIGFjayk7XG4gICAgICAgICAgICBwYWNrZXQuaWQgPSBpZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1RyYW5zcG9ydFdyaXRhYmxlID0gdGhpcy5pby5lbmdpbmUgJiZcbiAgICAgICAgICAgIHRoaXMuaW8uZW5naW5lLnRyYW5zcG9ydCAmJlxuICAgICAgICAgICAgdGhpcy5pby5lbmdpbmUudHJhbnNwb3J0LndyaXRhYmxlO1xuICAgICAgICBjb25zdCBkaXNjYXJkUGFja2V0ID0gdGhpcy5mbGFncy52b2xhdGlsZSAmJiAoIWlzVHJhbnNwb3J0V3JpdGFibGUgfHwgIXRoaXMuY29ubmVjdGVkKTtcbiAgICAgICAgaWYgKGRpc2NhcmRQYWNrZXQpIHtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyhwYWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGFncyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVnaXN0ZXJBY2tDYWxsYmFjayhpZCwgYWNrKSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSB0aGlzLmZsYWdzLnRpbWVvdXQ7XG4gICAgICAgIGlmICh0aW1lb3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWNrc1tpZF0gPSBhY2s7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB0aW1lciA9IHRoaXMuaW8uc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFja3NbaWRdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlbmRCdWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZW5kQnVmZmVyW2ldLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRCdWZmZXIuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjay5jYWxsKHRoaXMsIG5ldyBFcnJvcihcIm9wZXJhdGlvbiBoYXMgdGltZWQgb3V0XCIpKTtcbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIHRoaXMuYWNrc1tpZF0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpcy5pby5jbGVhclRpbWVvdXRGbih0aW1lcik7XG4gICAgICAgICAgICBhY2suYXBwbHkodGhpcywgW251bGwsIC4uLmFyZ3NdKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwYWNrZXQocGFja2V0KSB7XG4gICAgICAgIHBhY2tldC5uc3AgPSB0aGlzLm5zcDtcbiAgICAgICAgdGhpcy5pby5fcGFja2V0KHBhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBgb3BlbmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ub3BlbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmF1dGggPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGgoKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhY2tldCh7IHR5cGU6IFBhY2tldFR5cGUuQ09OTkVDVCwgZGF0YSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQoeyB0eXBlOiBQYWNrZXRUeXBlLkNPTk5FQ1QsIGRhdGE6IHRoaXMuYXV0aCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgb3IgbWFuYWdlciBgZXJyb3JgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVyclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25lcnJvcihlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsIGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZW5naW5lIGBjbG9zZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVhc29uXG4gICAgICogQHBhcmFtIGRlc2NyaXB0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmNsb3NlKHJlYXNvbiwgZGVzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgZGVsZXRlIHRoaXMuaWQ7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGlzY29ubmVjdFwiLCByZWFzb24sIGRlc2NyaXB0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggc29ja2V0IHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ucGFja2V0KHBhY2tldCkge1xuICAgICAgICBjb25zdCBzYW1lTmFtZXNwYWNlID0gcGFja2V0Lm5zcCA9PT0gdGhpcy5uc3A7XG4gICAgICAgIGlmICghc2FtZU5hbWVzcGFjZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc3dpdGNoIChwYWNrZXQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkNPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC5kYXRhICYmIHBhY2tldC5kYXRhLnNpZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHBhY2tldC5kYXRhLnNpZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmNvbm5lY3QoaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsIG5ldyBFcnJvcihcIkl0IHNlZW1zIHlvdSBhcmUgdHJ5aW5nIHRvIHJlYWNoIGEgU29ja2V0LklPIHNlcnZlciBpbiB2Mi54IHdpdGggYSB2My54IGNsaWVudCwgYnV0IHRoZXkgYXJlIG5vdCBjb21wYXRpYmxlIChtb3JlIGluZm9ybWF0aW9uIGhlcmU6IGh0dHBzOi8vc29ja2V0LmlvL2RvY3MvdjMvbWlncmF0aW5nLWZyb20tMi14LXRvLTMtMC8pXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRVZFTlQ6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0VWRU5UOlxuICAgICAgICAgICAgICAgIHRoaXMub25ldmVudChwYWNrZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkFDSzpcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5CSU5BUllfQUNLOlxuICAgICAgICAgICAgICAgIHRoaXMub25hY2socGFja2V0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5ESVNDT05ORUNUOlxuICAgICAgICAgICAgICAgIHRoaXMub25kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVF9FUlJPUjpcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IocGFja2V0LmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGVyci5kYXRhID0gcGFja2V0LmRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNlcnZlciBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZXZlbnQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBwYWNrZXQuZGF0YSB8fCBbXTtcbiAgICAgICAgaWYgKG51bGwgIT0gcGFja2V0LmlkKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2godGhpcy5hY2socGFja2V0LmlkKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRFdmVudChhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5wdXNoKE9iamVjdC5mcmVlemUoYXJncykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVtaXRFdmVudChhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLl9hbnlMaXN0ZW5lcnMgJiYgdGhpcy5fYW55TGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmVtaXQuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGFuIGFjayBjYWxsYmFjayB0byBlbWl0IHdpdGggYW4gZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFjayhpZCkge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgbGV0IHNlbnQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAvLyBwcmV2ZW50IGRvdWJsZSBjYWxsYmFja3NcbiAgICAgICAgICAgIGlmIChzZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5wYWNrZXQoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFBhY2tldFR5cGUuQUNLLFxuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGEgc2VydmVyIGFja25vd2xlZ2VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25hY2socGFja2V0KSB7XG4gICAgICAgIGNvbnN0IGFjayA9IHRoaXMuYWNrc1twYWNrZXQuaWRdO1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYWNrKSB7XG4gICAgICAgICAgICBhY2suYXBwbHkodGhpcywgcGFja2V0LmRhdGEpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWNrc1twYWNrZXQuaWRdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNlcnZlciBjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmNvbm5lY3QoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdEJ1ZmZlcmVkKCk7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdCBidWZmZXJlZCBldmVudHMgKHJlY2VpdmVkIGFuZCBlbWl0dGVkKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZW1pdEJ1ZmZlcmVkKCkge1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIuZm9yRWFjaCgoYXJncykgPT4gdGhpcy5lbWl0RXZlbnQoYXJncykpO1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyLmZvckVhY2goKHBhY2tldCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyhwYWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZEJ1ZmZlciA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzZXJ2ZXIgZGlzY29ubmVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25kaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5vbmNsb3NlKFwiaW8gc2VydmVyIGRpc2Nvbm5lY3RcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGZvcmNlZCBjbGllbnQvc2VydmVyIHNpZGUgZGlzY29ubmVjdGlvbnMsXG4gICAgICogdGhpcyBtZXRob2QgZW5zdXJlcyB0aGUgbWFuYWdlciBzdG9wcyB0cmFja2luZyB1cyBhbmRcbiAgICAgKiB0aGF0IHJlY29ubmVjdGlvbnMgZG9uJ3QgZ2V0IHRyaWdnZXJlZCBmb3IgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vicykge1xuICAgICAgICAgICAgLy8gY2xlYW4gc3Vic2NyaXB0aW9ucyB0byBhdm9pZCByZWNvbm5lY3Rpb25zXG4gICAgICAgICAgICB0aGlzLnN1YnMuZm9yRWFjaCgoc3ViRGVzdHJveSkgPT4gc3ViRGVzdHJveSgpKTtcbiAgICAgICAgICAgIHRoaXMuc3VicyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlvW1wiX2Rlc3Ryb3lcIl0odGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSBzb2NrZXQgbWFudWFsbHkuIEluIHRoYXQgY2FzZSwgdGhlIHNvY2tldCB3aWxsIG5vdCB0cnkgdG8gcmVjb25uZWN0LlxuICAgICAqXG4gICAgICogSWYgdGhpcyBpcyB0aGUgbGFzdCBhY3RpdmUgU29ja2V0IGluc3RhbmNlIG9mIHRoZSB7QGxpbmsgTWFuYWdlcn0sIHRoZSBsb3ctbGV2ZWwgY29ubmVjdGlvbiB3aWxsIGJlIGNsb3NlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICAgICAqICAgLy8gY29uc29sZS5sb2cocmVhc29uKTsgcHJpbnRzIFwiaW8gY2xpZW50IGRpc2Nvbm5lY3RcIlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc29ja2V0LmRpc2Nvbm5lY3QoKTtcbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQoeyB0eXBlOiBQYWNrZXRUeXBlLkRJU0NPTk5FQ1QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHNvY2tldCBmcm9tIHBvb2xcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgLy8gZmlyZSBldmVudHNcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcImlvIGNsaWVudCBkaXNjb25uZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIGRpc2Nvbm5lY3QoKX0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb21wcmVzcyBmbGFnLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQuY29tcHJlc3MoZmFsc2UpLmVtaXQoXCJoZWxsb1wiKTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb21wcmVzcyAtIGlmIGB0cnVlYCwgY29tcHJlc3NlcyB0aGUgc2VuZGluZyBkYXRhXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgY29tcHJlc3MoY29tcHJlc3MpIHtcbiAgICAgICAgdGhpcy5mbGFncy5jb21wcmVzcyA9IGNvbXByZXNzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1vZGlmaWVyIGZvciBhIHN1YnNlcXVlbnQgZXZlbnQgZW1pc3Npb24gdGhhdCB0aGUgZXZlbnQgbWVzc2FnZSB3aWxsIGJlIGRyb3BwZWQgd2hlbiB0aGlzIHNvY2tldCBpcyBub3RcbiAgICAgKiByZWFkeSB0byBzZW5kIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQudm9sYXRpbGUuZW1pdChcImhlbGxvXCIpOyAvLyB0aGUgc2VydmVyIG1heSBvciBtYXkgbm90IHJlY2VpdmUgaXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKi9cbiAgICBnZXQgdm9sYXRpbGUoKSB7XG4gICAgICAgIHRoaXMuZmxhZ3Mudm9sYXRpbGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1vZGlmaWVyIGZvciBhIHN1YnNlcXVlbnQgZXZlbnQgZW1pc3Npb24gdGhhdCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBlcnJvciB3aGVuIHRoZVxuICAgICAqIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHdpdGhvdXQgYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlcjpcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LnRpbWVvdXQoNTAwMCkuZW1pdChcIm15LWV2ZW50XCIsIChlcnIpID0+IHtcbiAgICAgKiAgIGlmIChlcnIpIHtcbiAgICAgKiAgICAgLy8gdGhlIHNlcnZlciBkaWQgbm90IGFja25vd2xlZGdlIHRoZSBldmVudCBpbiB0aGUgZ2l2ZW4gZGVsYXlcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKi9cbiAgICB0aW1lb3V0KHRpbWVvdXQpIHtcbiAgICAgICAgdGhpcy5mbGFncy50aW1lb3V0ID0gdGltZW91dDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0Lm9uQW55KChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYGdvdCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgb25BbnkobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5wcmVwZW5kQW55KChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYGdvdCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgcHJlcGVuZEFueShsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYXRjaEFsbExpc3RlbmVyID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgZ290IGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uQW55KGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gcmVtb3ZlIGEgc3BlY2lmaWMgbGlzdGVuZXJcbiAgICAgKiBzb2NrZXQub2ZmQW55KGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gb3IgcmVtb3ZlIGFsbCBsaXN0ZW5lcnNcbiAgICAgKiBzb2NrZXQub2ZmQW55KCk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBvZmZBbnkobGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hbnlMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdGhhdCBhcmUgbGlzdGVuaW5nIGZvciBhbnkgZXZlbnQgdGhhdCBpcyBzcGVjaWZpZWQuIFRoaXMgYXJyYXkgY2FuIGJlIG1hbmlwdWxhdGVkLFxuICAgICAqIGUuZy4gdG8gcmVtb3ZlIGxpc3RlbmVycy5cbiAgICAgKi9cbiAgICBsaXN0ZW5lcnNBbnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIE5vdGU6IGFja25vd2xlZGdlbWVudHMgc2VudCB0byB0aGUgc2VydmVyIGFyZSBub3QgaW5jbHVkZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5vbkFueU91dGdvaW5nKChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYHNlbnQgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIG9uQW55T3V0Z29pbmcobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgPSB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyB8fCBbXTtcbiAgICAgICAgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBOb3RlOiBhY2tub3dsZWRnZW1lbnRzIHNlbnQgdG8gdGhlIHNlcnZlciBhcmUgbm90IGluY2x1ZGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQucHJlcGVuZEFueU91dGdvaW5nKChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYHNlbnQgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIHByZXBlbmRBbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYXRjaEFsbExpc3RlbmVyID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc2VudCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHNvY2tldC5vbkFueU91dGdvaW5nKGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gcmVtb3ZlIGEgc3BlY2lmaWMgbGlzdGVuZXJcbiAgICAgKiBzb2NrZXQub2ZmQW55T3V0Z29pbmcoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyBvciByZW1vdmUgYWxsIGxpc3RlbmVyc1xuICAgICAqIHNvY2tldC5vZmZBbnlPdXRnb2luZygpO1xuICAgICAqXG4gICAgICogQHBhcmFtIFtsaXN0ZW5lcl0gLSB0aGUgY2F0Y2gtYWxsIGxpc3RlbmVyIChvcHRpb25hbClcbiAgICAgKi9cbiAgICBvZmZBbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0aGF0IGFyZSBsaXN0ZW5pbmcgZm9yIGFueSBldmVudCB0aGF0IGlzIHNwZWNpZmllZC4gVGhpcyBhcnJheSBjYW4gYmUgbWFuaXB1bGF0ZWQsXG4gICAgICogZS5nLiB0byByZW1vdmUgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGxpc3RlbmVyc0FueU91dGdvaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmeSB0aGUgbGlzdGVuZXJzIGZvciBlYWNoIHBhY2tldCBzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHBhY2tldCkge1xuICAgICAgICBpZiAodGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgJiYgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIEluaXRpYWxpemUgYmFja29mZiB0aW1lciB3aXRoIGBvcHRzYC5cbiAqXG4gKiAtIGBtaW5gIGluaXRpYWwgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgWzEwMF1cbiAqIC0gYG1heGAgbWF4IHRpbWVvdXQgWzEwMDAwXVxuICogLSBgaml0dGVyYCBbMF1cbiAqIC0gYGZhY3RvcmAgWzJdXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCYWNrb2ZmKG9wdHMpIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICB0aGlzLm1zID0gb3B0cy5taW4gfHwgMTAwO1xuICAgIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMTAwMDA7XG4gICAgdGhpcy5mYWN0b3IgPSBvcHRzLmZhY3RvciB8fCAyO1xuICAgIHRoaXMuaml0dGVyID0gb3B0cy5qaXR0ZXIgPiAwICYmIG9wdHMuaml0dGVyIDw9IDEgPyBvcHRzLmppdHRlciA6IDA7XG4gICAgdGhpcy5hdHRlbXB0cyA9IDA7XG59XG4vKipcbiAqIFJldHVybiB0aGUgYmFja29mZiBkdXJhdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbXMgPSB0aGlzLm1zICogTWF0aC5wb3codGhpcy5mYWN0b3IsIHRoaXMuYXR0ZW1wdHMrKyk7XG4gICAgaWYgKHRoaXMuaml0dGVyKSB7XG4gICAgICAgIHZhciByYW5kID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgdmFyIGRldmlhdGlvbiA9IE1hdGguZmxvb3IocmFuZCAqIHRoaXMuaml0dGVyICogbXMpO1xuICAgICAgICBtcyA9IChNYXRoLmZsb29yKHJhbmQgKiAxMCkgJiAxKSA9PSAwID8gbXMgLSBkZXZpYXRpb24gOiBtcyArIGRldmlhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKG1zLCB0aGlzLm1heCkgfCAwO1xufTtcbi8qKlxuICogUmVzZXQgdGhlIG51bWJlciBvZiBhdHRlbXB0cy5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmF0dGVtcHRzID0gMDtcbn07XG4vKipcbiAqIFNldCB0aGUgbWluaW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLnNldE1pbiA9IGZ1bmN0aW9uIChtaW4pIHtcbiAgICB0aGlzLm1zID0gbWluO1xufTtcbi8qKlxuICogU2V0IHRoZSBtYXhpbXVtIGR1cmF0aW9uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQmFja29mZi5wcm90b3R5cGUuc2V0TWF4ID0gZnVuY3Rpb24gKG1heCkge1xuICAgIHRoaXMubWF4ID0gbWF4O1xufTtcbi8qKlxuICogU2V0IHRoZSBqaXR0ZXJcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRKaXR0ZXIgPSBmdW5jdGlvbiAoaml0dGVyKSB7XG4gICAgdGhpcy5qaXR0ZXIgPSBqaXR0ZXI7XG59O1xuIiwiaW1wb3J0IHsgU29ja2V0IGFzIEVuZ2luZSwgaW5zdGFsbFRpbWVyRnVuY3Rpb25zLCBuZXh0VGljaywgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcIi4vc29ja2V0LmpzXCI7XG5pbXBvcnQgKiBhcyBwYXJzZXIgZnJvbSBcInNvY2tldC5pby1wYXJzZXJcIjtcbmltcG9ydCB7IG9uIH0gZnJvbSBcIi4vb24uanNcIjtcbmltcG9ydCB7IEJhY2tvZmYgfSBmcm9tIFwiLi9jb250cmliL2JhY2tvMi5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciwgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuZXhwb3J0IGNsYXNzIE1hbmFnZXIgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5zcHMgPSB7fTtcbiAgICAgICAgdGhpcy5zdWJzID0gW107XG4gICAgICAgIGlmICh1cmkgJiYgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHVyaSkge1xuICAgICAgICAgICAgb3B0cyA9IHVyaTtcbiAgICAgICAgICAgIHVyaSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICAgICAgb3B0cy5wYXRoID0gb3B0cy5wYXRoIHx8IFwiL3NvY2tldC5pb1wiO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uKG9wdHMucmVjb25uZWN0aW9uICE9PSBmYWxzZSk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMob3B0cy5yZWNvbm5lY3Rpb25BdHRlbXB0cyB8fCBJbmZpbml0eSk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uRGVsYXkob3B0cy5yZWNvbm5lY3Rpb25EZWxheSB8fCAxMDAwKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heChvcHRzLnJlY29ubmVjdGlvbkRlbGF5TWF4IHx8IDUwMDApO1xuICAgICAgICB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKF9hID0gb3B0cy5yYW5kb21pemF0aW9uRmFjdG9yKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwLjUpO1xuICAgICAgICB0aGlzLmJhY2tvZmYgPSBuZXcgQmFja29mZih7XG4gICAgICAgICAgICBtaW46IHRoaXMucmVjb25uZWN0aW9uRGVsYXkoKSxcbiAgICAgICAgICAgIG1heDogdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heCgpLFxuICAgICAgICAgICAgaml0dGVyOiB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGltZW91dChudWxsID09IG9wdHMudGltZW91dCA/IDIwMDAwIDogb3B0cy50aW1lb3V0KTtcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIHRoaXMudXJpID0gdXJpO1xuICAgICAgICBjb25zdCBfcGFyc2VyID0gb3B0cy5wYXJzZXIgfHwgcGFyc2VyO1xuICAgICAgICB0aGlzLmVuY29kZXIgPSBuZXcgX3BhcnNlci5FbmNvZGVyKCk7XG4gICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBfcGFyc2VyLkRlY29kZXIoKTtcbiAgICAgICAgdGhpcy5fYXV0b0Nvbm5lY3QgPSBvcHRzLmF1dG9Db25uZWN0ICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9Db25uZWN0KVxuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbih2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbiA9ICEhdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbkF0dGVtcHRzKHYpIHtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMgPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXkodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWluKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmFuZG9taXphdGlvbkZhY3Rvcih2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yO1xuICAgICAgICB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Sml0dGVyKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXlNYXgodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWF4KHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdGltZW91dCh2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0cnlpbmcgdG8gcmVjb25uZWN0IGlmIHJlY29ubmVjdGlvbiBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIG5vdFxuICAgICAqIHN0YXJ0ZWQgcmVjb25uZWN0aW5nIHlldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBtYXliZVJlY29ubmVjdE9uT3BlbigpIHtcbiAgICAgICAgLy8gT25seSB0cnkgdG8gcmVjb25uZWN0IGlmIGl0J3MgdGhlIGZpcnN0IHRpbWUgd2UncmUgY29ubmVjdGluZ1xuICAgICAgICBpZiAoIXRoaXMuX3JlY29ubmVjdGluZyAmJlxuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uICYmXG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGtlZXBzIHJlY29ubmVjdGlvbiBmcm9tIGZpcmluZyB0d2ljZSBmb3IgdGhlIHNhbWUgcmVjb25uZWN0aW9uIGxvb3BcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQgYHNvY2tldGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIG9wdGlvbmFsLCBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBvcGVuKGZuKSB7XG4gICAgICAgIGlmICh+dGhpcy5fcmVhZHlTdGF0ZS5pbmRleE9mKFwib3BlblwiKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLmVuZ2luZSA9IG5ldyBFbmdpbmUodGhpcy51cmksIHRoaXMub3B0cyk7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgLy8gZW1pdCBgb3BlbmBcbiAgICAgICAgY29uc3Qgb3BlblN1YkRlc3Ryb3kgPSBvbihzb2NrZXQsIFwib3BlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLm9ub3BlbigpO1xuICAgICAgICAgICAgZm4gJiYgZm4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGVtaXQgYGVycm9yYFxuICAgICAgICBjb25zdCBlcnJvclN1YiA9IG9uKHNvY2tldCwgXCJlcnJvclwiLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmNsZWFudXAoKTtcbiAgICAgICAgICAgIHNlbGYuX3JlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgZG8gdGhpcyBpZiB0aGVyZSBpcyBubyBmbiB0byBoYW5kbGUgdGhlIGVycm9yXG4gICAgICAgICAgICAgICAgc2VsZi5tYXliZVJlY29ubmVjdE9uT3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZhbHNlICE9PSB0aGlzLl90aW1lb3V0KSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gdGhpcy5fdGltZW91dDtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgb3BlblN1YkRlc3Ryb3koKTsgLy8gcHJldmVudHMgYSByYWNlIGNvbmRpdGlvbiB3aXRoIHRoZSAnb3BlbicgZXZlbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNldCB0aW1lclxuICAgICAgICAgICAgY29uc3QgdGltZXIgPSB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgb3BlblN1YkRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoXCJlcnJvclwiLCBuZXcgRXJyb3IoXCJ0aW1lb3V0XCIpKTtcbiAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aW1lci51bnJlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdWJzLnB1c2goZnVuY3Rpb24gc3ViRGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzLnB1c2gob3BlblN1YkRlc3Ryb3kpO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChlcnJvclN1Yik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Igb3BlbigpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgY29ubmVjdChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IG9wZW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ub3BlbigpIHtcbiAgICAgICAgLy8gY2xlYXIgb2xkIHN1YnNcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIC8vIG1hcmsgYXMgb3BlblxuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICAgICAgLy8gYWRkIG5ldyBzdWJzXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsIFwicGluZ1wiLCB0aGlzLm9ucGluZy5iaW5kKHRoaXMpKSwgb24oc29ja2V0LCBcImRhdGFcIiwgdGhpcy5vbmRhdGEuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJjbG9zZVwiLCB0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksIG9uKHRoaXMuZGVjb2RlciwgXCJkZWNvZGVkXCIsIHRoaXMub25kZWNvZGVkLmJpbmQodGhpcykpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBwaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnBpbmcoKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGluZ1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25kYXRhKGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5hZGQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcInBhcnNlIGVycm9yXCIsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHBhcnNlciBmdWxseSBkZWNvZGVzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRlY29kZWQocGFja2V0KSB7XG4gICAgICAgIC8vIHRoZSBuZXh0VGljayBjYWxsIHByZXZlbnRzIGFuIGV4Y2VwdGlvbiBpbiBhIHVzZXItcHJvdmlkZWQgZXZlbnQgbGlzdGVuZXIgZnJvbSB0cmlnZ2VyaW5nIGEgZGlzY29ubmVjdGlvbiBkdWUgdG8gYSBcInBhcnNlIGVycm9yXCJcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzb2NrZXQgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZXJyb3IoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzb2NrZXQgZm9yIHRoZSBnaXZlbiBgbnNwYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NvY2tldH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc29ja2V0KG5zcCwgb3B0cykge1xuICAgICAgICBsZXQgc29ja2V0ID0gdGhpcy5uc3BzW25zcF07XG4gICAgICAgIGlmICghc29ja2V0KSB7XG4gICAgICAgICAgICBzb2NrZXQgPSBuZXcgU29ja2V0KHRoaXMsIG5zcCwgb3B0cyk7XG4gICAgICAgICAgICB0aGlzLm5zcHNbbnNwXSA9IHNvY2tldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc29ja2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNvY2tldCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzb2NrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kZXN0cm95KHNvY2tldCkge1xuICAgICAgICBjb25zdCBuc3BzID0gT2JqZWN0LmtleXModGhpcy5uc3BzKTtcbiAgICAgICAgZm9yIChjb25zdCBuc3Agb2YgbnNwcykge1xuICAgICAgICAgICAgY29uc3Qgc29ja2V0ID0gdGhpcy5uc3BzW25zcF07XG4gICAgICAgICAgICBpZiAoc29ja2V0LmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcGFja2V0KHBhY2tldCkge1xuICAgICAgICBjb25zdCBlbmNvZGVkUGFja2V0cyA9IHRoaXMuZW5jb2Rlci5lbmNvZGUocGFja2V0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUud3JpdGUoZW5jb2RlZFBhY2tldHNbaV0sIHBhY2tldC5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0cmFuc3BvcnQgc3Vic2NyaXB0aW9ucyBhbmQgcGFja2V0IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgdGhpcy5zdWJzLmZvckVhY2goKHN1YkRlc3Ryb3kpID0+IHN1YkRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuc3Vicy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRlY29kZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY3VycmVudCBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbG9zZSgpIHtcbiAgICAgICAgdGhpcy5za2lwUmVjb25uZWN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25jbG9zZShcImZvcmNlZCBjbG9zZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lKVxuICAgICAgICAgICAgdGhpcy5lbmdpbmUuY2xvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGNsb3NlKClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25jbG9zZShyZWFzb24sIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY2xvc2VcIiwgcmVhc29uLCBkZXNjcmlwdGlvbik7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3Rpb24gJiYgIXRoaXMuc2tpcFJlY29ubmVjdCkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0IGEgcmVjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICByZWNvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3RpbmcgfHwgdGhpcy5za2lwUmVjb25uZWN0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5iYWNrb2ZmLmF0dGVtcHRzID49IHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2ZhaWxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLmJhY2tvZmYuZHVyYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCB0aW1lciA9IHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5za2lwUmVjb25uZWN0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfYXR0ZW1wdFwiLCBzZWxmLmJhY2tvZmYuYXR0ZW1wdHMpO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGFnYWluIGZvciB0aGUgY2FzZSBzb2NrZXQgY2xvc2VkIGluIGFib3ZlIGV2ZW50c1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBzZWxmLm9wZW4oKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9lcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbnJlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgICAgICAgIHRpbWVyLnVucmVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN1YnMucHVzaChmdW5jdGlvbiBzdWJEZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzdWNjZXNzZnVsIHJlY29ubmVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25yZWNvbm5lY3QoKSB7XG4gICAgICAgIGNvbnN0IGF0dGVtcHQgPSB0aGlzLmJhY2tvZmYuYXR0ZW1wdHM7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RcIiwgYXR0ZW1wdCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgdXJsIH0gZnJvbSBcIi4vdXJsLmpzXCI7XG5pbXBvcnQgeyBNYW5hZ2VyIH0gZnJvbSBcIi4vbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcIi4vc29ja2V0LmpzXCI7XG4vKipcbiAqIE1hbmFnZXJzIGNhY2hlLlxuICovXG5jb25zdCBjYWNoZSA9IHt9O1xuZnVuY3Rpb24gbG9va3VwKHVyaSwgb3B0cykge1xuICAgIGlmICh0eXBlb2YgdXJpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG9wdHMgPSB1cmk7XG4gICAgICAgIHVyaSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgY29uc3QgcGFyc2VkID0gdXJsKHVyaSwgb3B0cy5wYXRoIHx8IFwiL3NvY2tldC5pb1wiKTtcbiAgICBjb25zdCBzb3VyY2UgPSBwYXJzZWQuc291cmNlO1xuICAgIGNvbnN0IGlkID0gcGFyc2VkLmlkO1xuICAgIGNvbnN0IHBhdGggPSBwYXJzZWQucGF0aDtcbiAgICBjb25zdCBzYW1lTmFtZXNwYWNlID0gY2FjaGVbaWRdICYmIHBhdGggaW4gY2FjaGVbaWRdW1wibnNwc1wiXTtcbiAgICBjb25zdCBuZXdDb25uZWN0aW9uID0gb3B0cy5mb3JjZU5ldyB8fFxuICAgICAgICBvcHRzW1wiZm9yY2UgbmV3IGNvbm5lY3Rpb25cIl0gfHxcbiAgICAgICAgZmFsc2UgPT09IG9wdHMubXVsdGlwbGV4IHx8XG4gICAgICAgIHNhbWVOYW1lc3BhY2U7XG4gICAgbGV0IGlvO1xuICAgIGlmIChuZXdDb25uZWN0aW9uKSB7XG4gICAgICAgIGlvID0gbmV3IE1hbmFnZXIoc291cmNlLCBvcHRzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY2FjaGVbaWRdKSB7XG4gICAgICAgICAgICBjYWNoZVtpZF0gPSBuZXcgTWFuYWdlcihzb3VyY2UsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGlvID0gY2FjaGVbaWRdO1xuICAgIH1cbiAgICBpZiAocGFyc2VkLnF1ZXJ5ICYmICFvcHRzLnF1ZXJ5KSB7XG4gICAgICAgIG9wdHMucXVlcnkgPSBwYXJzZWQucXVlcnlLZXk7XG4gICAgfVxuICAgIHJldHVybiBpby5zb2NrZXQocGFyc2VkLnBhdGgsIG9wdHMpO1xufVxuLy8gc28gdGhhdCBcImxvb2t1cFwiIGNhbiBiZSB1c2VkIGJvdGggYXMgYSBmdW5jdGlvbiAoZS5nLiBgaW8oLi4uKWApIGFuZCBhcyBhXG4vLyBuYW1lc3BhY2UgKGUuZy4gYGlvLmNvbm5lY3QoLi4uKWApLCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuT2JqZWN0LmFzc2lnbihsb29rdXAsIHtcbiAgICBNYW5hZ2VyLFxuICAgIFNvY2tldCxcbiAgICBpbzogbG9va3VwLFxuICAgIGNvbm5lY3Q6IGxvb2t1cCxcbn0pO1xuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHsgcHJvdG9jb2wgfSBmcm9tIFwic29ja2V0LmlvLXBhcnNlclwiO1xuLyoqXG4gKiBFeHBvc2UgY29uc3RydWN0b3JzIGZvciBzdGFuZGFsb25lIGJ1aWxkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHsgTWFuYWdlciwgU29ja2V0LCBsb29rdXAgYXMgaW8sIGxvb2t1cCBhcyBjb25uZWN0LCBsb29rdXAgYXMgZGVmYXVsdCwgfTtcbiIsImltcG9ydCB7IHBhcnNlIH0gZnJvbSBcImVuZ2luZS5pby1jbGllbnRcIjtcbi8qKlxuICogVVJMIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0gdXJpIC0gdXJsXG4gKiBAcGFyYW0gcGF0aCAtIHRoZSByZXF1ZXN0IHBhdGggb2YgdGhlIGNvbm5lY3Rpb25cbiAqIEBwYXJhbSBsb2MgLSBBbiBvYmplY3QgbWVhbnQgdG8gbWltaWMgd2luZG93LmxvY2F0aW9uLlxuICogICAgICAgIERlZmF1bHRzIHRvIHdpbmRvdy5sb2NhdGlvbi5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVybCh1cmksIHBhdGggPSBcIlwiLCBsb2MpIHtcbiAgICBsZXQgb2JqID0gdXJpO1xuICAgIC8vIGRlZmF1bHQgdG8gd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8ICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24pO1xuICAgIGlmIChudWxsID09IHVyaSlcbiAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgXCIvL1wiICsgbG9jLmhvc3Q7XG4gICAgLy8gcmVsYXRpdmUgcGF0aCBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKFwiL1wiID09PSB1cmkuY2hhckF0KDApKSB7XG4gICAgICAgICAgICBpZiAoXCIvXCIgPT09IHVyaS5jaGFyQXQoMSkpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MuaG9zdCArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9eKGh0dHBzP3x3c3M/KTpcXC9cXC8vLnRlc3QodXJpKSkge1xuICAgICAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBsb2MpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBcImh0dHBzOi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2VcbiAgICAgICAgb2JqID0gcGFyc2UodXJpKTtcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIHdlIHRyZWF0IGBsb2NhbGhvc3Q6ODBgIGFuZCBgbG9jYWxob3N0YCBlcXVhbGx5XG4gICAgaWYgKCFvYmoucG9ydCkge1xuICAgICAgICBpZiAoL14oaHR0cHx3cykkLy50ZXN0KG9iai5wcm90b2NvbCkpIHtcbiAgICAgICAgICAgIG9iai5wb3J0ID0gXCI4MFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKC9eKGh0dHB8d3MpcyQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgICAgICAgb2JqLnBvcnQgPSBcIjQ0M1wiO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9iai5wYXRoID0gb2JqLnBhdGggfHwgXCIvXCI7XG4gICAgY29uc3QgaXB2NiA9IG9iai5ob3N0LmluZGV4T2YoXCI6XCIpICE9PSAtMTtcbiAgICBjb25zdCBob3N0ID0gaXB2NiA/IFwiW1wiICsgb2JqLmhvc3QgKyBcIl1cIiA6IG9iai5ob3N0O1xuICAgIC8vIGRlZmluZSB1bmlxdWUgaWRcbiAgICBvYmouaWQgPSBvYmoucHJvdG9jb2wgKyBcIjovL1wiICsgaG9zdCArIFwiOlwiICsgb2JqLnBvcnQgKyBwYXRoO1xuICAgIC8vIGRlZmluZSBocmVmXG4gICAgb2JqLmhyZWYgPVxuICAgICAgICBvYmoucHJvdG9jb2wgK1xuICAgICAgICAgICAgXCI6Ly9cIiArXG4gICAgICAgICAgICBob3N0ICtcbiAgICAgICAgICAgIChsb2MgJiYgbG9jLnBvcnQgPT09IG9iai5wb3J0ID8gXCJcIiA6IFwiOlwiICsgb2JqLnBvcnQpO1xuICAgIHJldHVybiBvYmo7XG59XG4iLCJpbXBvcnQgeyBpbyB9IGZyb20gXCJzb2NrZXQuaW8tY2xpZW50XCI7XHJcbmltcG9ydCB7IFNjZW5lTWFuYWdlciB9IGZyb20gXCIuL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5leHBvcnQgY2xhc3MgU29ja2V0TWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZU1hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLnRhZyA9IFwiRVZFTlRIQU5ETEVSXCI7XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5zY2VuZU1hbmFnZXIgPSBzY2VuZU1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBpbygpO1xyXG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uKFwiY3JlYXRlXCIsIChjb21wKSA9PiB7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbihcInlwZGF0ZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goXCJjbGlja1wiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goZXZlbnQua2V5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBpZiAoY29tcC5jb21wb25lbnRJZCA9PSB1bmRlZmluZWQgfHwgY29tcC5jb21wb25lbnRJZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IFNjZW5lTWFuYWdlci5nZXRVbmlxdWVDb21wb25lbnRJZCgpO1xyXG4gICAgICAgICAgICBjb21wLmNvbXBvbmVudElkID0gaWQ7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChpZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU29ja2V0IE1hbmFnZXIgcmVnaXN0ZXJlZFwiKTtcclxuICAgIH1cclxuICAgIHVucmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGxldCBkZWxldGVkID0gdGhpcy5jb21wb25lbnRzLmdldChjb21wKTtcclxuICAgICAgICBpZiAoZGVsZXRlZCkge1xyXG4gICAgICAgICAgICBkZWxldGVkLmFsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKGRlbGV0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2xpZW50IFNvY2tldCBIYW5kbGVyXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2xpZW50IFNvY2tldCBIYW5kbGVyIENvbXBvbmVudHM6XCIgKyB0aGlzLmNvbXBvbmVudHMuc2l6ZSk7XHJcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuY29tcG9uZW50cy5zaXplO1xyXG4gICAgICAgIGxldCBrZXlzID0gWy4uLnRoaXMuY29tcG9uZW50cy5rZXlzKCldO1xyXG4gICAgICAgIGZvciAodmFyIGNvbXAgb2Yga2V5cykge1xyXG4gICAgICAgICAgICB2YXIgbGlzdGVuYWJsZSA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgICAgIHZhciBldmVudE1hcCA9IGxpc3RlbmFibGUuZXZlbnRNYXA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGUgb2YgdGhpcy5ldmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudE1hcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmdW5jID0gZXZlbnRNYXAuZ2V0KGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGlzdGVuYWJsZS51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmRlbGV0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29tcCA9PT0gbnVsbCB8fCBjb21wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Tb2NrZXRNYW5hZ2VyLmpzLm1hcCIsImltcG9ydCB7IGFkZEVudGl0eSwgYWRkU29ja2V0RW50aXR5IH0gZnJvbSBcIi4uL3NjZW5lVXRpbHMuanNcIjtcclxuaW1wb3J0IHsgRW5naW5lVHlwZSB9IGZyb20gXCIuLi8uLi9jb25zdGFudHMvZW5naW5lVHlwZS5qc1wiO1xyXG5pbXBvcnQgeyBTb2NrZXRNYW5hZ2VyIH0gZnJvbSBcIi4vU29ja2V0TWFuYWdlci5qc1wiO1xyXG5leHBvcnQgY2xhc3MgU2NlbmVNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZUNvbmZpZywgc2NlbmVzID0gW10sIHN5c3RlbXMpIHtcclxuICAgICAgICB0aGlzLnN5c3RlbXMgPSBzeXN0ZW1zO1xyXG4gICAgICAgIHRoaXMuc3lzdGVtVGFnID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZW5naW5lQ29uZmlnID0gZW5naW5lQ29uZmlnO1xyXG4gICAgICAgIGxldCBlbmdpbmVUeXBlID0gZW5naW5lQ29uZmlnLmVuZ2luZVR5cGU7XHJcbiAgICAgICAgaWYgKGVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5TT0NLRVRDTElFTlQpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRFbnRpdHkgPSBhZGRFbnRpdHk7XHJcbiAgICAgICAgICAgIHN5c3RlbXMucHVzaChuZXcgU29ja2V0TWFuYWdlcih0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFkZEVudGl0eSA9IGFkZFNvY2tldEVudGl0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2VuZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IG5ld0NvbmZpZyA9IHNjZW5lc1tpXTtcclxuICAgICAgICAgICAgbGV0IG5ld1NjZW5lID0gbmV3Q29uZmlnLnNjZW5lO1xyXG4gICAgICAgICAgICBuZXdTY2VuZS5zY2VuZU1hbmFnZXIgPSB0aGlzO1xyXG4gICAgICAgICAgICBuZXdTY2VuZS5lbmdpbmVDb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICBuZXdTY2VuZS5lbnRpdGllcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbiBTY2VuZSBNYW5hZ2VyXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lcy5zZXQobmV3U2NlbmUubmFtZSwgbmV3U2NlbmUpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzeXN0ZW0gb2Ygc3lzdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW1UYWcuc2V0KHN5c3RlbS50YWcsIHN5c3RlbSk7XHJcbiAgICAgICAgICAgICAgICBuZXdTY2VuZS5lbmdpbmVDb21wb25lbnRzLnNldChzeXN0ZW0udGFnLCBzeXN0ZW0uY29tcG9uZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgZSBvZiBuZXdDb25maWcuZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGFkZEVudGl0eShuZXdTY2VuZSwgZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2VuZUNvbmZpZ3MgPSBzY2VuZXM7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SWR4ID0gdGhpcy5zY2VuZUNvbmZpZ3NbMF0uc2NlbmUubmFtZTtcclxuICAgICAgICB0aGlzLnN5c3RlbXMgPSBzeXN0ZW1zO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoU2NlbmVzKGtleSkge1xyXG4gICAgICAgIGxldCBzY2VuZSA9IHRoaXMuc2NlbmVzLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChzY2VuZSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzeXMgb2YgdGhpcy5zeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcCA9IHNjZW5lLmVuZ2luZUNvbXBvbmVudHMuZ2V0KHN5cy50YWcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXApIHtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiZXJyb3IgaW4gc3RhcnQgbWV0aG9kXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0Q3VycmVudFNjZW5lKCkge1xyXG4gICAgICAgIGxldCBjdXJyID0gdGhpcy5zY2VuZXMuZ2V0KHRoaXMuY3VycmVudElkeCk7XHJcbiAgICAgICAgaWYgKGN1cnIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cnI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkNhbnQgZ2V0IGN1cnJlbnQgc2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldFVuaXF1ZUlkKCkge1xyXG4gICAgICAgIHJldHVybiBTY2VuZU1hbmFnZXIuaWQrKztcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRVbmlxdWVDb21wb25lbnRJZCgpIHtcclxuICAgICAgICByZXR1cm4gU2NlbmVNYW5hZ2VyLmNvbXBvbmVudElkKys7XHJcbiAgICB9XHJcbn1cclxuU2NlbmVNYW5hZ2VyLmlkID0gMDtcclxuU2NlbmVNYW5hZ2VyLmNvbXBvbmVudElkID0gMDtcclxuY2xhc3MgRGVmYXVsdFNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwic2NlbmVcIjtcclxuICAgICAgICB0aGlzLnRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVDb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjZW5lTWFuYWdlci5qcy5tYXAiLCJpbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuZXhwb3J0IGNsYXNzIEV2ZW50SGFuZGxlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihldmVudENvbmZpZyA9IHtcclxuICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgbW91c2U6IGZhbHNlXHJcbiAgICB9KSB7XHJcbiAgICAgICAgdGhpcy50YWcgPSBcIkVWRU5USEFORExFUlwiO1xyXG4gICAgICAgIHRoaXMuZGVsZXRlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZXZlbnRDb25maWcgPSBldmVudENvbmZpZztcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKFwiY2xpY2tcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKGV2ZW50LmtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgaWYgKGNvbXAuY29tcG9uZW50SWQgPT0gdW5kZWZpbmVkIHx8IGNvbXAuY29tcG9uZW50SWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKTtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGlkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoaWQsIGNvbXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkV2ZW50IEhhbmRsZXIgcmVnaXN0ZXJlZFwiKTtcclxuICAgIH1cclxuICAgIHVucmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGxldCBkZWxldGVkID0gdGhpcy5jb21wb25lbnRzLmdldChjb21wKTtcclxuICAgICAgICBpZiAoZGVsZXRlZCkge1xyXG4gICAgICAgICAgICBkZWxldGVkLmFsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKGRlbGV0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXZlbnQgSGFuZGxlclwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkV2ZW50ICBIYW5kbGVyIENvbXBvbmVudHM6XCIgKyB0aGlzLmNvbXBvbmVudHMuc2l6ZSk7XHJcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuY29tcG9uZW50cy5zaXplO1xyXG4gICAgICAgIGxldCBrZXlzID0gWy4uLnRoaXMuY29tcG9uZW50cy5rZXlzKCldO1xyXG4gICAgICAgIGZvciAodmFyIGNvbXAgb2Yga2V5cykge1xyXG4gICAgICAgICAgICB2YXIgbGlzdGVuYWJsZSA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgICAgIHZhciBldmVudE1hcCA9IGxpc3RlbmFibGUuZXZlbnRNYXA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGUgb2YgdGhpcy5ldmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudE1hcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmdW5jID0gZXZlbnRNYXAuZ2V0KGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGlzdGVuYWJsZS51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmRlbGV0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29tcCA9PT0gbnVsbCB8fCBjb21wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudEhhbmRsZXIuanMubWFwIiwiaW1wb3J0IHsgR1JBUEhJQ1NfVEFHIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzXCI7XHJcbmltcG9ydCB7IFNjZW5lTWFuYWdlciB9IGZyb20gXCIuLi8uLi9jb3JlL21hbmFnZXJzL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5leHBvcnQgY2xhc3MgR3JhcGhpY3NFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoZ3JhcGhpY3NDb25maWcsIGNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLnRhZyA9IEdSQVBISUNTX1RBRztcclxuICAgICAgICB0aGlzLmdyYXBoaWNzQ29uZmlnID0gZ3JhcGhpY3NDb25maWc7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZGVsZXRlZCA9IFtdO1xyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gXCIwXCI7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0SW5mbyA9IGNvbnRleHQ7XHJcbiAgICB9XHJcbiAgICByZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgaWYgKGNvbXAuY29tcG9uZW50SWQgPT0gdW5kZWZpbmVkIHx8IGNvbXAuY29tcG9uZW50SWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKTtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGlkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbXAuY29udGV4dCA9IHRoaXMuY29udGV4dEluZm87XHJcbiAgICAgICAgICAgIGNvbXAuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGlkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1bnJlZ2lzdGVyKGlkKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIGxldCBkZWxldGVkID0gdGhpcy5jb21wb25lbnRzLmdldChpZCk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlZC5hbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZWQucHVzaChkZWxldGVkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coKChfYSA9IGRlbGV0ZWQuZW50aXR5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQpICsgXCIgcyBDb21wb25lbnQgd2l0aCBpZCBcIiArIGRlbGV0ZWQuY29tcG9uZW50SWQgKyBcImlzIHBvcHBlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICB2YXIgY3R4ID0gdGhpcy5jb250ZXh0SW5mby5jdHg7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHcmFwaGljcyBlbmdpbmUgcnVubmluZ1wiKTtcclxuICAgICAgICBmb3IgKHZhciBjIG9mIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBsZXQgY29tcCA9IGNbMV07XHJcbiAgICAgICAgICAgIGNvbXAudXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuZGVsZXRlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21wID0gdGhpcy5kZWxldGVkLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZGVsZXRlKGNvbXAgPT09IG51bGwgfHwgY29tcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcC5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0U2NlbmUoc2NlbmUpIHtcclxuICAgICAgICB2YXIgZ2V0ID0gc2NlbmUuZW5naW5lQ29tcG9uZW50cy5nZXQodGhpcy50YWcpO1xyXG4gICAgICAgIGlmIChnZXQpIHtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY0VuZ2luZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgUEhZU0lDU19UQUcgPSBcIlBIWVNJQ1NcIjtcclxuZXhwb3J0IGNvbnN0IEdSQVBISUNTX1RBRyA9IFwiR1JBUEhJQ1NcIjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50VHlwZS5qcy5tYXAiLCJpbXBvcnQgeyBQSFlTSUNTX1RBRyB9IGZyb20gXCIuLi8uLi9jb25zdGFudHMvY29tcG9uZW50VHlwZS5qc1wiO1xyXG5pbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuZXhwb3J0IGNsYXNzIFBoeXNpY3NFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy50YWcgPSBQSFlTSUNTX1RBRztcclxuICAgICAgICB0aGlzLmRlbGV0ZWQgPSBbXTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICB9XHJcbiAgICByZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgaWYgKGNvbXAuY29tcG9uZW50SWQgPT0gdW5kZWZpbmVkIHx8IGNvbXAuY29tcG9uZW50SWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKTtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGlkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoaWQsIGNvbXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVucmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBsZXQgZGVsZXRlZCA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlZC5hbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZWQucHVzaChkZWxldGVkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coKChfYSA9IGRlbGV0ZWQuZW50aXR5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQpICsgXCIgcyBDb21wb25lbnQgd2l0aCBpZCBcIiArIGRlbGV0ZWQuY29tcG9uZW50SWQgKyBcImlzIHBvcHBlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBoeXNpY3MgZW5naW5lIHJ1bm5pbmdcIik7XHJcbiAgICAgICAgZm9yICh2YXIgY29tcCBvZiB0aGlzLmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgY29tcFsxXS51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmRlbGV0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29tcCA9PT0gbnVsbCB8fCBjb21wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGh5c2ljc0VuZ2luZS5qcy5tYXAiLCJpbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuZXhwb3J0IGNsYXNzIFNjcmlwdGluZ0VuZ2luZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnRhZyA9IFwiU0NSSVBUSU5HXCI7XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGlmIChjb21wLmNvbXBvbmVudElkID09IHVuZGVmaW5lZCB8fCBjb21wLmNvbXBvbmVudElkID09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUNvbXBvbmVudElkKCk7XHJcbiAgICAgICAgICAgIGNvbXAuY29tcG9uZW50SWQgPSBpZDtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGlkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1bnJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBsZXQgZGVsZXRlZCA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlZC5hbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZWQucHVzaChkZWxldGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNjcmlwdGluZyBlbmdpbmUgcnVubmluZ1wiKTtcclxuICAgICAgICBmb3IgKHZhciBjb21wIG9mIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb21wWzFdLmNhbGxiYWNrKGR0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuZGVsZXRlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21wID0gdGhpcy5kZWxldGVkLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZGVsZXRlKGNvbXAgPT09IG51bGwgfHwgY29tcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcC5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjcmlwdGluZ0VuZ2luZS5qcy5tYXAiLCJleHBvcnQgY2xhc3MgQ29udGV4dEluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoZ3JhcGhpY3NDb25maWcpIHtcclxuICAgICAgICB0aGlzLmdyYXBoaWNzQ29uZmlnID0gZ3JhcGhpY3NDb25maWc7XHJcbiAgICAgICAgdGhpcy5ncmFwaGljc0NvbmZpZyA9IGdyYXBoaWNzQ29uZmlnO1xyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gXCIwXCI7XHJcbiAgICAgICAgdGhpcy5zZXR1cCgpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gdGhpcy5nZW5lcmF0ZUNhbnZhcygpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gMTAwMDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSA1MDA7XHJcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5kaXYgPSB0aGlzLmdlbmVyYXRlRGl2KHRoaXMuZ3JhcGhpY3NDb25maWcucGFyZW50KTtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlRGl2KHBhcmVudCkge1xyXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXYuaWQgPSBwYXJlbnQ7XHJcbiAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gXCIxXCI7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwiL2ltYWdlcy90ZXN0LmpwZ1wiO1xyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGVzdFwiKTtcclxuICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVDYW52YXMoKSB7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJDQU5WQVNcIik7XHJcbiAgICAgICAgY2FudmFzLmlkID0gdGhpcy5ncmFwaGljc0NvbmZpZy5jYW52YXNJRDtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBhcnNlU3R5bGUodGhpcy5ncmFwaGljc0NvbmZpZy5zdHlsZSkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQmVmb3JlXCIpO1xyXG4gICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgdGhpcy5wYXJzZVN0eWxlKHRoaXMuZ3JhcGhpY3NDb25maWcuc3R5bGUpKTtcclxuICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgfVxyXG4gICAgZ2V0Q3R4KCkge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmdldENhbnZhcygpO1xyXG4gICAgICAgIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2FudmFzKCkge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdyYXBoaWNzQ29uZmlnLmNhbnZhc0lEKTtcclxuICAgICAgICBpZiAoY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiZW5naW5lQ2FudmFzIHNob3VsZCBiZSBhIHJlc2VydmVkIGlkIGZvciBET00gQ29tcG9uZW50c1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwYXJzZVN0eWxlKHN0eWxlT2JqZWN0KSB7XHJcbiAgICAgICAgdmFyIGNzc0FycmF5ID0gT2JqZWN0LmVudHJpZXMoc3R5bGVPYmplY3QpLm1hcCgoW2ssIHZdKSA9PiBrICsgXCI6XCIgKyB2ICsgXCI7XCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ3JhcGhpY3NDb25maWcucGFyZW50KTtcclxuICAgICAgICByZXR1cm4gY3NzQXJyYXkuam9pbihcIiBcIik7XHJcbiAgICB9XHJcbiAgICBzZXR1cCgpIHtcclxuICAgICAgICBpZiAodHJ1ZSkge1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gXCIvaW1hZ2VzL3Rlc3QuanBnXCI7XHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS56SW5kZXggPSBcIi0xXCI7XHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGltYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dC5qcy5tYXAiLCJpbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuZXhwb3J0IGNsYXNzIENvbGxpc2lvblN5c3RlbSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnRhZyA9IFwiQ09MTElTSU9OXCI7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgICAgIHRoaXMuZGVsZXRlZCA9IFtdO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGlmIChjb21wLmNvbXBvbmVudElkID09IHVuZGVmaW5lZCB8fCBjb21wLmNvbXBvbmVudElkID09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUNvbXBvbmVudElkKCk7XHJcbiAgICAgICAgICAgIGNvbXAuY29tcG9uZW50SWQgPSBpZDtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGlkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1bnJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBsZXQgZGVsZXRlZCA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlZC5hbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZWQucHVzaChkZWxldGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbGxpc2lvbiBTeXN0ZW0gUnVubmluZ1wiKTtcclxuICAgICAgICBmb3IgKHZhciBba2V5MSwgY29sMV0gb2YgdGhpcy5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2wxLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIFtrZXkyLCBjb2wyXSBvZiB0aGlzLmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sMi52aXNpYmxlICYmIGNvbDEuY2hlY2tDb2xsaXNpb24oY29sMikgJiYgY29sMSAhPSBjb2wyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDEuY29sbGlkZXMoY29sMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjb2wyLmFsaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKGNvbDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHBvcHBlZCA9IHRoaXMuZGVsZXRlZC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKHBvcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb21wb25lbnQocG9wcGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRlbGV0ZUNvbXBvbmVudChjb2wpIHtcclxuICAgICAgICBpZiAoY29sLmNvbXBvbmVudElkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29sLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGlzaW9uU3lzdGVtLmpzLm1hcCIsImltcG9ydCB7IEV2ZW50SGFuZGxlciB9IGZyb20gXCIuLi9zeXN0ZW1zL2V2ZW50cy9FdmVudEhhbmRsZXIuanNcIjtcclxuaW1wb3J0IHsgR3JhcGhpY3NFbmdpbmUgfSBmcm9tIFwiLi4vc3lzdGVtcy9ncmFwaGljcy9HcmFwaGljRW5naW5lLmpzXCI7XHJcbmltcG9ydCB7IFBoeXNpY3NFbmdpbmUgfSBmcm9tIFwiLi4vc3lzdGVtcy9waHlzaWNzL1BoeXNpY3NFbmdpbmUuanNcIjtcclxuaW1wb3J0IHsgU2NyaXB0aW5nRW5naW5lIH0gZnJvbSBcIi4uL3N5c3RlbXMvc2NyaXB0aW5nL1NjcmlwdGluZ0VuZ2luZS5qc1wiO1xyXG5pbXBvcnQgeyBDb250ZXh0SW5mbyB9IGZyb20gXCIuL2NvbnRleHQuanNcIjtcclxuaW1wb3J0IHsgU2NlbmVNYW5hZ2VyIH0gZnJvbSBcIi4vbWFuYWdlcnMvU2NlbmVNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IENvbGxpc2lvblN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL0NvbGxpc2lvbi9Db2xsaXNpb25TeXN0ZW0uanNcIjtcclxuaW1wb3J0IHsgRW5naW5lVHlwZSB9IGZyb20gXCIuLi9jb25zdGFudHMvZW5naW5lVHlwZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWVDb25maWcgPSB7IGVuZ2luZVR5cGU6IEVuZ2luZVR5cGUuQ0xJRU5UT05MWSB9LCBzeXN0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXNJRCA9IFwiZW5naW5lQ2FudmFzXCI7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW1zID0gW107XHJcbiAgICAgICAgdGhpcy50aW1lID0gMDtcclxuICAgICAgICB0aGlzLmVuZ2luZUNvbmZpZyA9IGdhbWVDb25maWc7XHJcbiAgICAgICAgaWYgKGdhbWVDb25maWcuZ3JhcGhpY3NDb25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0SW5mbyA9IG5ldyBDb250ZXh0SW5mbyhnYW1lQ29uZmlnLmdyYXBoaWNzQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lQ29uZmlnLmV2ZW50Q29uZmlnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKG5ldyBFdmVudEhhbmRsZXIodGhpcy5lbmdpbmVDb25maWcuZXZlbnRDb25maWcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lQ29uZmlnLnBoeXNpY3NDb25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2gobmV3IFBoeXNpY3NFbmdpbmUodGhpcy5lbmdpbmVDb25maWcucGh5c2ljc0NvbmZpZykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVDb25maWcuc2NyaXB0aW5nQ29uZmlnICYmIHRoaXMuY29udGV4dEluZm8pIHtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2gobmV3IFNjcmlwdGluZ0VuZ2luZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN5c3RlbXMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgc3lzIG9mIHN5c3RlbXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHN5cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lQ29uZmlnLmNvbGxpc2lvbkNvbmZpZykge1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbXMucHVzaChuZXcgQ29sbGlzaW9uU3lzdGVtKHRoaXMuZW5naW5lQ29uZmlnLmNvbGxpc2lvbkNvbmZpZykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVDb25maWcuZ3JhcGhpY3NDb25maWcgJiYgdGhpcy5jb250ZXh0SW5mbykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnNvbGUuY29udGV4dCBpbmZvXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbnRleHRJbmZvKTtcclxuICAgICAgICAgICAgdGhpcy5ncmFwaGljcyA9IG5ldyBHcmFwaGljc0VuZ2luZSh0aGlzLmVuZ2luZUNvbmZpZy5ncmFwaGljc0NvbmZpZywgdGhpcy5jb250ZXh0SW5mbyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHRoaXMuZ3JhcGhpY3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3lzdGVtcykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzeXMgb2Ygc3lzdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2goc3lzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjZW5lTWFuYWdlciA9IG5ldyBTY2VuZU1hbmFnZXIodGhpcy5lbmdpbmVDb25maWcsIHRoaXMuZW5naW5lQ29uZmlnLnNjZW5lQ29uZmlnLCB0aGlzLnN5c3RlbXMpO1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgZm9yICh2YXIgc3lzIG9mIHRoaXMuc3lzdGVtcykge1xyXG4gICAgICAgICAgICB2YXIgY29tcCA9IHRoaXMuc2NlbmVNYW5hZ2VyLmdldEN1cnJlbnRTY2VuZSgpLmVuZ2luZUNvbXBvbmVudHMuc2V0KHN5cy50YWcsIHN5cy5jb21wb25lbnRzKTtcclxuICAgICAgICAgICAgaWYgKGNvbXApIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiZXJyb3IgaW4gc3RhcnQgbWV0aG9kXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgIFxyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSdcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSdcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIlxyXG4gICAgICAgIHRoaXMuc2V0dXAoKVxyXG4gICAgICAgIHRoaXMuZGl2ID0gdGhpcy5nZW5lcmF0ZURpdih0aGlzLmVuZ2luZUNvbmZpZy5wYXJlbnQpIDtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZVxyXG4gICAgICAgICovXHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgIHBhcnNlU3R5bGUoc3R5bGVPYmplY3Q6IE9iamVjdCk6ICBzdHJpbmcge1xyXG4gICAgICAgIHZhciBjc3NBcnJheTogc3RyaW5nW10gPSBPYmplY3QuZW50cmllcyhzdHlsZU9iamVjdCkubWFwKChbayx2XSkgPT4gayArIFwiOlwiICsgdiArIFwiO1wiKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZW5naW5lQ29uZmlnLnBhcmVudClcclxuICAgICAgICByZXR1cm4gY3NzQXJyYXkuam9pbihcIiBcIilcclxuICAgIH1cclxuICAgICovXHJcbiAgICAvKipcclxuICAgIGdlbmVyYXRlRGl2KHBhcmVudDogc3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIGRpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIGRpdi5pZCA9IHBhcmVudFxyXG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxyXG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIlxyXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IFwiMVwiXHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwiL2ltYWdlcy90ZXN0LmpwZ1wiXHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRoaXMuZ2VuZXJhdGVDYW52YXMoKSlcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdilcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0ZXN0XCIpXHJcbiAgICAgICAgcmV0dXJuIGRpdlxyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVDYW52YXMoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQ0FOVkFTXCIpXHJcbiAgICAgICAgY2FudmFzLmlkID0gdGhpcy5jYW52YXNJRFxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGFyc2VTdHlsZSh0aGlzLmVuZ2luZUNvbmZpZy5zdHlsZSkpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJCZWZvcmVcIilcclxuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdzdHlsZScsIHRoaXMucGFyc2VTdHlsZSh0aGlzLmVuZ2luZUNvbmZpZy5zdHlsZSkpXHJcbiAgICAgICAgcmV0dXJuIGNhbnZhc1xyXG4gICAgfVxyXG4gICAgZ2V0Q3R4KCkge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmdldENhbnZhcygpXHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIilcclxuICAgIH1cclxuICAgIGdldENhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY2FudmFzSUQpXHJcbiAgICAgICAgaWYgKGNhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYW52YXNcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcImVuZ2luZUNhbnZhcyBzaG91bGQgYmUgYSByZXNlcnZlZCBpZCBmb3IgRE9NIENvbXBvbmVudHNcIilcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgICAqXHJcbiAgICAgXHJcbiAgICBzZXR1cCgpIHtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5lbmdpbmVDb25maWdcclxuICAgICAgICBpZiAodHJ1ZSkge1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKVxyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBcIi9pbWFnZXMvdGVzdC5qcGdcIlxyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS5wb3NpdGlvbiA9XCJhYnNvbHV0ZVwiXHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLnpJbmRleCA9IFwiLTFcIlxyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLmhlaWdodD0gXCIxMDAlXCJcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpXHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICovXHJcbiAgICBzdGFydChkdCkge1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lQ29uZmlnLmVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5DTElFTlRPTkxZIHx8IHRoaXMuZW5naW5lQ29uZmlnLmVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5TT0NLRVRDTElFTlQpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJVcGRhdGUoZHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBkdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3lzIG9mIHRoaXMuc3lzdGVtcykge1xyXG4gICAgICAgICAgICBzeXMudXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50aW1lICs9IGR0O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGltZSk7XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgodGltZXN0YW1wKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBkdCA9IHRpbWVzdGFtcCAtIHRoaXMudGltZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoZHQpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUgPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzZXJ2ZXJVcGRhdGUoZHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzeXMgb2YgdGhpcy5zeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIHN5cy51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50aW1lKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJVcGRhdGUoZHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZHQpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuZ2luZS5qcy5tYXAiLCIvKipcclxuICogRGVzY3JpYmVzIHRoZSBDU1MgcHJvcGVydGllcyBvZiB0aGUgY2FudmFzIGVsZW1lbnRcclxuICpcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQaHlzaWNzQ29uZmlnIHtcclxufVxyXG5leHBvcnQgY2xhc3MgR3JhcGhpY3NDb25maWcge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50ID0gXCJlbmdpbmVEaXZcIiwgY2FudmFzSUQgPSBcImVuZ2luZUNhbnZhc1wiLCBzdHlsZSA9IHt9LCBiYWNrZ3JvdW5kKSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5jYW52YXNJRCA9IGNhbnZhc0lEO1xyXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBTY2VuZUNvbmZpZyB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgZW50aXRpZXMgPSBbXSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzID0gZW50aXRpZXM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIEV2ZW50Q29uZmlnIHtcclxuICAgIGNvbnN0cnVjdG9yKGtleWJvYXJkLCBtb3VzZSkge1xyXG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSBrZXlib2FyZDtcclxuICAgICAgICB0aGlzLm1vdXNlID0gbW91c2U7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIENvbGxpc2lvbkNvbmZpZyB7XHJcbn1cclxuZXhwb3J0IGNsYXNzIFNjcmlwdGluZ0NvbmZpZyB7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBUcmFuc2Zvcm0ge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5LCBwb3MgPSB7IHg6IDAsIHk6IDAsIHo6IDAgfSwgdmVsID0geyB4OiAwLCB5OiAwLCB6OiAwIH0sIGFjY2VsID0geyB4OiAwLCB5OiAwLCB6OiAwIH0pIHtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiUEhZU0lDU1wiO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICAgICAgdGhpcy52ZWwgPSB2ZWw7XHJcbiAgICAgICAgdGhpcy5hY2NlbCA9IGFjY2VsO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQb3NpdGlvbiBpczogXCIgKyB0aGlzLnBvcy54ICsgXCIgYW5kIFwiICsgdGhpcy5wb3MueSk7XHJcbiAgICAgICAgdGhpcy52ZWwueCA9IHRoaXMudmVsLnggKyB0aGlzLmFjY2VsLnggKiBkdDtcclxuICAgICAgICB0aGlzLnZlbC55ID0gdGhpcy52ZWwueSArIHRoaXMuYWNjZWwueSAqIGR0O1xyXG4gICAgICAgIHRoaXMudmVsLnogPSB0aGlzLnZlbC56ICsgdGhpcy5hY2NlbC56ICogZHQ7XHJcbiAgICAgICAgdGhpcy5wb3MueCA9IHRoaXMucG9zLnggKyB0aGlzLnZlbC54ICogZHQ7XHJcbiAgICAgICAgdGhpcy5wb3MueSA9IHRoaXMucG9zLnkgKyB0aGlzLnZlbC55ICogZHQ7XHJcbiAgICAgICAgdGhpcy5wb3MueiA9IHRoaXMucG9zLnogKyB0aGlzLnZlbC56ICogZHQ7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBTcHJpdGUge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5LCB0cmFuc2Zvcm0sIHNyYykge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJHUkFQSElDU1wiO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc3JjID0gc3JjO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKGN0eCkge1xyXG4gICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCB0aGlzLnRyYW5zZm9ybS5wb3MueCwgdGhpcy50cmFuc2Zvcm0ucG9zLnksIDY0LCA2NCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IHRoaXMuc3JjO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZS5qcy5tYXAiLCJleHBvcnQgY2xhc3MgUmVjdGFuZ2xlIHtcclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICB9XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHksIHRyYW5zZm9ybSkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJHUkFQSElDU1wiO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKGN0eCkge1xyXG4gICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMjU1O1xyXG4gICAgICAgICAgICB2YXIgZyA9IE1hdGgucmFuZG9tKCkgKiAyNTU7XHJcbiAgICAgICAgICAgIHZhciBiID0gTWF0aC5yYW5kb20oKSAqIDI1NTtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2IoXHJcbiAgICAgICAgICAgICAgICAke3J9LFxyXG4gICAgICAgICAgICAgICAgJHtnfSxcclxuICAgICAgICAgICAgICAgICR7Yn0pYDtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMudHJhbnNmb3JtLnBvcy54LCB0aGlzLnRyYW5zZm9ybS5wb3MueSwgMjAsIDIwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVjdGFuZ2xlLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBNb3VzZUxpc3RlbmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSwgY2xpY2tNYXApIHtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiRVZFTlRIQU5ETEVSXCI7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLmV2ZW50TWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNsaWNrTWFwKS5tYXAoKFtrLCB2XSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50TWFwLnNldChrLCB2KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJJbiBtb3VzZSBMaXN0ZW5lclwiKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaXN0ZW5lci5qcy5tYXAiLCJleHBvcnQgY2xhc3MgU2NyaXB0IHtcclxuICAgIGNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIlNDUklQVElOR1wiO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrKGR0KTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY3JpcHQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xyXG5leHBvcnQgY2xhc3MgQm94Q29sbGlkZXIge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5LCBwb3MsIG9uQ29sbGlzaW9uKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIkNPTExJU0lPTlwiO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlVHlwZSA9IFwiQm94XCI7XHJcbiAgICAgICAgdGhpcy5zaGFwZSA9IHtcclxuICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgIGRpbTogeyBsZW5ndGg6IDIwLCBoZWlnaHQ6IDIwIH0sXHJcbiAgICAgICAgICAgIHJvdDogMFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wcmV2ID0ge1xyXG4gICAgICAgICAgICB4OiBwb3MueCxcclxuICAgICAgICAgICAgeTogcG9zLnksXHJcbiAgICAgICAgICAgIHo6IHBvcy56XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uQ29sbGlzaW9uID0gb25Db2xsaXNpb247XHJcbiAgICB9XHJcbiAgICBjaGVja0NvbGxpc2lvbihjb2xsaWRlcikge1xyXG4gICAgICAgIGxldCBkb2VzQ29sbGlkZSA9IGZhbHNlO1xyXG4gICAgICAgIGxldCByZXQgPSBmYWxzZTtcclxuICAgICAgICBpZiAoY29sbGlkZXIgaW5zdGFuY2VvZiBCb3hDb2xsaWRlcikge1xyXG4gICAgICAgICAgICBsZXQgcmVjdCA9IGNvbGxpZGVyLnNoYXBlO1xyXG4gICAgICAgICAgICBsZXQgcmVjdGFuZ2xlID0gdGhpcy5zaGFwZTtcclxuICAgICAgICAgICAgaWYgKHJlY3Qucm90ID09IDAgJiYgcmVjdGFuZ2xlLnJvdCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjdC5wb3MueCArIHJlY3QuZGltLmxlbmd0aCA+IHJlY3RhbmdsZS5wb3MueCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlY3QucG9zLnggPCByZWN0YW5nbGUucG9zLnggKyByZWN0YW5nbGUuZGltLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlY3QucG9zLnkgKyByZWN0LmRpbS5oZWlnaHQgPiByZWN0YW5nbGUucG9zLnkgJiZcclxuICAgICAgICAgICAgICAgICAgICByZWN0LnBvcy55IDwgcmVjdGFuZ2xlLnBvcy55ICsgcmVjdGFuZ2xlLmRpbS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuICAgIGNvbGxpZGVzKGNvbGxpZGVyKSB7XHJcbiAgICAgICAgdGhpcy5vbkNvbGxpc2lvbihjb2xsaWRlcik7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQsIGN0eCkge1xyXG4gICAgICAgIHRoaXMucHJldi54ID0gdGhpcy5zaGFwZS5wb3MueDtcclxuICAgICAgICB0aGlzLnByZXYueSA9IHRoaXMuc2hhcGUucG9zLnk7XHJcbiAgICAgICAgdGhpcy5wcmV2LnogPSB0aGlzLnNoYXBlLnBvcy56O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBDaXJjbGVDb2xsaWRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHksIHBvcywgb25Db2xsaXNpb24pIHtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiQ09MTElTSU9OXCI7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLmNvbGxpZGVUeXBlID0gXCJCb3hcIjtcclxuICAgICAgICB0aGlzLnNoYXBlID0ge1xyXG4gICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgZGltOiB7IGxlbmd0aDogMjAsIGhlaWdodDogMjAgfSxcclxuICAgICAgICAgICAgcm90OiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uQ29sbGlzaW9uID0gb25Db2xsaXNpb247XHJcbiAgICB9XHJcbiAgICBjaGVja0NvbGxpc2lvbihjb2xsaWRlcikge1xyXG4gICAgICAgIHZhciBkb2VzQ29sbGlkZSA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbGxpZGVzKGNvbGxpZGVyKSB7XHJcbiAgICAgICAgdGhpcy5vbkNvbGxpc2lvbihjb2xsaWRlcik7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQsIGN0eCkge1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbGxpZGVyLmpzLm1hcCIsImltcG9ydCB7IFRyYW5zZm9ybSB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvUGh5c2ljcy90cmFuc2Zvcm0uanNcIjtcclxuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9TcHJpdGUuanNcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9SZWN0YW5nbGUuanNcIjtcclxuaW1wb3J0IHsgTW91c2VMaXN0ZW5lciB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvRXZlbnQvTGlzdGVuZXIuanNcIjtcclxuaW1wb3J0IHsgU2NyaXB0IH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9TY3JpcHQvU2NyaXB0LmpzXCI7XHJcbmltcG9ydCB7IEJveENvbGxpZGVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9Db2xsaXNpb24vQ29sbGlkZXIuanNcIjtcclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MsIHZlbCkge1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSh0aGlzLCBwb3MsIHZlbCk7XHJcbiAgICAgICAgdmFyIGZ1bmMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnZlbC54ICo9IC0xICogTWF0aC5yYW5kb20oKSAqIDI7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnZlbC55ICo9IC0xICogTWF0aC5yYW5kb20oKSAqIDI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc2NyaXB0ID0gbmV3IFNjcmlwdCgoZHQpID0+IHtcclxuICAgICAgICAgICAgdmFyIHRvcFJpZ2h0ID0gdGhpcy50cmFuc2Zvcm0ucG9zLnggKyAyMDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbiBQbGF5ZXIgU2NyaXB0XCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucG9zLnggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3MueCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS52ZWwueCAqPSAtMSAqIE1hdGgucmFuZG9tKCkgKiAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCh0aGlzLnRyYW5zZm9ybS5wb3MueCArIDIwKSA+IDEwMDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvcy54ID0gMTAwMCAtIDIwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udmVsLnggKj0gLTEgKiBNYXRoLnJhbmRvbSgpICogMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucG9zLnkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3MueSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS52ZWwueSAqPSAtMSAqIE1hdGgucmFuZG9tKCkgKiAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCh0aGlzLnRyYW5zZm9ybS5wb3MueSArIDIwKSA+IDUwMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zLnkgPSA1MDAgLSAyMDtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnZlbC55ICo9IC0xICogTWF0aC5yYW5kb20oKSAqIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlY3RhbmdsZSh0aGlzLCB0aGlzLnRyYW5zZm9ybSk7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IG5ldyBNb3VzZUxpc3RlbmVyKHRoaXMsIHtcclxuICAgICAgICAgICAgXCJjbGlja1wiOiBmdW5jLFxyXG4gICAgICAgICAgICBcInRlc3QyXCI6ICgpID0+IHsgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBjb2xsaWRlckNhbGxiYWNrID0gKGNvbGwpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udmVsLnggKj0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnZlbC55ICo9IC0xO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGhpcywgdGhpcy50cmFuc2Zvcm0sIFwiL2ltYWdlcy9LbmlnaHRfRm9yd2FyZC5wbmdcIik7XHJcbiAgICAgICAgdmFyIGNvbGxpZGVyID0gbmV3IEJveENvbGxpZGVyKHRoaXMsIHRoaXMudHJhbnNmb3JtLnBvcywgY29sbGlkZXJDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSxcclxuICAgICAgICAgICAgc3ByaXRlLFxyXG4gICAgICAgICAgICBzY3JpcHQsIHRoaXMubGlzdGVuZXJcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsYXllci5qcy5tYXAiLCJpbXBvcnQgeyBTcHJpdGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL1Nwcml0ZS5qc1wiO1xyXG5pbXBvcnQgeyBUcmFuc2Zvcm0gfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL1BoeXNpY3MvdHJhbnNmb3JtLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBUZW1wbGFyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtcclxuICAgICAgICAgICAgbmV3IFNwcml0ZSh0aGlzLCBuZXcgVHJhbnNmb3JtKHRoaXMsIHsgeDogMCwgeTogMCwgejogMjAgfSksIFwiL2ltYWdlcy9UZW1wbGFyLnBuZ1wiKVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGVtcGxhci5qcy5tYXAiLCJpbXBvcnQgeyBUcmFuc2Zvcm0gfSBmcm9tIFwiLi4vUGh5c2ljcy90cmFuc2Zvcm0uanNcIjtcclxuZXhwb3J0IGNsYXNzIENhbWVyYSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHksIHdpZHRoID0gLTEsIGhlaWdodCA9IC0xLCBjdXJyID0geyB4OiAwLCB5OiAwLCB6OiAwIH0sIHNjYWxlID0geyB4OiAxLCB5OiAxIH0pIHtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJHUkFQSElDU1wiO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLnBvcyA9IGN1cnI7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKGVudGl0eSwgeyB4OiAwLCB5OiAwLCB6OiAwIH0pO1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoKSB7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQsIGN0eCkge1xyXG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5jb250ZXh0LmN0eDtcclxuICAgICAgICBpZiAodGhpcy5oZWlnaHQgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiAtMSAqIHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy53aWR0aCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggKiAtMSAqIHRoaXMuY29udGV4dC5jYW52YXMud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucG9zLnggKz0gdGhpcy50cmFuc2Zvcm0ucG9zLng7XHJcbiAgICAgICAgdGhpcy5wb3MueSArPSB0aGlzLnRyYW5zZm9ybS5wb3MueTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY3R4LnRyYW5zbGF0ZSh0aGlzLnRyYW5zZm9ybS5wb3MueCwgdGhpcy50cmFuc2Zvcm0ucG9zLnkpO1xyXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KC0xICogdGhpcy5wb3MueCwgLTEgKiB0aGlzLnBvcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgbGV0IGl0ZW1zID0gdGhpcy5zeXN0ZW0uY29tcG9uZW50cztcclxuICAgICAgICBmb3IgKGxldCBpIG9mIGl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGlbMV0ucmVuZGVyKHRoaXMuY29udGV4dC5jdHgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3MueCA9IDA7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zLnkgPSAwO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jdHguc2F2ZSgpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKGN0eCkge1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhbWVyYS5qcy5tYXAiLCJpbXBvcnQgeyBNb3VzZUxpc3RlbmVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9FdmVudC9MaXN0ZW5lci5qc1wiO1xyXG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL0NhbWVyYS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgTWFpbkNhbWVyYSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW3RoaXMuY2FtZXJhLCBuZXcgTW91c2VMaXN0ZW5lcih0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICBcIndcIjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS5wb3MueSAtPSAxO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiYVwiOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEudHJhbnNmb3JtLnBvcy54IC09IDE7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJkXCI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ucG9zLnggKz0gMTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcInNcIjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS5wb3MueSArPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KV07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFpbkNhbWVyYS5qcy5tYXAiLCJpbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiLi4vZW5naW5lL3NyYy9jb3JlL2VuZ2luZS5qc1wiO1xyXG5pbXBvcnQgeyBHcmFwaGljc0NvbmZpZyB9IGZyb20gXCIuLi9lbmdpbmUvc3JjL2NvcmUvY29uZmlnLmpzXCI7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3NjZW5lcy9lbnRpdGllcy9QbGF5ZXIuanNcIjtcclxuaW1wb3J0IHsgVGVtcGxhciB9IGZyb20gXCIuL3NjZW5lcy9lbnRpdGllcy9UZW1wbGFyLmpzXCI7XHJcbmltcG9ydCB7IE1haW5DYW1lcmEgfSBmcm9tIFwiLi9zY2VuZXMvZW50aXRpZXMvTWFpbkNhbWVyYS5qc1wiO1xyXG5pbXBvcnQgeyBFbmdpbmVUeXBlIH0gZnJvbSBcIi4uL2VuZ2luZS9zcmMvY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICBcclxuICAgIHZhciBzb2NrZXQ6IFNvY2tldCA9IGlvKClcclxuXHJcbiAgICBsZXQgQ09ORklHOiBQaGFzZXIuVHlwZXMuQ29yZS5HYW1lQ29uZmlnID0ge1xyXG4gICAgICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgICAgIHRpdGxlOiAndGVzdCcsXHJcbiAgICAgICAgcGFyZW50OiAnZ2FtZScsXHJcbiAgICAgICAgc2NlbmU6IFtcclxuICAgICAgICAgICAgbmV3IFdhaXRpbmdTY2VuZShzb2NrZXQpXHJcbiAgICAgICAgXSxcclxuICAgICAgICBzY2FsZToge1xyXG4gICAgICAgICAgICBtb2RlOiBQaGFzZXIuU2NhbGUuQ0VOVEVSX0JPVEgsXHJcbiAgICAgICAgICAgIHdpZHRoOiB3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGggLSAod2luZG93Lm91dGVyV2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aCksXHJcbiAgICAgICAgICAgIGhlaWdodDogd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCAtICh3aW5kb3cub3V0ZXJIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzNhYmEzYVwiLFxyXG4gICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLFxyXG5cclxuICAgICAgICBkb206IHtcclxuICAgICAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgICAgIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCk9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQnKVxyXG4gICAgICAgICAgICB2YXIgcm9vbUlkOiBzdHJpbmcgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVcclxuICAgICAgICAgICAgdmFyIHJvb21BcnI6IHN0cmluZ1tdICA9IHJvb21JZC5zcGxpdChcIi9cIilcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocm9vbUFycltyb29tQXJyLmxlbmd0aC0xXSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocm9vbUlkKVxyXG4gICAgICAgICAgICBzb2NrZXQuZW1pdChcIkFkZFBsYXllclwiLCB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlBsYXllck5hbWVcIiksIHJvb21BcnJbcm9vbUFyci5sZW5ndGgtMV0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkaXNjb25uZWN0ZWQnKVxyXG4gICAgICAgIH0pXHJcbiAgICB2YXIgZ2FtZTogUGhhc2VyLkdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoQ09ORklHKVxyXG4gICAgKi9cclxuICAgIGNsYXNzIFRlc3Qge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBcInRlc3RcIjtcclxuICAgICAgICAgICAgdGhpcy50aW1lID0gMDtcclxuICAgICAgICAgICAgdGhpcy5lbnRpdGllcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgdGhpcy5lbmdpbmVDb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxldCBlbmdpbmUgPSBuZXcgRW5naW5lKHtcclxuICAgICAgICBlbmdpbmVUeXBlOiBFbmdpbmVUeXBlLlNPQ0tFVENMSUVOVCxcclxuICAgICAgICBwaHlzaWNzQ29uZmlnOiB7fSxcclxuICAgICAgICBncmFwaGljc0NvbmZpZzogbmV3IEdyYXBoaWNzQ29uZmlnKFwidGVzdFwiLCBcIjE5M2FzXCIsIHsgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwid2hpdGVcIiwgXCJ3aWR0aFwiOiBcIjEwMCVcIiwgXCJoZWlnaHRcIjogXCIxMDAlXCIgfSksXHJcbiAgICAgICAgc2NlbmVDb25maWc6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2NlbmU6IG5ldyBUZXN0KCksXHJcbiAgICAgICAgICAgICAgICBlbnRpdGllczogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQbGF5ZXIoeyB4OiAwLCB5OiAwLCB6OiAxNSB9LCB7IHg6IDIsIHk6IDMsIHo6IDAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFRlbXBsYXIoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTWFpbkNhbWVyYSgpXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIGV2ZW50Q29uZmlnOiB7XHJcbiAgICAgICAgICAgIGtleWJvYXJkOiB0cnVlLFxyXG4gICAgICAgICAgICBtb3VzZTogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2NyaXB0aW5nQ29uZmlnOiB7fSxcclxuICAgICAgICBjb2xsaXNpb25Db25maWc6IHt9XHJcbiAgICB9KTtcclxuICAgIGVuZ2luZS5zdGFydCgxKTtcclxufTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbIkVuZ2luZVR5cGUiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJhZGRTb2NrZXRFbnRpdHkiLCJzY2VuZSIsImVudGl0eSIsImlkIiwidW5pcXVlSWQiLCJjb21wIiwiZW50aXRpZXMiLCJzZXQiLCJjb21wb25lbnRzIiwiZW5naW5lQ29tcG9uZW50cyIsImVuZ2luZVRhZyIsInN5c3RlbSIsInNjZW5lTWFuYWdlciIsInN5c3RlbVRhZyIsInJlZ2lzdGVyIiwiY29uc29sZSIsImxvZyIsImFkZEVudGl0eSIsIlBBQ0tFVF9UWVBFUyIsImNyZWF0ZSIsIlBBQ0tFVF9UWVBFU19SRVZFUlNFIiwia2V5cyIsImZvckVhY2giLCJFUlJPUl9QQUNLRVQiLCJ0eXBlIiwiZGF0YSIsIndpdGhOYXRpdmVCbG9iIiwiQmxvYiIsInRvU3RyaW5nIiwid2l0aE5hdGl2ZUFycmF5QnVmZmVyIiwiQXJyYXlCdWZmZXIiLCJlbmNvZGVCbG9iQXNCYXNlNjQiLCJjYWxsYmFjayIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiY29udGVudCIsInJlc3VsdCIsInNwbGl0IiwicmVhZEFzRGF0YVVSTCIsInN1cHBvcnRzQmluYXJ5IiwiaXNWaWV3IiwiYnVmZmVyIiwiY2hhcnMiLCJsb29rdXAiLCJVaW50OEFycmF5IiwiaSIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJkZWNvZGVCYXNlNjRQYWNrZXQiLCJiaW5hcnlUeXBlIiwiZGVjb2RlZCIsImJhc2U2NCIsImVuY29kZWQxIiwiZW5jb2RlZDIiLCJlbmNvZGVkMyIsImVuY29kZWQ0IiwiYnVmZmVyTGVuZ3RoIiwibGVuIiwicCIsImFycmF5YnVmZmVyIiwiYnl0ZXMiLCJkZWNvZGUiLCJtYXBCaW5hcnkiLCJlbmNvZGVkUGFja2V0IiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiU0VQQVJBVE9SIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiRW1pdHRlciIsIm1peGluIiwib24iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJmbiIsInRoaXMiLCJfY2FsbGJhY2tzIiwicHVzaCIsIm9uY2UiLCJvZmYiLCJhcHBseSIsImFyZ3VtZW50cyIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNiIiwiY2FsbGJhY2tzIiwic3BsaWNlIiwiZW1pdCIsImFyZ3MiLCJBcnJheSIsInNsaWNlIiwiZW1pdFJlc2VydmVkIiwibGlzdGVuZXJzIiwiaGFzTGlzdGVuZXJzIiwiZ2xvYmFsVGhpc1NoaW0iLCJzZWxmIiwid2luZG93IiwiRnVuY3Rpb24iLCJwaWNrIiwiYXR0ciIsInJlZHVjZSIsImFjYyIsImsiLCJOQVRJVkVfU0VUX1RJTUVPVVQiLCJzZXRUaW1lb3V0IiwiTkFUSVZFX0NMRUFSX1RJTUVPVVQiLCJjbGVhclRpbWVvdXQiLCJpbnN0YWxsVGltZXJGdW5jdGlvbnMiLCJvcHRzIiwidXNlTmF0aXZlVGltZXJzIiwic2V0VGltZW91dEZuIiwiYmluZCIsImNsZWFyVGltZW91dEZuIiwiVHJhbnNwb3J0RXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwicmVhc29uIiwiZGVzY3JpcHRpb24iLCJjb250ZXh0Iiwic3VwZXIiLCJUcmFuc3BvcnQiLCJ3cml0YWJsZSIsInF1ZXJ5IiwicmVhZHlTdGF0ZSIsInNvY2tldCIsIm9uRXJyb3IiLCJvcGVuIiwiZG9PcGVuIiwiY2xvc2UiLCJkb0Nsb3NlIiwib25DbG9zZSIsInNlbmQiLCJwYWNrZXRzIiwid3JpdGUiLCJvbk9wZW4iLCJvbkRhdGEiLCJwYWNrZXQiLCJvblBhY2tldCIsImRldGFpbHMiLCJhbHBoYWJldCIsIm1hcCIsInByZXYiLCJzZWVkIiwibnVtIiwiZW5jb2RlZCIsIk1hdGgiLCJmbG9vciIsInllYXN0Iiwibm93IiwiRGF0ZSIsInN0ciIsImVuY29kZVVSSUNvbXBvbmVudCIsIlhNTEh0dHBSZXF1ZXN0IiwiZXJyIiwiaGFzQ09SUyIsIlhIUiIsInhkb21haW4iLCJlIiwiY29uY2F0Iiwiam9pbiIsImVtcHR5IiwiaGFzWEhSMiIsInJlc3BvbnNlVHlwZSIsIlJlcXVlc3QiLCJ1cmkiLCJtZXRob2QiLCJhc3luYyIsInVuZGVmaW5lZCIsInhkIiwieHNjaGVtZSIsInhzIiwieGhyIiwiZXh0cmFIZWFkZXJzIiwic2V0RGlzYWJsZUhlYWRlckNoZWNrIiwic2V0UmVxdWVzdEhlYWRlciIsIndpdGhDcmVkZW50aWFscyIsInJlcXVlc3RUaW1lb3V0IiwidGltZW91dCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInN0YXR1cyIsIm9uTG9hZCIsImRvY3VtZW50IiwiaW5kZXgiLCJyZXF1ZXN0c0NvdW50IiwicmVxdWVzdHMiLCJjbGVhbnVwIiwiZnJvbUVycm9yIiwiYWJvcnQiLCJyZXNwb25zZVRleHQiLCJ1bmxvYWRIYW5kbGVyIiwiYXR0YWNoRXZlbnQiLCJuZXh0VGljayIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIldlYlNvY2tldCIsImlzUmVhY3ROYXRpdmUiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwidG9Mb3dlckNhc2UiLCJ0cmFuc3BvcnRzIiwid2Vic29ja2V0IiwiZm9yY2VCYXNlNjQiLCJuYW1lIiwiY2hlY2siLCJwcm90b2NvbHMiLCJoZWFkZXJzIiwid3MiLCJhZGRFdmVudExpc3RlbmVycyIsIm9ub3BlbiIsImF1dG9VbnJlZiIsIl9zb2NrZXQiLCJ1bnJlZiIsIm9uY2xvc2UiLCJjbG9zZUV2ZW50Iiwib25tZXNzYWdlIiwiZXYiLCJvbmVycm9yIiwibGFzdFBhY2tldCIsInNjaGVtYSIsInNlY3VyZSIsInBvcnQiLCJOdW1iZXIiLCJ0aW1lc3RhbXBSZXF1ZXN0cyIsInRpbWVzdGFtcFBhcmFtIiwiYjY0IiwiZW5jb2RlZFF1ZXJ5IiwiaG9zdG5hbWUiLCJpbmRleE9mIiwicGF0aCIsInBvbGxpbmciLCJsb2NhdGlvbiIsImlzU1NMIiwicHJvdG9jb2wiLCJwb2xsIiwicGF1c2UiLCJvblBhdXNlIiwidG90YWwiLCJkb1BvbGwiLCJlbmNvZGVkUGF5bG9hZCIsImVuY29kZWRQYWNrZXRzIiwiZGVjb2RlZFBhY2tldCIsImRlY29kZVBheWxvYWQiLCJjb3VudCIsImVuY29kZVBheWxvYWQiLCJkb1dyaXRlIiwic2lkIiwicmVxdWVzdCIsImFzc2lnbiIsInJlcSIsInhoclN0YXR1cyIsInBvbGxYaHIiLCJyZSIsInBhcnRzIiwicGFyc2UiLCJzcmMiLCJiIiwicmVwbGFjZSIsIm0iLCJleGVjIiwic291cmNlIiwiaG9zdCIsImF1dGhvcml0eSIsImlwdjZ1cmkiLCJwYXRoTmFtZXMiLCJuYW1lcyIsInF1ZXJ5S2V5IiwiJDAiLCIkMSIsIiQyIiwiU29ja2V0Iiwid3JpdGVCdWZmZXIiLCJwcmV2QnVmZmVyTGVuIiwiYWdlbnQiLCJ1cGdyYWRlIiwicmVtZW1iZXJVcGdyYWRlIiwicmVqZWN0VW5hdXRob3JpemVkIiwicGVyTWVzc2FnZURlZmxhdGUiLCJ0aHJlc2hvbGQiLCJ0cmFuc3BvcnRPcHRpb25zIiwiY2xvc2VPbkJlZm9yZXVubG9hZCIsInFzIiwicXJ5IiwicGFpcnMiLCJsIiwicGFpciIsImRlY29kZVVSSUNvbXBvbmVudCIsInVwZ3JhZGVzIiwicGluZ0ludGVydmFsIiwicGluZ1RpbWVvdXQiLCJwaW5nVGltZW91dFRpbWVyIiwiYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciIsInRyYW5zcG9ydCIsIm9mZmxpbmVFdmVudExpc3RlbmVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiRUlPIiwicHJpb3JXZWJzb2NrZXRTdWNjZXNzIiwic2hpZnQiLCJzZXRUcmFuc3BvcnQiLCJvbkRyYWluIiwicHJvYmUiLCJmYWlsZWQiLCJvblRyYW5zcG9ydE9wZW4iLCJtc2ciLCJ1cGdyYWRpbmciLCJmbHVzaCIsImZyZWV6ZVRyYW5zcG9ydCIsImVycm9yIiwib25UcmFuc3BvcnRDbG9zZSIsIm9udXBncmFkZSIsInRvIiwib25IYW5kc2hha2UiLCJKU09OIiwicmVzZXRQaW5nVGltZW91dCIsInNlbmRQYWNrZXQiLCJjb2RlIiwiZmlsdGVyVXBncmFkZXMiLCJtYXhQYXlsb2FkIiwiZ2V0V3JpdGFibGVQYWNrZXRzIiwicGF5bG9hZFNpemUiLCJjIiwidXRmOExlbmd0aCIsImNlaWwiLCJieXRlTGVuZ3RoIiwic2l6ZSIsIm9wdGlvbnMiLCJjb21wcmVzcyIsImNsZWFudXBBbmRDbG9zZSIsIndhaXRGb3JVcGdyYWRlIiwiZmlsdGVyZWRVcGdyYWRlcyIsImoiLCJ3aXRoTmF0aXZlRmlsZSIsIkZpbGUiLCJpc0JpbmFyeSIsImhhc0JpbmFyeSIsInRvSlNPTiIsImlzQXJyYXkiLCJkZWNvbnN0cnVjdFBhY2tldCIsImJ1ZmZlcnMiLCJwYWNrZXREYXRhIiwicGFjayIsIl9kZWNvbnN0cnVjdFBhY2tldCIsImF0dGFjaG1lbnRzIiwicGxhY2Vob2xkZXIiLCJfcGxhY2Vob2xkZXIiLCJuZXdEYXRhIiwicmVjb25zdHJ1Y3RQYWNrZXQiLCJfcmVjb25zdHJ1Y3RQYWNrZXQiLCJQYWNrZXRUeXBlIiwiRW5jb2RlciIsInJlcGxhY2VyIiwiZW5jb2RlIiwiRVZFTlQiLCJBQ0siLCJlbmNvZGVBc1N0cmluZyIsIkJJTkFSWV9FVkVOVCIsIkJJTkFSWV9BQ0siLCJlbmNvZGVBc0JpbmFyeSIsIm5zcCIsInN0cmluZ2lmeSIsImRlY29uc3RydWN0aW9uIiwidW5zaGlmdCIsIkRlY29kZXIiLCJyZXZpdmVyIiwiYWRkIiwicmVjb25zdHJ1Y3RvciIsImRlY29kZVN0cmluZyIsIkJpbmFyeVJlY29uc3RydWN0b3IiLCJ0YWtlQmluYXJ5RGF0YSIsInN0YXJ0IiwiYnVmIiwibmV4dCIsInBheWxvYWQiLCJ0cnlQYXJzZSIsInN1YnN0ciIsImlzUGF5bG9hZFZhbGlkIiwic3RhdGljIiwiQ09OTkVDVCIsIkRJU0NPTk5FQ1QiLCJDT05ORUNUX0VSUk9SIiwiZGVzdHJveSIsImZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24iLCJyZWNvblBhY2siLCJiaW5EYXRhIiwiUkVTRVJWRURfRVZFTlRTIiwiZnJlZXplIiwiY29ubmVjdCIsImNvbm5lY3RfZXJyb3IiLCJkaXNjb25uZWN0IiwiZGlzY29ubmVjdGluZyIsIm5ld0xpc3RlbmVyIiwiaW8iLCJjb25uZWN0ZWQiLCJyZWNlaXZlQnVmZmVyIiwic2VuZEJ1ZmZlciIsImlkcyIsImFja3MiLCJmbGFncyIsImF1dGgiLCJfYXV0b0Nvbm5lY3QiLCJkaXNjb25uZWN0ZWQiLCJzdWJFdmVudHMiLCJzdWJzIiwib25wYWNrZXQiLCJhY3RpdmUiLCJfcmVhZHlTdGF0ZSIsImFjayIsInBvcCIsIl9yZWdpc3RlckFja0NhbGxiYWNrIiwiaXNUcmFuc3BvcnRXcml0YWJsZSIsImVuZ2luZSIsInZvbGF0aWxlIiwibm90aWZ5T3V0Z29pbmdMaXN0ZW5lcnMiLCJ0aW1lciIsIl9wYWNrZXQiLCJvbmNvbm5lY3QiLCJvbmV2ZW50Iiwib25hY2siLCJvbmRpc2Nvbm5lY3QiLCJtZXNzYWdlIiwiZW1pdEV2ZW50IiwiX2FueUxpc3RlbmVycyIsImxpc3RlbmVyIiwic2VudCIsImVtaXRCdWZmZXJlZCIsInN1YkRlc3Ryb3kiLCJvbkFueSIsInByZXBlbmRBbnkiLCJvZmZBbnkiLCJsaXN0ZW5lcnNBbnkiLCJvbkFueU91dGdvaW5nIiwiX2FueU91dGdvaW5nTGlzdGVuZXJzIiwicHJlcGVuZEFueU91dGdvaW5nIiwib2ZmQW55T3V0Z29pbmciLCJsaXN0ZW5lcnNBbnlPdXRnb2luZyIsIkJhY2tvZmYiLCJtcyIsIm1pbiIsIm1heCIsImZhY3RvciIsImppdHRlciIsImF0dGVtcHRzIiwiZHVyYXRpb24iLCJwb3ciLCJyYW5kIiwicmFuZG9tIiwiZGV2aWF0aW9uIiwicmVzZXQiLCJzZXRNaW4iLCJzZXRNYXgiLCJzZXRKaXR0ZXIiLCJNYW5hZ2VyIiwiX2EiLCJuc3BzIiwicmVjb25uZWN0aW9uIiwicmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJJbmZpbml0eSIsInJlY29ubmVjdGlvbkRlbGF5IiwicmVjb25uZWN0aW9uRGVsYXlNYXgiLCJyYW5kb21pemF0aW9uRmFjdG9yIiwiYmFja29mZiIsIl9wYXJzZXIiLCJwYXJzZXIiLCJlbmNvZGVyIiwiZGVjb2RlciIsImF1dG9Db25uZWN0IiwidiIsIl9yZWNvbm5lY3Rpb24iLCJfcmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJfcmVjb25uZWN0aW9uRGVsYXkiLCJfcmFuZG9taXphdGlvbkZhY3RvciIsIl9yZWNvbm5lY3Rpb25EZWxheU1heCIsIl90aW1lb3V0IiwibWF5YmVSZWNvbm5lY3RPbk9wZW4iLCJfcmVjb25uZWN0aW5nIiwicmVjb25uZWN0Iiwic2tpcFJlY29ubmVjdCIsIm9wZW5TdWJEZXN0cm95IiwiZXJyb3JTdWIiLCJvbnBpbmciLCJvbmRhdGEiLCJvbmRlY29kZWQiLCJfZGVzdHJveSIsIl9jbG9zZSIsImRlbGF5Iiwib25yZWNvbm5lY3QiLCJhdHRlbXB0IiwiY2FjaGUiLCJwYXJzZWQiLCJsb2MiLCJ0ZXN0IiwiaHJlZiIsInVybCIsInNhbWVOYW1lc3BhY2UiLCJmb3JjZU5ldyIsIm11bHRpcGxleCIsIlNvY2tldE1hbmFnZXIiLCJ0YWciLCJkZWxldGVkIiwiTWFwIiwiZXZlbnRzIiwiY29tcG9uZW50SWQiLCJ1bnJlZ2lzdGVyIiwiYWxpdmUiLCJ1cGRhdGUiLCJkdCIsImxpc3RlbmFibGUiLCJldmVudE1hcCIsImZ1bmMiLCJkZWxldGUiLCJlbmdpbmVDb25maWciLCJzY2VuZXMiLCJzeXN0ZW1zIiwiZW5naW5lVHlwZSIsIlNPQ0tFVENMSUVOVCIsIm5ld0NvbmZpZyIsIm5ld1NjZW5lIiwic2NlbmVDb25maWdzIiwiY3VycmVudElkeCIsInN3aXRjaFNjZW5lcyIsInN5cyIsImdldEN1cnJlbnRTY2VuZSIsImN1cnIiLCJFdmVudEhhbmRsZXIiLCJldmVudENvbmZpZyIsImtleWJvYXJkIiwibW91c2UiLCJHcmFwaGljc0VuZ2luZSIsImdyYXBoaWNzQ29uZmlnIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJoZWlnaHQiLCJ3aWR0aCIsImJvZHkiLCJtYXJnaW4iLCJjb250ZXh0SW5mbyIsImluaXRpYWxpemUiLCJjdHgiLCJzZXRTY2VuZSIsIlBoeXNpY3NFbmdpbmUiLCJjb25maWciLCJTY3JpcHRpbmdFbmdpbmUiLCJDb250ZXh0SW5mbyIsInNldHVwIiwiY2FudmFzIiwiZ2VuZXJhdGVDYW52YXMiLCJnZXRDb250ZXh0IiwiZGl2IiwiZ2VuZXJhdGVEaXYiLCJwYXJlbnQiLCJjcmVhdGVFbGVtZW50IiwicG9zaXRpb24iLCJ6SW5kZXgiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJhcHBlbmRDaGlsZCIsImNhbnZhc0lEIiwicGFyc2VTdHlsZSIsInNldEF0dHJpYnV0ZSIsImdldEN0eCIsImdldENhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJzdHlsZU9iamVjdCIsImNzc0FycmF5IiwiZW50cmllcyIsImltYWdlIiwiSW1hZ2UiLCJDb2xsaXNpb25TeXN0ZW0iLCJrZXkxIiwiY29sMSIsInZpc2libGUiLCJrZXkyIiwiY29sMiIsImNoZWNrQ29sbGlzaW9uIiwiY29sbGlkZXMiLCJwb3BwZWQiLCJkZWxldGVDb21wb25lbnQiLCJjb2wiLCJFbmdpbmUiLCJnYW1lQ29uZmlnIiwiQ0xJRU5UT05MWSIsInRpbWUiLCJwaHlzaWNzQ29uZmlnIiwic2NyaXB0aW5nQ29uZmlnIiwiY29sbGlzaW9uQ29uZmlnIiwiZ3JhcGhpY3MiLCJzY2VuZUNvbmZpZyIsInJ1bm5pbmciLCJzZXJ2ZXJVcGRhdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lc3RhbXAiLCJHcmFwaGljc0NvbmZpZyIsImJhY2tncm91bmQiLCJUcmFuc2Zvcm0iLCJwb3MiLCJ4IiwieSIsInoiLCJ2ZWwiLCJhY2NlbCIsIlNwcml0ZSIsInRyYW5zZm9ybSIsImNvbXBvbmVudCIsInJlbmRlciIsImRyYXdJbWFnZSIsIlJlY3RhbmdsZSIsInIiLCJnIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJNb3VzZUxpc3RlbmVyIiwiY2xpY2tNYXAiLCJTY3JpcHQiLCJCb3hDb2xsaWRlciIsIm9uQ29sbGlzaW9uIiwiY29sbGlkZVR5cGUiLCJzaGFwZSIsImRpbSIsInJvdCIsImNvbGxpZGVyIiwicmVjdCIsInJlY3RhbmdsZSIsIlBsYXllciIsInNjcmlwdCIsInJlbmRlcmVyIiwic3ByaXRlIiwiY29sbCIsIlRlbXBsYXIiLCJDYW1lcmEiLCJzY2FsZSIsInRyYW5zbGF0ZSIsImNsZWFyUmVjdCIsIml0ZW1zIiwic2F2ZSIsIk1haW5DYW1lcmEiLCJjYW1lcmEiXSwic291cmNlUm9vdCI6IiJ9