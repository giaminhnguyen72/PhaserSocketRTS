(()=>{"use strict";var t,e={d:(t,s)=>{for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},s={};function n(t,e,s){var n=o.getUniqueId();for(var i of(e.id=n,e.scene=t,t.entities.set(n,e),e.components))if(t.engineComponents.get(i.engineTag)){let e=t.sceneManager.systemTag.get(i.engineTag);e&&e.register(i)}else console.log(i.engineTag+" tagged System is not found");return console.log("successfully added entitys"),e}function i(t,e){var s=o.getUniqueId();for(var n of(e.id=s,e.scene=t,t.entities.set(s,e),e.components)){var i=t.engineComponents.get(n.engineTag);if(n.entity=e.id,i){let e=t.sceneManager.systemTag.get(n.engineTag);e&&e.register(n)}else console.log(n.engineTag+"does not exist"),n.componentId=o.getUniqueComponentId()}return console.log("successfully added entity"),e}e.r(s),e.d(s,{Decoder:()=>At,Encoder:()=>Ot,PacketType:()=>Rt,protocol:()=>St}),function(t){t[t.SOCKETCLIENT=0]="SOCKETCLIENT",t[t.SOCKETSERVER=1]="SOCKETSERVER",t[t.CLIENTONLY=2]="CLIENTONLY"}(t||(t={}));class o{constructor(e,s=[],o){this.systems=o,this.systemTag=new Map,this.scenes=new Map,this.engineConfig=e,e.engineType==t.SOCKETCLIENT?this.addEntity=n:(t.SOCKETSERVER,this.addEntity=i);for(let t=0;t<s.length;t++){let e=s[t].scene;e.sceneManager=this,e.engineComponents=new Map,e.addEntity=this.addEntity,console.log("In Scene Manager"),this.scenes.set(e.name,e)}this.sceneConfigs=s,this.currentIdx=this.sceneConfigs[0].scene.name,this.systems=o}switchScenes(t){let e=this.scenes.get(t);if(e)for(var s of this.systems)if(!e.engineComponents.get(s.tag))throw Error("error in start method")}getCurrentScene(){let t=this.scenes.get(this.currentIdx);if(t)return t;throw Error("Cant get current scene")}static getUniqueId(){return o.id++}static getUniqueComponentId(){return o.componentId++}}o.id=0,o.componentId=0;class r{constructor(t={keyboard:!1,mouse:!1}){this.tag="EVENTHANDLER",this.deleted=[],this.components=new Map,this.events=[],this.eventConfig=t,window.addEventListener("click",(t=>{this.events.push("click")})),window.addEventListener("keydown",(t=>{this.events.push(t.key)}))}register(t){if(null==t.componentId||null==t.componentId){let e=o.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}console.log("Event Handler registered")}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){console.log("Event Handler"),console.log("Event  Handler Components:"+this.components.size),this.components.size;let e=[...this.components.keys()];for(var s of e){var n=this.components.get(s),i=n.eventMap;for(var o of this.events)if(i){var r=i.get(o);r&&r()}n.update(t)}for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}this.events=[]}}class h{constructor(){this.items=[],this.size=0}clear(){this.items.length=0}swap(t,e){var s=this.items[t];this.items[t]=this.items[e],this.items[e]=s}enqueue(t,e){this.items.push({data:t,priority:e});let s=this.items.length-1;for(var n=Math.floor((s-1)/2);s>0&&this.items[s].priority>this.items[n].priority;)this.swap(s,n),s=n,n=Math.floor((s-1)/2);this.size++}dequeue(){if(0==this.size)return;if(1==this.size)return this.size--,this.items[0].data;let t=this.items[0];this.size--;let e=this.items.pop();if(e){this.items[0]=e;for(let t=0;t<this.items.length;t++);}let s=0;for(;s<=this.size-1;){let t=2*s+1,e=2*s+2;if(t<=this.size-1&&e<=this.size-1){let n=this.items[t].priority>this.items[e].priority?t:e;if(!(this.items[n].priority>this.items[s].priority))break;this.swap(s,n),s=n}else{if(!(t<=this.size-1))break;if(!(this.items[t].priority>this.items[s].priority))break;this.swap(s,t),s=t}}return t.data}}class a{constructor(){this.queue=new h}render(t){console.log("Inside Painrer");for(let e of t){let t=[];for(console.log("Inside Camera loop");0!=this.queue.size;)t.push(this.queue.dequeue()),console.log("Render Queue size is "+this.queue.size);e.render(t)}}registerStrategy(t){this.queue.enqueue(t,t.transform.pos.z)}clear(){this.queue.clear(),console.log("Cleared queue length is "+this.queue.size)}}class c{constructor(t,e){this.tag="GRAPHICS",this.rendering=[],this.graphicsConfig=t,this.components=new Map,this.deleted=[],document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.body.style.height="100%",document.body.style.width="100%",document.body.style.margin="0",this.renderStrategy=new a,this.contextInfo=e}register(t){if(null==t.componentId||null==t.componentId){console.log("Registering undefined id in Ggraphics");let e=o.getUniqueComponentId();t.componentId=e,t.system=this,t.context=this.contextInfo,1==t.rendered&&this.rendering.push(t),t.initialize(),this.components.set(e,t)}else console.log("Graphics Registering id"+t.componentId),t.system=this,t.context=this.contextInfo,1==t.rendered&&this.rendering.push(t),t.initialize(),this.components.set(t.componentId,t)}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e),console.log(e.entity+" s Component with id "+e.componentId+"is popped"))}update(t){this.contextInfo.ctx,console.log("Graphics engine running"),console.log("Graphics Components: "+this.components.size);for(let e of this.components){let s=e[1];s.update(t),0==s.rendered&&this.renderStrategy.registerStrategy(s)}for(console.log("Rendering Components: "+this.rendering.length),this.renderStrategy.render(this.rendering),this.renderStrategy.clear();this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}}setScene(t){t.engineComponents.get(this.tag)}}class l{constructor(t){this.tag="PHYSICS",this.deleted=[],this.components=new Map,this.config=t}register(t){if(null==t.componentId||null==t.componentId){let e=o.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}else t.system=this,this.components.set(t.componentId,t)}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e),console.log(e.entity+" s Component with id "+e.componentId+"is popped"))}update(t){for(var e of(console.log("Physics engine running"),console.log("Physics Components: "+this.components.size),this.components))e[1].update(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}}}class p{constructor(){this.tag="SCRIPTING",this.deleted=[],this.components=new Map}register(t){if(null==t.componentId||null==t.componentId){let e=o.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}else t.componentId=t.componentId,t.system=this,this.components.set(t.componentId,t)}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){for(var e of(console.log("Scripting engine running"),console.log("Scripting Components: "+this.components.size),this.components))e[1].callback(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}}}class d{constructor(t){this.graphicsConfig=t,this.graphicsConfig=t,document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.body.style.height="100%",document.body.style.width="100%",document.body.style.margin="0",this.setup(),this.canvas=this.generateCanvas(),this.canvas.width=1e3,this.canvas.height=500,this.ctx=this.canvas.getContext("2d"),this.div=this.generateDiv(this.graphicsConfig.parent)}generateDiv(t){var e=document.createElement("div");return e.id=t,e.style.position="absolute",e.style.height="100%",e.style.width="100%",e.style.zIndex="1",e.style.backgroundImage="/images/test.jpg",e.appendChild(this.canvas),document.body.appendChild(e),console.log("test"),e}generateCanvas(){var t=document.createElement("CANVAS");return t.id=this.graphicsConfig.canvasID,console.log(this.parseStyle(this.graphicsConfig.style)),console.log("Before"),t.setAttribute("style",this.parseStyle(this.graphicsConfig.style)),t}getCtx(){return this.getCanvas().getContext("2d")}getCanvas(){var t=document.getElementById(this.graphicsConfig.canvasID);if(t instanceof HTMLCanvasElement)return t;throw Error("engineCanvas should be a reserved id for DOM Components")}parseStyle(t){var e=Object.entries(t).map((([t,e])=>t+":"+e+";"));return console.log(this.graphicsConfig.parent),e.join(" ")}setup(){var t=new Image;t.src="/images/test.jpg",t.style.position="absolute",t.style.zIndex="-1",t.style.width="100%",t.style.height="100%",document.body.appendChild(t)}}class u{constructor(t){this.tag="COLLISION",this.components=new Map,this.config=t,this.deleted=[]}register(t){if(null==t.componentId||null==t.componentId){let e=o.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}else t.system=this,this.components.set(t.componentId,t)}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){for(var[e,s]of(console.log("Collision System Running"),console.log("Collision Components: "+this.components.size),this.components))if(s.visible)for(var[n,i]of this.components)i.visible&&s.checkCollision(i)&&s!=i?s.collides(i):i.alive||this.deleted.push(i);for(;this.deleted.length>0;){let t=this.deleted.pop();t&&this.deleteComponent(t)}}deleteComponent(t){t.componentId&&this.components.delete(t.componentId)}}class f{constructor(e={engineType:t.CLIENTONLY},s){if(this.canvasID="engineCanvas",this.systems=[],this.time=0,this.engineConfig=e,e.graphicsConfig&&(this.contextInfo=new d(e.graphicsConfig)),this.engineConfig.eventConfig&&this.contextInfo&&this.systems.push(new r(this.engineConfig.eventConfig)),this.engineConfig.physicsConfig&&this.systems.push(new l(this.engineConfig.physicsConfig)),this.engineConfig.scriptingConfig&&this.systems.push(new p),s)for(var n of s)this.systems.push(n);if(this.engineConfig.collisionConfig&&this.systems.push(new u(this.engineConfig.collisionConfig)),this.engineConfig.graphicsConfig&&this.contextInfo&&(this.graphics=new c(this.engineConfig.graphicsConfig,this.contextInfo),this.systems.push(this.graphics)),s)for(var n of s)this.systems.push(n);this.sceneManager=new o(this.engineConfig,this.engineConfig.sceneConfig,this.systems),this.running=!0,this.running=!1}start(e){this.running=!0,console.log("Startng Engin ");let s=this.sceneManager.getCurrentScene();for(var n of this.systems){var i=this.sceneManager.getCurrentScene().engineComponents.set(n.tag,n.components);if(s.engineComponents.set(n.tag,n.components),this.sceneManager.systemTag.set(n.tag,n),!i)throw Error("error in start method")}let o=s.entities;s.entities=new Map;for(let t of o)t[1].id?s.addEntity(s,t[1],t[1].id):s.addEntity(s,t[1],1);this.engineConfig.engineType==t.CLIENTONLY||this.engineConfig.engineType==t.SOCKETCLIENT?this.update(e):setTimeout((()=>{this.running&&this.serverUpdate(e),console.log("Timeout runout")}),e)}update(t){for(var e of this.systems)e.update(t);this.time+=t,console.log(this.time),window.requestAnimationFrame((e=>{this.time,this.update(t),this.time=e}))}serverUpdate(t){for(var e of(console.log("updating"),this.systems))e.update(t);this.time+=t,console.log(this.time),setTimeout((()=>{this.running&&this.serverUpdate(t)}),t)}}class g{constructor(t="engineDiv",e="engineCanvas",s={},n){this.parent=t,this.canvasID=e,this.style=s,this.background=n}}class m{constructor(t,e={x:0,y:0,z:0},s={x:0,y:0,z:0},n={x:0,y:0,z:0}){this.visible=!0,this.alive=!0,this.engineTag="PHYSICS",this.entity=t,this.pos=e,this.vel=s,this.accel=n}copy(t){this.pos.x=t.pos.x,this.pos.y=t.pos.y,this.pos.z=t.pos.z,this.vel.x=t.vel.x,this.vel.x=t.vel.x,this.vel.x=t.vel.x,this.accel.x=t.accel.x,this.accel.x=t.accel.x,this.accel.x=t.accel.x,this.entity=t.entity,this.componentId=t.componentId,this.visible=t.visible,this.alive=t.alive}update(t){console.log("Position is: "+this.pos.x+" and "+this.pos.y),this.vel.x=this.vel.x+this.accel.x*t,this.vel.y=this.vel.y+this.accel.y*t,this.vel.z=this.vel.z+this.accel.z*t,this.pos.x=this.pos.x+this.vel.x*t,this.pos.y=this.pos.y+this.vel.y*t,this.pos.z=this.pos.z+this.vel.z*t}toJSON(){return{pos:this.pos,vel:this.vel,accel:this.accel,entity:this.entity,componentId:this.componentId,visible:this.visible,alive:this.alive,engineTag:"PHYSICS"}}}class y{constructor(t,e,s){this.engineTag="GRAPHICS",this.rendered=!1,this.visible=!0,this.alive=!0,this.entity=t,this.transform=e,this.src=s}copy(t){this.componentId=t.componentId,this.entity=t.entity,this.src=t.src,this.transform.accel.x=t.transform.accel.x,this.transform.accel.y=t.transform.accel.y,this.transform.accel.z=t.transform.accel.z,this.transform.vel.x=t.transform.vel.x,this.transform.vel.y=t.transform.vel.y,this.transform.vel.z=t.transform.vel.z,this.transform.pos.x=t.transform.pos.x,this.transform.pos.y=t.transform.pos.y,this.transform.pos.z=t.transform.pos.z}visit(t){}render(){this.context.ctx&&this.context.ctx.drawImage(this.image,this.transform.pos.x,this.transform.pos.y,64,64)}update(t){}initialize(){this.image=new Image,this.image.src=this.src}toJSON(){return{entity:this.entity,componentId:this.componentId,engineTag:this.engineTag,transform:this.transform,visible:this.visible,alive:this.alive,src:this.src}}}class v{update(t,e){}constructor(t,e){this.engineTag="GRAPHICS",this.rendered=!1,this.visible=!0,this.alive=!0,this.entity=t,this.transform=e}visit(t){}copy(t){throw new Error("Method not implemented.")}initialize(){}render(){if(this.context.ctx){var t=255*Math.random(),e=255*Math.random(),s=255*Math.random();this.context.ctx.fillStyle=`rgb(\n                ${t},\n                ${e},\n                ${s})`,this.context.ctx.fillRect(this.transform.pos.x,this.transform.pos.y,20,20)}}}class b{constructor(t,e){this.engineTag="EVENTHANDLER",this.visible=!0,this.alive=!0,this.entity=t,this.eventMap=new Map,Object.entries(e).map((([t,e])=>{this.eventMap.set(t,e)}))}copy(t){this.entity=t.entity,this.componentId=t.componentId,this.visible=t.visible,this.alive=t.alive}update(t,e){console.log("In mouse Listener")}toJSON(){return{entity:this.entity,engineTag:"EVENTHANDLER",componentId:this.componentId,onePunch:"Test"}}}class w{constructor(t){this.engineTag="SCRIPTING",this.visible=!0,this.alive=!0,this.callback=t}copy(t){}update(t,e){this.callback(t)}toJSON(){return{entity:this.entity,engineTag:this.engineTag,componenId:this.componentId,callback:this.callback}}}class C{visit(t){}constructor(t=-1,e={x:0,y:0,z:0},s){this.engineTag="COLLISION",this.visible=!0,this.alive=!0,this.entity=t,this.collideType="Box",this.shape={pos:e,dim:{length:20,height:20},rot:0},this.prev={x:e.x,y:e.y,z:e.z},this.onCollision=s}copy(t){}checkCollision(t){if(t instanceof C){let e=t.shape,s=this.shape;if(0==e.rot&&0==s.rot)return e.pos.x+e.dim.length>s.pos.x&&e.pos.x<s.pos.x+s.dim.length&&e.pos.y+e.dim.height>s.pos.y&&e.pos.y<s.pos.y+s.dim.height}return!1}collides(t){this.onCollision(t)}update(t,e){this.prev.x=this.shape.pos.x,this.prev.y=this.shape.pos.y,this.prev.z=this.shape.pos.z}}class x{constructor(t={x:0,y:0,z:0},e={x:Math.random(),y:Math.random(),z:Math.random()}){this.className="Player",this.transform=new m(-1,t,e);var s=new w((t=>{this.transform.pos.x,this.transform.pos.x<0?(this.transform.pos.x=0,this.transform.vel.x*=-1*Math.random()*2):this.transform.pos.x+20>1e3&&(this.transform.pos.x=980,this.transform.vel.x*=-1*Math.random()*2),this.transform.pos.y<0?(this.transform.pos.y=0,this.transform.vel.y*=-1*Math.random()*2):this.transform.pos.y+20>500&&(this.transform.pos.y=480,this.transform.vel.y*=-1*Math.random()*2)}));this.renderer=new v(-1,this.transform),this.listener=new b(-1,{click:()=>{this.scene&&this.scene.addEntity(this.scene,new x({x:0,y:0,z:0},{x:0,y:1,z:0}),-1),this.transform.vel.x*=-1*Math.random()*2,this.transform.vel.y*=-1*Math.random()*2},test2:()=>{}});let n=new y(-1,this.transform,"/images/Knight_Forward.png");new C(-1,this.transform.pos,(t=>{this.transform.vel.x*=-1,this.transform.vel.y*=-1})),this.components=[this.transform,n,s,this.listener]}}class E{constructor(){this.className="Templar",this.transform=new m(-1,{x:0,y:0,z:20},{x:2,y:2,z:0}),this.components=[new y(-1,this.transform,"/images/Templar.png")]}}class k{constructor(t=-1,e=-1,s=-1,n={x:0,y:0,z:0},i={x:1,y:1}){this.visible=!0,this.alive=!0,this.engineTag="GRAPHICS",this.rendered=!0,this.height=s,this.width=e,this.pos=n,this.transform=new m(t,{x:0,y:0,z:0}),this.entity=t,this.scale=i}copy(t){this.entity=t.entity,this.componentId=t.componentId,this.width=t.width,this.height=t.height,this.visible=t.visible,this.alive=t.alive,this.scale.x=t.scale.x,this.scale.y=t.scale.y}initialize(){}update(t){let e=this.context.ctx;this.height<0&&(this.height=-1*this.height*this.context.canvas.height),this.width<0&&(this.width=-1*this.width*this.context.canvas.width),this.pos.x+=this.transform.pos.x,this.pos.y+=this.transform.pos.y,this.context.ctx.translate(this.transform.pos.x,this.transform.pos.y),e.clearRect(-1*this.pos.x,-1*this.pos.y,this.width,this.height),this.transform.pos.x=0,this.transform.pos.y=0,this.context.ctx.save()}render(t){let e=t;for(let s of e)s!=this&&s.render(t)}}class I{constructor(){this.camera=new k(-1),this.className="MainCamera",this.components=[this.camera,new b(-1,{w:()=>{this.camera.transform.pos.y-=1},a:()=>{this.camera.transform.pos.x-=1},d:()=>{this.camera.transform.pos.x+=1},s:()=>{this.camera.transform.pos.y+=1}})]}}const T=Object.create(null);T.open="0",T.close="1",T.ping="2",T.pong="3",T.message="4",T.upgrade="5",T.noop="6";const S=Object.create(null);Object.keys(T).forEach((t=>{S[T[t]]=t}));const R={type:"error",data:"parser error"},O="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),A="function"==typeof ArrayBuffer,_=(t,e)=>{const s=new FileReader;return s.onload=function(){const t=s.result.split(",")[1];e("b"+t)},s.readAsDataURL(t)},N=({type:t,data:e},s,n)=>{return O&&e instanceof Blob?s?n(e):_(e,n):A&&(e instanceof ArrayBuffer||(i=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?s?n(e):_(new Blob([e]),n):n(T[t]+(e||""));var i},L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<L.length;t++)B[L.charCodeAt(t)]=t;const M="function"==typeof ArrayBuffer,z=(t,e)=>{if(M){const s=(t=>{let e,s,n,i,o,r=.75*t.length,h=t.length,a=0;"="===t[t.length-1]&&(r--,"="===t[t.length-2]&&r--);const c=new ArrayBuffer(r),l=new Uint8Array(c);for(e=0;e<h;e+=4)s=B[t.charCodeAt(e)],n=B[t.charCodeAt(e+1)],i=B[t.charCodeAt(e+2)],o=B[t.charCodeAt(e+3)],l[a++]=s<<2|n>>4,l[a++]=(15&n)<<4|i>>2,l[a++]=(3&i)<<6|63&o;return c})(t);return P(s,e)}return{base64:!0,data:t}},P=(t,e)=>"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t,q=(t,e)=>{if("string"!=typeof t)return{type:"message",data:P(t,e)};const s=t.charAt(0);return"b"===s?{type:"message",data:z(t.substring(1),e)}:S[s]?t.length>1?{type:S[s],data:t.substring(1)}:{type:S[s]}:R},j=String.fromCharCode(30);function D(t){if(t)return function(t){for(var e in D.prototype)t[e]=D.prototype[e];return t}(t)}D.prototype.on=D.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},D.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},D.prototype.off=D.prototype.removeListener=D.prototype.removeAllListeners=D.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((s=n[i])===e||s.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},D.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){n=0;for(var i=(s=s.slice(0)).length;n<i;++n)s[n].apply(this,e)}return this},D.prototype.emitReserved=D.prototype.emit,D.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},D.prototype.hasListeners=function(t){return!!this.listeners(t).length};const H="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function U(t,...e){return e.reduce(((e,s)=>(t.hasOwnProperty(s)&&(e[s]=t[s]),e)),{})}const F=setTimeout,V=clearTimeout;function K(t,e){e.useNativeTimers?(t.setTimeoutFn=F.bind(H),t.clearTimeoutFn=V.bind(H)):(t.setTimeoutFn=setTimeout.bind(H),t.clearTimeoutFn=clearTimeout.bind(H))}class Y extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class J extends D{constructor(t){super(),this.writable=!1,K(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,s){return super.emitReserved("error",new Y(t,e,s)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=q(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const G="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),$={};let W,X=0,Q=0;function Z(t){let e="";do{e=G[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function tt(){const t=Z(+new Date);return t!==W?(X=0,W=t):t+"."+Z(X++)}for(;Q<64;Q++)$[G[Q]]=Q;function et(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}let st=!1;try{st="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const nt=st;function it(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||nt))return new XMLHttpRequest}catch(t){}if(!e)try{return new(H[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function ot(){}const rt=null!=new it({xdomain:!1}).responseType;class ht extends D{constructor(t,e){super(),K(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=U(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new it(t);try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof e.status?e.status:0)}),0))},e.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=ht.requestsCount++,ht.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=ot,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete ht.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function at(){for(let t in ht.requests)ht.requests.hasOwnProperty(t)&&ht.requests[t].abort()}ht.requestsCount=0,ht.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",at):"function"==typeof addEventListener&&addEventListener("onpagehide"in H?"pagehide":"unload",at,!1));const ct="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),lt=H.WebSocket||H.MozWebSocket,pt="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),dt={websocket:class extends J{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,s=pt?{}:U(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=pt?new lt(t,e,s):e?new lt(t,e):new lt(t)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],n=e===t.length-1;N(s,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(t){}n&&ct((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let s="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(s=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=tt()),this.supportsBinary||(t.b64=1);const n=et(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(n.length?"?"+n:"")}check(){return!!lt}},polling:class extends J{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const e="https:"===location.protocol;let s=location.port;s||(s=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=rt&&!e}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const s=t.split(j),n=[];for(let t=0;t<s.length;t++){const i=q(s[t],e);if(n.push(i),"error"===i.type)break}return n})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const s=t.length,n=new Array(s);let i=0;t.forEach(((t,o)=>{N(t,!1,(t=>{n[o]=t,++i===s&&e(n.join(j))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let s="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=tt()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(s=":"+this.opts.port);const n=et(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(n.length?"?"+n:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new ht(this.uri(),t)}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},ut=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ft=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function gt(t){const e=t,s=t.indexOf("["),n=t.indexOf("]");-1!=s&&-1!=n&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let i=ut.exec(t||""),o={},r=14;for(;r--;)o[ft[r]]=i[r]||"";return-1!=s&&-1!=n&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const s=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||s.splice(0,1),"/"==e.slice(-1)&&s.splice(s.length-1,1),s}(0,o.path),o.queryKey=function(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(s[e]=n)})),s}(0,o.query),o}class mt extends D{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=gt(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=gt(e.host).host),K(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},s=t.split("&");for(let t=0,n=s.length;t<n;t++){let n=s[t].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new dt[t](s)}open(){let t;if(this.opts.rememberUpgrade&&mt.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),s=!1;mt.priorWebsocketSuccess=!1;const n=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!s)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;mt.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{s||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){s||(s=!0,c(),e.close(),e=null)}const o=t=>{const s=new Error("probe error: "+t);s.transport=e.name,i(),this.emitReserved("upgradeError",s)};function r(){o("transport closed")}function h(){o("socket closed")}function a(t){e&&t.name!==e.name&&i()}const c=()=>{e.removeListener("open",n),e.removeListener("error",o),e.removeListener("close",r),this.off("close",h),this.off("upgrading",a)};e.once("open",n),e.once("error",o),e.once("close",r),this.once("close",h),this.once("upgrading",a),e.open()}onOpen(){if(this.readyState="open",mt.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+="string"==typeof(e=n)?function(t){let e=0,s=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}(e):Math.ceil(1.33*(e.byteLength||e.size))),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}var e;return this.writeBuffer}write(t,e,s){return this.sendPacket("message",t,e,s),this}send(t,e,s){return this.sendPacket("message",t,e,s),this}sendPacket(t,e,s,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof s&&(n=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const i={type:t,data:e,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?s():t()})):this.upgrading?s():t()),this}onError(t){mt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let s=0;const n=t.length;for(;s<n;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}mt.protocol=4,mt.protocol;const yt="function"==typeof ArrayBuffer,vt=Object.prototype.toString,bt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===vt.call(Blob),wt="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===vt.call(File);function Ct(t){return yt&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||bt&&t instanceof Blob||wt&&t instanceof File}function xt(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,s=t.length;e<s;e++)if(xt(t[e]))return!0;return!1}if(Ct(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return xt(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&xt(t[e]))return!0;return!1}function Et(t){const e=[],s=t.data,n=t;return n.data=kt(s,e),n.attachments=e.length,{packet:n,buffers:e}}function kt(t,e){if(!t)return t;if(Ct(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=kt(t[n],e);return s}if("object"==typeof t&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=kt(t[n],e));return s}return t}function It(t,e){return t.data=Tt(t.data,e),t.attachments=void 0,t}function Tt(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=Tt(t[s],e);else if("object"==typeof t)for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=Tt(t[s],e));return t}const St=5;var Rt;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(Rt||(Rt={}));class Ot{constructor(t){this.replacer=t}encode(t){return t.type!==Rt.EVENT&&t.type!==Rt.ACK||!xt(t)?[this.encodeAsString(t)]:(t.type=t.type===Rt.EVENT?Rt.BINARY_EVENT:Rt.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==Rt.BINARY_EVENT&&t.type!==Rt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=Et(t),s=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(s),n}}class At extends D{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t),e.type===Rt.BINARY_EVENT||e.type===Rt.BINARY_ACK?(this.reconstructor=new _t(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Ct(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===Rt[s.type])throw new Error("unknown packet type "+s.type);if(s.type===Rt.BINARY_EVENT||s.type===Rt.BINARY_ACK){const n=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(n,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(i)}if("/"===t.charAt(e+1)){const n=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);s.nsp=t.substring(n,e)}else s.nsp="/";const n=t.charAt(e+1);if(""!==n&&Number(n)==n){const n=e+1;for(;++e;){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}s.id=Number(t.substring(n,e+1))}if(t.charAt(++e)){const n=this.tryParse(t.substr(e));if(!At.isPayloadValid(s.type,n))throw new Error("invalid payload");s.data=n}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case Rt.CONNECT:return"object"==typeof e;case Rt.DISCONNECT:return void 0===e;case Rt.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case Rt.EVENT:case Rt.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case Rt.ACK:case Rt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class _t{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=It(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Nt(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const Lt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Bt extends D{constructor(t,e,s){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Nt(t,"open",this.onopen.bind(this)),Nt(t,"packet",this.onpacket.bind(this)),Nt(t,"error",this.onerror.bind(this)),Nt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(Lt.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');e.unshift(t);const s={type:Rt.EVENT,data:e,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,n=e.pop();this._registerAckCallback(t,n),s.id=t}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,e){const s=this.flags.timeout;if(void 0===s)return void(this.acks[t]=e);const n=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),s);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(n),e.apply(this,[null,...t])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this.packet({type:Rt.CONNECT,data:t})})):this.packet({type:Rt.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Rt.CONNECT:if(t.data&&t.data.sid){const e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Rt.EVENT:case Rt.BINARY_EVENT:this.onevent(t);break;case Rt.ACK:case Rt.BINARY_ACK:this.onack(t);break;case Rt.DISCONNECT:this.ondisconnect();break;case Rt.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let s=!1;return function(...n){s||(s=!0,e.packet({type:Rt.ACK,id:t,data:n}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Rt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}}function Mt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Mt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-s:t+s}return 0|Math.min(t,this.max)},Mt.prototype.reset=function(){this.attempts=0},Mt.prototype.setMin=function(t){this.ms=t},Mt.prototype.setMax=function(t){this.max=t},Mt.prototype.setJitter=function(t){this.jitter=t};class zt extends D{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,K(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Mt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const i=e.parser||s;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new mt(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const n=Nt(e,"open",(function(){s.onopen(),t&&t()})),i=Nt(e,"error",(e=>{s.cleanup(),s._readyState="closed",this.emitReserved("error",e),t?t(e):s.maybeReconnectOnOpen()}));if(!1!==this._timeout){const t=this._timeout;0===t&&n();const s=this.setTimeoutFn((()=>{n(),e.close(),e.emit("error",new Error("timeout"))}),t);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(n),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Nt(t,"ping",this.onping.bind(this)),Nt(t,"data",this.ondata.bind(this)),Nt(t,"error",this.onerror.bind(this)),Nt(t,"close",this.onclose.bind(this)),Nt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){ct((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s||(s=new Bt(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const t of e)if(this.nsps[t].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Pt={};function qt(t,e){"object"==typeof t&&(e=t,t=void 0);const s=function(t,e="",s){let n=t;s=s||"undefined"!=typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==s?s.protocol+"//"+t:"https://"+t),n=gt(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}(t,(e=e||{}).path||"/socket.io"),n=s.source,i=s.id,o=s.path,r=Pt[i]&&o in Pt[i].nsps;let h;return e.forceNew||e["force new connection"]||!1===e.multiplex||r?h=new zt(n,e):(Pt[i]||(Pt[i]=new zt(n,e)),h=Pt[i]),s.query&&!e.query&&(e.query=s.queryKey),h.socket(s.path,e)}Object.assign(qt,{Manager:zt,Socket:Bt,io:qt,connect:qt});class jt{constructor(t,e){this.tag="EVENTHANDLER",this.deleted=[],this.components=new Map,this.events=[],this.sceneManager=t,this.socket=qt(),e.socketEventMap&&e.socketEventMap(this.socket),window.addEventListener("click",(t=>{this.events.push("click")})),window.addEventListener("keydown",(t=>{this.events.push(t.key),console.log(t.key)}))}register(t){if(null==t.componentId||null==t.componentId){let e=o.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}else t.system=this,this.components.set(t.componentId,t);console.log("Socket Manager registered")}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){console.log("Client Socket Handler"),console.log("Client Socket Handler Components:"+this.components.size),this.components.size;let e=[...this.components.keys()];for(var s of e){var n=this.components.get(s),i=n.eventMap;for(var o of this.events)if(i){var r=i.get(o);r&&r()}n.update(t)}for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}this.events=[]}}class Dt{update(t,e){}constructor(t){this.engineTag="GRAPHICS",this.visible=!0,this.alive=!0,this.rendered=!1,this.transform=new m(this.entity,{x:0,y:0,z:0}),this.text=t}copy(t){this.componentId=t.componentId,this.entity=t.entity,this.text=t.text}render(){this.context&&this.context.ctx.fillText(this.text,20,20)}initialize(){}toJson(){return{entity:this.entity,engineTag:this.engineTag,componentId:this.componentId,text:this.text,visible:this.visible,alive:this.alive}}}class Ht{constructor(){this.text=new Dt("test"),this.components=[this.text],this.className="Label"}}window.onload=()=>{let e=new f({engineType:t.SOCKETCLIENT,graphicsConfig:new g("test","193as",{"background-color":"white",width:"100%",height:"100%"}),sceneConfig:[{scene:new class{constructor(t){this.name="test",this.time=0,this.entities=new Map,this.engineComponents=new Map;for(let e=0;e<t.length;e++)this.entities.set(e,t[e])}}([]),entities:[]}],scriptingConfig:{},collisionConfig:{}}),s=new Map;s.set("Templar",(()=>new E)),s.set("MainCamera",(()=>(console.log("camera made"),new I))),s.set("Player",(()=>new x)),s.set("Label",(()=>new Ht)),e.systems.push(new jt(e.sceneManager,{entityFactoryMap:s,socketEventMap:t=>{t.on("clientInitialize",(t=>{console.log("clientInitialize activated");for(let n of t){let t=e.sceneManager.scenes.get(n.sceneId);if(!t)throw new Error("Scene not found");{let i=s.get(n.entityClass);if(i){let s=i();s.id=n.id,s.scene=e.sceneManager.scenes.get(n.sceneId);for(let t=0;t<s.components.length;t++)s.components[t].copy(n.components[t]);t.entities.set(s.id,s),console.log("Added "+s.className)}}}e.start(4e3)})),t.on("connect",(()=>{console.log("connected");var e=window.location.pathname.split("/");t.emit("joined",window.sessionStorage.getItem("PlayerName"),e[e.length-1]),console.log("emitting"),t.emit("clientInitialize")})),t.on("update",(t=>{for(let s of t){let t=e.sceneManager.scenes.get(s.sceneId);if(!t)throw new Error("Scene not found");for(let e=0;e<s.components.length;e++){let n=t.engineComponents.get(s.components[e].engineTag),i=null==n?void 0:n.get(s.components[e].componentId);i&&i.copy(s.components[e])}}}))}}))}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDN0IsSUFBSW1xQixFQUFXNUYsRUFBT2prQixhQUFhVSxPQUFPL0IsSUFBSWlyQixFQUFXRSxTQUN6RCxJQUFJRCxFQVVBLE1BQU0sSUFBSW5vQixNQUFNLG1CQVRoQixJQUFLLElBQUlULEVBQUksRUFBR0EsRUFBSTJvQixFQUFXaHFCLFdBQVdzQixPQUFRRCxJQUFLLENBQ25ELElBQUlnakIsRUFBUzRGLEVBQVNocUIsaUJBQWlCbEIsSUFBSWlyQixFQUFXaHFCLFdBQVdxQixHQUFHbkIsV0FDaEVMLEVBQU93a0IsYUFBdUMsRUFBU0EsRUFBT3RsQixJQUFJaXJCLEVBQVdocUIsV0FBV3FCLEdBQUdWLGFBQzNGZCxHQUNBQSxFQUFLaUwsS0FBS2tmLEVBQVdocUIsV0FBV3FCLEdBRXhDLENBS1IsSUFDRixJQUVQLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbnN0YW50cy9lbmdpbmVUeXBlLmpzIiwid2VicGFjazovL2VuZ2luZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZW5naW5lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvcmUvc2NlbmVVdGlscy5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29yZS9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3N5c3RlbXMvZXZlbnRzL0V2ZW50SGFuZGxlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvc3RydWN0cy9Qcmlvcml0eVF1ZXVlLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy90eXBlcy9jb21wb25lbnRzL2dyYXBoaWNzL1JlbmRlcmluZ1N0cmF0ZWd5LmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9zeXN0ZW1zL2dyYXBoaWNzL0dyYXBoaWNFbmdpbmUuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9zeXN0ZW1zL3BoeXNpY3MvUGh5c2ljc0VuZ2luZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvc3lzdGVtcy9zY3JpcHRpbmcvU2NyaXB0aW5nRW5naW5lLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb3JlL2NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3N5c3RlbXMvQ29sbGlzaW9uL0NvbGxpc2lvblN5c3RlbS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29yZS9lbmdpbmUuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvcmUvY29uZmlnLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL1BoeXNpY3MvdHJhbnNmb3JtLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL1Nwcml0ZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9SZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvRXZlbnQvTGlzdGVuZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvU2NyaXB0L1NjcmlwdC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9Db2xsaXNpb24vQ29sbGlkZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9HYW1lRnJvbnRlbmQvc2NlbmVzL2VudGl0aWVzL1BsYXllci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L0dhbWVGcm9udGVuZC9zY2VuZXMvZW50aXRpZXMvVGVtcGxhci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9DYW1lcmEuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9HYW1lRnJvbnRlbmQvc2NlbmVzL2VudGl0aWVzL01haW5DYW1lcmEuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvZXNtL2NvbW1vbnMuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvZXNtL2VuY29kZVBhY2tldC5icm93c2VyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2VzbS9jb250cmliL2Jhc2U2NC1hcnJheWJ1ZmZlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vZGVjb2RlUGFja2V0LmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvZXNtL2luZGV4LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9Ac29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyL2luZGV4Lm1qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vZ2xvYmFsVGhpcy5icm93c2VyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS91dGlsLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS90cmFuc3BvcnQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2NvbnRyaWIveWVhc3QuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2NvbnRyaWIvcGFyc2Vxcy5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9oYXMtY29ycy5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy94bWxodHRwcmVxdWVzdC5icm93c2VyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS90cmFuc3BvcnRzL3BvbGxpbmcuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvd2Vic29ja2V0LWNvbnN0cnVjdG9yLmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvd2Vic29ja2V0LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS90cmFuc3BvcnRzL2luZGV4LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL3BhcnNldXJpLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9zb2NrZXQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2luZGV4LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2J1aWxkL2VzbS9pcy1iaW5hcnkuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvYnVpbGQvZXNtL2JpbmFyeS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL29uLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9zb2NrZXQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL2NvbnRyaWIvYmFja28yLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9tYW5hZ2VyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vdXJsLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb3JlL21hbmFnZXJzL1NvY2tldE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvVGV4dC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L0dhbWVGcm9udGVuZC9zY2VuZXMvZW50aXRpZXMvTGFiZWwuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9HYW1lRnJvbnRlbmQvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsImV4cG9ydCB2YXIgRW5naW5lVHlwZTtcclxuKGZ1bmN0aW9uIChFbmdpbmVUeXBlKSB7XHJcbiAgICBFbmdpbmVUeXBlW0VuZ2luZVR5cGVbXCJTT0NLRVRDTElFTlRcIl0gPSAwXSA9IFwiU09DS0VUQ0xJRU5UXCI7XHJcbiAgICBFbmdpbmVUeXBlW0VuZ2luZVR5cGVbXCJTT0NLRVRTRVJWRVJcIl0gPSAxXSA9IFwiU09DS0VUU0VSVkVSXCI7XHJcbiAgICBFbmdpbmVUeXBlW0VuZ2luZVR5cGVbXCJDTElFTlRPTkxZXCJdID0gMl0gPSBcIkNMSUVOVE9OTFlcIjtcclxufSkoRW5naW5lVHlwZSB8fCAoRW5naW5lVHlwZSA9IHt9KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuZ2luZVR5cGUuanMubWFwIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IFNjZW5lTWFuYWdlciB9IGZyb20gXCIuL21hbmFnZXJzL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5leHBvcnQgZnVuY3Rpb24gYWRkU29ja2V0RW50aXR5KHNjZW5lLCBlbnRpdHksIGlkKSB7XHJcbiAgICB2YXIgdW5pcXVlSWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlSWQoKTtcclxuICAgIGVudGl0eS5pZCA9IHVuaXF1ZUlkO1xyXG4gICAgZW50aXR5LnNjZW5lID0gc2NlbmU7XHJcbiAgICBzY2VuZS5lbnRpdGllcy5zZXQodW5pcXVlSWQsIGVudGl0eSk7XHJcbiAgICBmb3IgKHZhciBjb21wIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgdmFyIGNvbXBMaXN0ID0gc2NlbmUuZW5naW5lQ29tcG9uZW50cy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgIGlmIChjb21wTGlzdCkge1xyXG4gICAgICAgICAgICBsZXQgc3lzdGVtID0gc2NlbmUuc2NlbmVNYW5hZ2VyLnN5c3RlbVRhZy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICBpZiAoc3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBzeXN0ZW0ucmVnaXN0ZXIoY29tcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbXAuZW5naW5lVGFnICsgXCIgdGFnZ2VkIFN5c3RlbSBpcyBub3QgZm91bmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJzdWNjZXNzZnVsbHkgYWRkZWQgZW50aXR5c1wiKTtcclxuICAgIHJldHVybiBlbnRpdHk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVudGl0eShzY2VuZSwgZW50aXR5KSB7XHJcbiAgICB2YXIgdW5pcXVlSWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlSWQoKTtcclxuICAgIGVudGl0eS5pZCA9IHVuaXF1ZUlkO1xyXG4gICAgZW50aXR5LnNjZW5lID0gc2NlbmU7XHJcbiAgICBzY2VuZS5lbnRpdGllcy5zZXQodW5pcXVlSWQsIGVudGl0eSk7XHJcbiAgICBmb3IgKHZhciBjb21wIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgdmFyIGNvbXBMaXN0ID0gc2NlbmUuZW5naW5lQ29tcG9uZW50cy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgIGNvbXAuZW50aXR5ID0gZW50aXR5LmlkO1xyXG4gICAgICAgIGlmIChjb21wTGlzdCkge1xyXG4gICAgICAgICAgICBsZXQgc3lzdGVtID0gc2NlbmUuc2NlbmVNYW5hZ2VyLnN5c3RlbVRhZy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICBpZiAoc3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBzeXN0ZW0ucmVnaXN0ZXIoY29tcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbXAuZW5naW5lVGFnICsgXCJkb2VzIG5vdCBleGlzdFwiKTtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IFNjZW5lTWFuYWdlci5nZXRVbmlxdWVDb21wb25lbnRJZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc2Z1bGx5IGFkZGVkIGVudGl0eVwiKTtcclxuICAgIHJldHVybiBlbnRpdHk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUVudGl0eShzY2VuZSwgaWQpIHtcclxuICAgIGxldCBlbnRpdHkgPSBzY2VuZS5lbnRpdGllcy5nZXQoaWQpO1xyXG4gICAgaWYgKGVudGl0eSkge1xyXG4gICAgICAgIHNjZW5lLmVudGl0aWVzLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgZm9yICh2YXIgYyBvZiBlbnRpdHkuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBvbmVudFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3lzdGVtXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjLnN5c3RlbSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcG9uZW50IGlkIFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYy5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgIGMuc3lzdGVtLnVucmVnaXN0ZXIoYy5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVudGl0eTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW50aXR5KHNjZW5lLCBpZCkge1xyXG4gICAgcmV0dXJuIHNjZW5lLmVudGl0aWVzLmdldChpZCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChzY2VuZSwgY29tcCkge1xyXG4gICAgY29tcC5jb21wb25lbnRJZCA9IFNjZW5lTWFuYWdlci5nZXRVbmlxdWVDb21wb25lbnRJZCgpO1xyXG4gICAgcmV0dXJuIGNvbXA7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NlbmVVdGlscy5qcy5tYXAiLCJpbXBvcnQgeyBhZGRFbnRpdHksIGFkZFNvY2tldEVudGl0eSB9IGZyb20gXCIuLi9zY2VuZVV0aWxzLmpzXCI7XHJcbmltcG9ydCB7IEVuZ2luZVR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIFNjZW5lTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmVDb25maWcsIHNjZW5lcyA9IFtdLCBzeXN0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW1zID0gc3lzdGVtcztcclxuICAgICAgICB0aGlzLnN5c3RlbVRhZyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLnNjZW5lcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmVuZ2luZUNvbmZpZyA9IGVuZ2luZUNvbmZpZztcclxuICAgICAgICBsZXQgZW5naW5lVHlwZSA9IGVuZ2luZUNvbmZpZy5lbmdpbmVUeXBlO1xyXG4gICAgICAgIGlmIChlbmdpbmVUeXBlID09IEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5UKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRW50aXR5ID0gYWRkU29ja2V0RW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlbmdpbmVUeXBlID09IEVuZ2luZVR5cGUuU09DS0VUU0VSVkVSKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRW50aXR5ID0gYWRkRW50aXR5O1xyXG4gICAgICAgICAgICAvL3N5c3RlbXMucHVzaChuZXcgU29ja2V0U2VydmVyTWFuYWdlcih0aGlzKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRW50aXR5ID0gYWRkRW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjZW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbmV3Q29uZmlnID0gc2NlbmVzW2ldO1xyXG4gICAgICAgICAgICBsZXQgbmV3U2NlbmUgPSBuZXdDb25maWcuc2NlbmU7XHJcbiAgICAgICAgICAgIG5ld1NjZW5lLnNjZW5lTWFuYWdlciA9IHRoaXM7XHJcbiAgICAgICAgICAgIG5ld1NjZW5lLmVuZ2luZUNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIG5ld1NjZW5lLmFkZEVudGl0eSA9IHRoaXMuYWRkRW50aXR5O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkluIFNjZW5lIE1hbmFnZXJcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVzLnNldChuZXdTY2VuZS5uYW1lLCBuZXdTY2VuZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NlbmVDb25maWdzID0gc2NlbmVzO1xyXG4gICAgICAgIHRoaXMuY3VycmVudElkeCA9IHRoaXMuc2NlbmVDb25maWdzWzBdLnNjZW5lLm5hbWU7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW1zID0gc3lzdGVtcztcclxuICAgIH1cclxuICAgIHN3aXRjaFNjZW5lcyhrZXkpIHtcclxuICAgICAgICBsZXQgc2NlbmUgPSB0aGlzLnNjZW5lcy5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoc2NlbmUpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgc3lzIG9mIHRoaXMuc3lzdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXAgPSBzY2VuZS5lbmdpbmVDb21wb25lbnRzLmdldChzeXMudGFnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wKSB7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcImVycm9yIGluIHN0YXJ0IG1ldGhvZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldEN1cnJlbnRTY2VuZSgpIHtcclxuICAgICAgICBsZXQgY3VyciA9IHRoaXMuc2NlbmVzLmdldCh0aGlzLmN1cnJlbnRJZHgpO1xyXG4gICAgICAgIGlmIChjdXJyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW50IGdldCBjdXJyZW50IHNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRVbmlxdWVJZCgpIHtcclxuICAgICAgICByZXR1cm4gU2NlbmVNYW5hZ2VyLmlkKys7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0VW5pcXVlQ29tcG9uZW50SWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIFNjZW5lTWFuYWdlci5jb21wb25lbnRJZCsrO1xyXG4gICAgfVxyXG59XHJcblNjZW5lTWFuYWdlci5pZCA9IDA7XHJcblNjZW5lTWFuYWdlci5jb21wb25lbnRJZCA9IDA7XHJcbmNsYXNzIERlZmF1bHRTY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcInNjZW5lXCI7XHJcbiAgICAgICAgdGhpcy50aW1lID0gMDtcclxuICAgICAgICB0aGlzLmVudGl0aWVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZW5naW5lQ29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2VuZU1hbmFnZXIuanMubWFwIiwiaW1wb3J0IHsgU2NlbmVNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2NvcmUvbWFuYWdlcnMvU2NlbmVNYW5hZ2VyLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBFdmVudEhhbmRsZXIge1xyXG4gICAgY29uc3RydWN0b3IoZXZlbnRDb25maWcgPSB7XHJcbiAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgIG1vdXNlOiBmYWxzZVxyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMudGFnID0gXCJFVkVOVEhBTkRMRVJcIjtcclxuICAgICAgICB0aGlzLmRlbGV0ZWQgPSBbXTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcclxuICAgICAgICB0aGlzLmV2ZW50Q29uZmlnID0gZXZlbnRDb25maWc7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMucHVzaChcImNsaWNrXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMucHVzaChldmVudC5rZXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGlmIChjb21wLmNvbXBvbmVudElkID09IHVuZGVmaW5lZCB8fCBjb21wLmNvbXBvbmVudElkID09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUNvbXBvbmVudElkKCk7XHJcbiAgICAgICAgICAgIGNvbXAuY29tcG9uZW50SWQgPSBpZDtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGlkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJFdmVudCBIYW5kbGVyIHJlZ2lzdGVyZWRcIik7XHJcbiAgICB9XHJcbiAgICB1bnJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBsZXQgZGVsZXRlZCA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlZC5hbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZWQucHVzaChkZWxldGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkV2ZW50IEhhbmRsZXJcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJFdmVudCAgSGFuZGxlciBDb21wb25lbnRzOlwiICsgdGhpcy5jb21wb25lbnRzLnNpemUpO1xyXG4gICAgICAgIHZhciBsZW4gPSB0aGlzLmNvbXBvbmVudHMuc2l6ZTtcclxuICAgICAgICBsZXQga2V5cyA9IFsuLi50aGlzLmNvbXBvbmVudHMua2V5cygpXTtcclxuICAgICAgICBmb3IgKHZhciBjb21wIG9mIGtleXMpIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmFibGUgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KGNvbXApO1xyXG4gICAgICAgICAgICB2YXIgZXZlbnRNYXAgPSBsaXN0ZW5hYmxlLmV2ZW50TWFwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBlIG9mIHRoaXMuZXZlbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRNYXApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZnVuYyA9IGV2ZW50TWFwLmdldChlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxpc3RlbmFibGUudXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuZGVsZXRlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21wID0gdGhpcy5kZWxldGVkLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZGVsZXRlKGNvbXAgPT09IG51bGwgfHwgY29tcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcC5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRIYW5kbGVyLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBQcmlvcml0eVF1ZXVlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcclxuICAgICAgICB0aGlzLnNpemUgPSAwO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gICAgc3dhcChpZHgxLCBpZHgyKSB7XHJcbiAgICAgICAgdmFyIHRtcCA9IHRoaXMuaXRlbXNbaWR4MV07XHJcbiAgICAgICAgdGhpcy5pdGVtc1tpZHgxXSA9IHRoaXMuaXRlbXNbaWR4Ml07XHJcbiAgICAgICAgdGhpcy5pdGVtc1tpZHgyXSA9IHRtcDtcclxuICAgIH1cclxuICAgIC8vIEFkZCBhbiBpdGVtIHRvIHRoZSBxdWV1ZVxyXG4gICAgZW5xdWV1ZShpdGVtLCBwcmlvcml0eSkge1xyXG4gICAgICAgIHRoaXMuaXRlbXMucHVzaCh7XHJcbiAgICAgICAgICAgIGRhdGE6IGl0ZW0sXHJcbiAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgdmFyIHBhcmVudElkeCA9IE1hdGguZmxvb3IoKGlkeCAtIDEpIC8gMik7XHJcbiAgICAgICAgd2hpbGUgKGlkeCA+IDAgJiYgdGhpcy5pdGVtc1tpZHhdLnByaW9yaXR5ID4gdGhpcy5pdGVtc1twYXJlbnRJZHhdLnByaW9yaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3dhcChpZHgsIHBhcmVudElkeCk7XHJcbiAgICAgICAgICAgIGlkeCA9IHBhcmVudElkeDtcclxuICAgICAgICAgICAgcGFyZW50SWR4ID0gTWF0aC5mbG9vcigoaWR4IC0gMSkgLyAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaXplKys7XHJcbiAgICB9XHJcbiAgICAvLyBSZW1vdmUgYW5kIHJldHVybiB0aGUgaGlnaGVzdCBwcmlvcml0eSBpdGVtIGZyb20gdGhlIHF1ZXVlXHJcbiAgICBkZXF1ZXVlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNpemUgPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zaXplID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zaXplLS07XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zWzBdLmRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwb3BwZWQgPSB0aGlzLml0ZW1zWzBdO1xyXG4gICAgICAgIHRoaXMuc2l6ZS0tO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJVbnBvcHBlZCBcIiArIHRoaXMuaXRlbXMubGVuZ3RoKVxyXG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5pdGVtcy5wb3AoKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiUG9wcGVkIFwiICsgdGhpcy5pdGVtcy5sZW5ndGgpXHJcbiAgICAgICAgaWYgKGxhc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5pdGVtc1swXSA9IGxhc3Q7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIklubGFzdFwiICsgdGhpcy5pdGVtc1tpXS5kYXRhKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgIHdoaWxlIChpZHggPD0gdGhpcy5zaXplIC0gMSkge1xyXG4gICAgICAgICAgICBsZXQgbGVmdCA9IDIgKiBpZHggKyAxO1xyXG4gICAgICAgICAgICBsZXQgcmlnaHQgPSAyICogaWR4ICsgMjtcclxuICAgICAgICAgICAgaWYgKGxlZnQgPD0gdGhpcy5zaXplIC0gMSAmJiByaWdodCA8PSB0aGlzLnNpemUgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRJZHggPSB0aGlzLml0ZW1zW2xlZnRdLnByaW9yaXR5ID4gdGhpcy5pdGVtc1tyaWdodF0ucHJpb3JpdHkgPyBsZWZ0IDogcmlnaHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pdGVtc1tjaGlsZElkeF0ucHJpb3JpdHkgPiB0aGlzLml0ZW1zW2lkeF0ucHJpb3JpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN3YXAoaWR4LCBjaGlsZElkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gY2hpbGRJZHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiZmlyc3QgYnJlYWtcIilcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChsZWZ0IDw9IHRoaXMuc2l6ZSAtIDEpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLml0ZW1zW2xlZnRdLnByaW9yaXR5ID4gdGhpcy5pdGVtc1tpZHhdLnByaW9yaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwKGlkeCwgbGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gbGVmdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTZWNvbmQgYnJlYWtcIilcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJUaGlyZCBicmVha1wiKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBvcHBlZC5kYXRhO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByaW9yaXR5UXVldWUuanMubWFwIiwiaW1wb3J0IHsgUHJpb3JpdHlRdWV1ZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9lbmdpbmUvc3JjL3N0cnVjdHMvUHJpb3JpdHlRdWV1ZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgUGFpbnRlclN0cmF0ZWd5IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucXVldWUgPSBuZXcgUHJpb3JpdHlRdWV1ZSgpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKHJlbmRlcmluZ0Fycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW5zaWRlIFBhaW5yZXJcIik7XHJcbiAgICAgICAgZm9yIChsZXQgY2FtZXJhcyBvZiByZW5kZXJpbmdBcnIpIHtcclxuICAgICAgICAgICAgbGV0IGxpc3QgPSBbXTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnNpZGUgQ2FtZXJhIGxvb3BcIik7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLnNpemUgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHRoaXMucXVldWUuZGVxdWV1ZSgpKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVuZGVyIFF1ZXVlIHNpemUgaXMgXCIgKyB0aGlzLnF1ZXVlLnNpemUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbWVyYXMucmVuZGVyKGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlZ2lzdGVyU3RyYXRlZ3koY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5lbnF1ZXVlKGNvbXBvbmVudCwgY29tcG9uZW50LnRyYW5zZm9ybS5wb3Mueik7XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLnF1ZXVlLmNsZWFyKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDbGVhcmVkIHF1ZXVlIGxlbmd0aCBpcyBcIiArIHRoaXMucXVldWUuc2l6ZSk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyaW5nU3RyYXRlZ3kuanMubWFwIiwiaW1wb3J0IHsgR1JBUEhJQ1NfVEFHIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzXCI7XHJcbmltcG9ydCB7IFNjZW5lTWFuYWdlciB9IGZyb20gXCIuLi8uLi9jb3JlL21hbmFnZXJzL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgeyBQYWludGVyU3RyYXRlZ3kgfSBmcm9tIFwiLi4vLi4vdHlwZXMvY29tcG9uZW50cy9ncmFwaGljcy9SZW5kZXJpbmdTdHJhdGVneS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgR3JhcGhpY3NFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoZ3JhcGhpY3NDb25maWcsIGNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLnRhZyA9IEdSQVBISUNTX1RBRztcclxuICAgICAgICB0aGlzLnJlbmRlcmluZyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NDb25maWcgPSBncmFwaGljc0NvbmZpZztcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICB0aGlzLnJlbmRlclN0cmF0ZWd5ID0gbmV3IFBhaW50ZXJTdHJhdGVneSgpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dEluZm8gPSBjb250ZXh0O1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGlmIChjb21wLmNvbXBvbmVudElkID09IHVuZGVmaW5lZCB8fCBjb21wLmNvbXBvbmVudElkID09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZWdpc3RlcmluZyB1bmRlZmluZWQgaWQgaW4gR2dyYXBoaWNzXCIpO1xyXG4gICAgICAgICAgICBsZXQgaWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKTtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGlkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbXAuY29udGV4dCA9IHRoaXMuY29udGV4dEluZm87XHJcbiAgICAgICAgICAgIGlmIChjb21wLnJlbmRlcmVkID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyaW5nLnB1c2goY29tcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcC5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoaWQsIGNvbXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJHcmFwaGljcyBSZWdpc3RlcmluZyBpZFwiICsgY29tcC5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgY29tcC5jb250ZXh0ID0gdGhpcy5jb250ZXh0SW5mbztcclxuICAgICAgICAgICAgaWYgKGNvbXAucmVuZGVyZWQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJpbmcucHVzaChjb21wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21wLmluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChjb21wLmNvbXBvbmVudElkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1bnJlZ2lzdGVyKGlkKSB7XHJcbiAgICAgICAgbGV0IGRlbGV0ZWQgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KGlkKTtcclxuICAgICAgICBpZiAoZGVsZXRlZCkge1xyXG4gICAgICAgICAgICBkZWxldGVkLmFsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKGRlbGV0ZWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkZWxldGVkLmVudGl0eSArIFwiIHMgQ29tcG9uZW50IHdpdGggaWQgXCIgKyBkZWxldGVkLmNvbXBvbmVudElkICsgXCJpcyBwb3BwZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgdmFyIGN0eCA9IHRoaXMuY29udGV4dEluZm8uY3R4O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiR3JhcGhpY3MgZW5naW5lIHJ1bm5pbmdcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHcmFwaGljcyBDb21wb25lbnRzOiBcIiArIHRoaXMuY29tcG9uZW50cy5zaXplKTtcclxuICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBsZXQgY29tcCA9IGNbMV07XHJcbiAgICAgICAgICAgIGNvbXAudXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgaWYgKGNvbXAucmVuZGVyZWQgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU3RyYXRlZ3kucmVnaXN0ZXJTdHJhdGVneShjb21wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbmRlcmluZyBDb21wb25lbnRzOiBcIiArIHRoaXMucmVuZGVyaW5nLmxlbmd0aCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJTdHJhdGVneS5yZW5kZXIodGhpcy5yZW5kZXJpbmcpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyU3RyYXRlZ3kuY2xlYXIoKTtcclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmRlbGV0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29tcCA9PT0gbnVsbCB8fCBjb21wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRTY2VuZShzY2VuZSkge1xyXG4gICAgICAgIHZhciBnZXQgPSBzY2VuZS5lbmdpbmVDb21wb25lbnRzLmdldCh0aGlzLnRhZyk7XHJcbiAgICAgICAgaWYgKGdldCkge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljRW5naW5lLmpzLm1hcCIsImV4cG9ydCBjb25zdCBQSFlTSUNTX1RBRyA9IFwiUEhZU0lDU1wiO1xyXG5leHBvcnQgY29uc3QgR1JBUEhJQ1NfVEFHID0gXCJHUkFQSElDU1wiO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnRUeXBlLmpzLm1hcCIsImltcG9ydCB7IFBIWVNJQ1NfVEFHIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzXCI7XHJcbmltcG9ydCB7IFNjZW5lTWFuYWdlciB9IGZyb20gXCIuLi8uLi9jb3JlL21hbmFnZXJzL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5leHBvcnQgY2xhc3MgUGh5c2ljc0VuZ2luZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnRhZyA9IFBIWVNJQ1NfVEFHO1xyXG4gICAgICAgIHRoaXMuZGVsZXRlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBpZiAoY29tcC5jb21wb25lbnRJZCA9PSB1bmRlZmluZWQgfHwgY29tcC5jb21wb25lbnRJZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IFNjZW5lTWFuYWdlci5nZXRVbmlxdWVDb21wb25lbnRJZCgpO1xyXG4gICAgICAgICAgICBjb21wLmNvbXBvbmVudElkID0gaWQ7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChpZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoY29tcC5jb21wb25lbnRJZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdW5yZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgbGV0IGRlbGV0ZWQgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KGNvbXApO1xyXG4gICAgICAgIGlmIChkZWxldGVkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZWQuYWxpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVkLnB1c2goZGVsZXRlZCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRlbGV0ZWQuZW50aXR5ICsgXCIgcyBDb21wb25lbnQgd2l0aCBpZCBcIiArIGRlbGV0ZWQuY29tcG9uZW50SWQgKyBcImlzIHBvcHBlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBoeXNpY3MgZW5naW5lIHJ1bm5pbmdcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQaHlzaWNzIENvbXBvbmVudHM6IFwiICsgdGhpcy5jb21wb25lbnRzLnNpemUpO1xyXG4gICAgICAgIGZvciAodmFyIGNvbXAgb2YgdGhpcy5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbXBbMV0udXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuZGVsZXRlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21wID0gdGhpcy5kZWxldGVkLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuZGVsZXRlKGNvbXAgPT09IG51bGwgfHwgY29tcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcC5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBoeXNpY3NFbmdpbmUuanMubWFwIiwiaW1wb3J0IHsgU2NlbmVNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2NvcmUvbWFuYWdlcnMvU2NlbmVNYW5hZ2VyLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBTY3JpcHRpbmdFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50YWcgPSBcIlNDUklQVElOR1wiO1xyXG4gICAgICAgIHRoaXMuZGVsZXRlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBpZiAoY29tcC5jb21wb25lbnRJZCA9PSB1bmRlZmluZWQgfHwgY29tcC5jb21wb25lbnRJZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IFNjZW5lTWFuYWdlci5nZXRVbmlxdWVDb21wb25lbnRJZCgpO1xyXG4gICAgICAgICAgICBjb21wLmNvbXBvbmVudElkID0gaWQ7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChpZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb21wLmNvbXBvbmVudElkID0gY29tcC5jb21wb25lbnRJZDtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGNvbXAuY29tcG9uZW50SWQsIGNvbXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVucmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGxldCBkZWxldGVkID0gdGhpcy5jb21wb25lbnRzLmdldChjb21wKTtcclxuICAgICAgICBpZiAoZGVsZXRlZCkge1xyXG4gICAgICAgICAgICBkZWxldGVkLmFsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKGRlbGV0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2NyaXB0aW5nIGVuZ2luZSBydW5uaW5nXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2NyaXB0aW5nIENvbXBvbmVudHM6IFwiICsgdGhpcy5jb21wb25lbnRzLnNpemUpO1xyXG4gICAgICAgIGZvciAodmFyIGNvbXAgb2YgdGhpcy5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbXBbMV0uY2FsbGJhY2soZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmRlbGV0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29tcCA9PT0gbnVsbCB8fCBjb21wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NyaXB0aW5nRW5naW5lLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBDb250ZXh0SW5mbyB7XHJcbiAgICBjb25zdHJ1Y3RvcihncmFwaGljc0NvbmZpZykge1xyXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NDb25maWcgPSBncmFwaGljc0NvbmZpZztcclxuICAgICAgICB0aGlzLmdyYXBoaWNzQ29uZmlnID0gZ3JhcGhpY3NDb25maWc7XHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICB0aGlzLnNldHVwKCk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSB0aGlzLmdlbmVyYXRlQ2FudmFzKCk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSAxMDAwO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IDUwMDtcclxuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB0aGlzLmRpdiA9IHRoaXMuZ2VuZXJhdGVEaXYodGhpcy5ncmFwaGljc0NvbmZpZy5wYXJlbnQpO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVEaXYocGFyZW50KSB7XHJcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5pZCA9IHBhcmVudDtcclxuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBcIjFcIjtcclxuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCIvaW1hZ2VzL3Rlc3QuanBnXCI7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0ZXN0XCIpO1xyXG4gICAgICAgIHJldHVybiBkaXY7XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZUNhbnZhcygpIHtcclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkNBTlZBU1wiKTtcclxuICAgICAgICBjYW52YXMuaWQgPSB0aGlzLmdyYXBoaWNzQ29uZmlnLmNhbnZhc0lEO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGFyc2VTdHlsZSh0aGlzLmdyYXBoaWNzQ29uZmlnLnN0eWxlKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJCZWZvcmVcIik7XHJcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aGlzLnBhcnNlU3R5bGUodGhpcy5ncmFwaGljc0NvbmZpZy5zdHlsZSkpO1xyXG4gICAgICAgIHJldHVybiBjYW52YXM7XHJcbiAgICB9XHJcbiAgICBnZXRDdHgoKSB7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzKCk7XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICB9XHJcbiAgICBnZXRDYW52YXMoKSB7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZ3JhcGhpY3NDb25maWcuY2FudmFzSUQpO1xyXG4gICAgICAgIGlmIChjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJlbmdpbmVDYW52YXMgc2hvdWxkIGJlIGEgcmVzZXJ2ZWQgaWQgZm9yIERPTSBDb21wb25lbnRzXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBhcnNlU3R5bGUoc3R5bGVPYmplY3QpIHtcclxuICAgICAgICB2YXIgY3NzQXJyYXkgPSBPYmplY3QuZW50cmllcyhzdHlsZU9iamVjdCkubWFwKChbaywgdl0pID0+IGsgKyBcIjpcIiArIHYgKyBcIjtcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5ncmFwaGljc0NvbmZpZy5wYXJlbnQpO1xyXG4gICAgICAgIHJldHVybiBjc3NBcnJheS5qb2luKFwiIFwiKTtcclxuICAgIH1cclxuICAgIHNldHVwKCkge1xyXG4gICAgICAgIGlmICh0cnVlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBcIi9pbWFnZXMvdGVzdC5qcGdcIjtcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLnpJbmRleCA9IFwiLTFcIjtcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0LmpzLm1hcCIsImltcG9ydCB7IFNjZW5lTWFuYWdlciB9IGZyb20gXCIuLi8uLi9jb3JlL21hbmFnZXJzL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uU3lzdGVtIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudGFnID0gXCJDT0xMSVNJT05cIjtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICB9XHJcbiAgICByZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgaWYgKGNvbXAuY29tcG9uZW50SWQgPT0gdW5kZWZpbmVkIHx8IGNvbXAuY29tcG9uZW50SWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKTtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGlkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoaWQsIGNvbXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGNvbXAuY29tcG9uZW50SWQsIGNvbXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVucmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGxldCBkZWxldGVkID0gdGhpcy5jb21wb25lbnRzLmdldChjb21wKTtcclxuICAgICAgICBpZiAoZGVsZXRlZCkge1xyXG4gICAgICAgICAgICBkZWxldGVkLmFsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKGRlbGV0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29sbGlzaW9uIFN5c3RlbSBSdW5uaW5nXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29sbGlzaW9uIENvbXBvbmVudHM6IFwiICsgdGhpcy5jb21wb25lbnRzLnNpemUpO1xyXG4gICAgICAgIGZvciAodmFyIFtrZXkxLCBjb2wxXSBvZiB0aGlzLmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgaWYgKGNvbDEudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgW2tleTIsIGNvbDJdIG9mIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wyLnZpc2libGUgJiYgY29sMS5jaGVja0NvbGxpc2lvbihjb2wyKSAmJiBjb2wxICE9IGNvbDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sMS5jb2xsaWRlcyhjb2wyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNvbDIuYWxpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVkLnB1c2goY29sMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlICh0aGlzLmRlbGV0ZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgcG9wcGVkID0gdGhpcy5kZWxldGVkLnBvcCgpO1xyXG4gICAgICAgICAgICBpZiAocG9wcGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNvbXBvbmVudChwb3BwZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGVsZXRlQ29tcG9uZW50KGNvbCkge1xyXG4gICAgICAgIGlmIChjb2wuY29tcG9uZW50SWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmRlbGV0ZShjb2wuY29tcG9uZW50SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xsaXNpb25TeXN0ZW0uanMubWFwIiwiaW1wb3J0IHsgRXZlbnRIYW5kbGVyIH0gZnJvbSBcIi4uL3N5c3RlbXMvZXZlbnRzL0V2ZW50SGFuZGxlci5qc1wiO1xyXG5pbXBvcnQgeyBHcmFwaGljc0VuZ2luZSB9IGZyb20gXCIuLi9zeXN0ZW1zL2dyYXBoaWNzL0dyYXBoaWNFbmdpbmUuanNcIjtcclxuaW1wb3J0IHsgUGh5c2ljc0VuZ2luZSB9IGZyb20gXCIuLi9zeXN0ZW1zL3BoeXNpY3MvUGh5c2ljc0VuZ2luZS5qc1wiO1xyXG5pbXBvcnQgeyBTY3JpcHRpbmdFbmdpbmUgfSBmcm9tIFwiLi4vc3lzdGVtcy9zY3JpcHRpbmcvU2NyaXB0aW5nRW5naW5lLmpzXCI7XHJcbmltcG9ydCB7IENvbnRleHRJbmZvIH0gZnJvbSBcIi4vY29udGV4dC5qc1wiO1xyXG5pbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuaW1wb3J0IHsgQ29sbGlzaW9uU3lzdGVtIH0gZnJvbSBcIi4uL3N5c3RlbXMvQ29sbGlzaW9uL0NvbGxpc2lvblN5c3RlbS5qc1wiO1xyXG5pbXBvcnQgeyBFbmdpbmVUeXBlIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9lbmdpbmVUeXBlLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZUNvbmZpZyA9IHtcclxuICAgICAgICBlbmdpbmVUeXBlOiBFbmdpbmVUeXBlLkNMSUVOVE9OTFksXHJcbiAgICB9LCBzeXN0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXNJRCA9IFwiZW5naW5lQ2FudmFzXCI7XHJcbiAgICAgICAgdGhpcy5zeXN0ZW1zID0gW107XHJcbiAgICAgICAgdGhpcy50aW1lID0gMDtcclxuICAgICAgICB0aGlzLmVuZ2luZUNvbmZpZyA9IGdhbWVDb25maWc7XHJcbiAgICAgICAgaWYgKGdhbWVDb25maWcuZ3JhcGhpY3NDb25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0SW5mbyA9IG5ldyBDb250ZXh0SW5mbyhnYW1lQ29uZmlnLmdyYXBoaWNzQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lQ29uZmlnLmV2ZW50Q29uZmlnICYmIHRoaXMuY29udGV4dEluZm8pIHtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2gobmV3IEV2ZW50SGFuZGxlcih0aGlzLmVuZ2luZUNvbmZpZy5ldmVudENvbmZpZykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVDb25maWcucGh5c2ljc0NvbmZpZykge1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbXMucHVzaChuZXcgUGh5c2ljc0VuZ2luZSh0aGlzLmVuZ2luZUNvbmZpZy5waHlzaWNzQ29uZmlnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZUNvbmZpZy5zY3JpcHRpbmdDb25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2gobmV3IFNjcmlwdGluZ0VuZ2luZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN5c3RlbXMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgc3lzIG9mIHN5c3RlbXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHN5cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lQ29uZmlnLmNvbGxpc2lvbkNvbmZpZykge1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbXMucHVzaChuZXcgQ29sbGlzaW9uU3lzdGVtKHRoaXMuZW5naW5lQ29uZmlnLmNvbGxpc2lvbkNvbmZpZykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVDb25maWcuZ3JhcGhpY3NDb25maWcgJiYgdGhpcy5jb250ZXh0SW5mbykge1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzID0gbmV3IEdyYXBoaWNzRW5naW5lKHRoaXMuZW5naW5lQ29uZmlnLmdyYXBoaWNzQ29uZmlnLCB0aGlzLmNvbnRleHRJbmZvKTtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2godGhpcy5ncmFwaGljcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHN5cyBvZiBzeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN5c3RlbXMucHVzaChzeXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NlbmVNYW5hZ2VyID0gbmV3IFNjZW5lTWFuYWdlcih0aGlzLmVuZ2luZUNvbmZpZywgdGhpcy5lbmdpbmVDb25maWcuc2NlbmVDb25maWcsIHRoaXMuc3lzdGVtcyk7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKlxyXG4gICAgICAgICBcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnXHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIlxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gXCIwXCJcclxuICAgICAgICB0aGlzLnNldHVwKClcclxuICAgICAgICB0aGlzLmRpdiA9IHRoaXMuZ2VuZXJhdGVEaXYodGhpcy5lbmdpbmVDb25maWcucGFyZW50KSA7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2VcclxuICAgICAgICAqL1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICBwYXJzZVN0eWxlKHN0eWxlT2JqZWN0OiBPYmplY3QpOiAgc3RyaW5nIHtcclxuICAgICAgICB2YXIgY3NzQXJyYXk6IHN0cmluZ1tdID0gT2JqZWN0LmVudHJpZXMoc3R5bGVPYmplY3QpLm1hcCgoW2ssdl0pID0+IGsgKyBcIjpcIiArIHYgKyBcIjtcIilcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVuZ2luZUNvbmZpZy5wYXJlbnQpXHJcbiAgICAgICAgcmV0dXJuIGNzc0FycmF5LmpvaW4oXCIgXCIpXHJcbiAgICB9XHJcbiAgICAqL1xyXG4gICAgLyoqXHJcbiAgICBnZW5lcmF0ZURpdihwYXJlbnQ6IHN0cmluZykge1xyXG4gICAgICAgIHZhciBkaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBkaXYuaWQgPSBwYXJlbnRcclxuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcclxuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCJcclxuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBcIjFcIlxyXG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcIi9pbWFnZXMvdGVzdC5qcGdcIlxyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aGlzLmdlbmVyYXRlQ2FudmFzKCkpXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGVzdFwiKVxyXG4gICAgICAgIHJldHVybiBkaXZcclxuICAgIH1cclxuICAgIGdlbmVyYXRlQ2FudmFzKCk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkNBTlZBU1wiKVxyXG4gICAgICAgIGNhbnZhcy5pZCA9IHRoaXMuY2FudmFzSURcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBhcnNlU3R5bGUodGhpcy5lbmdpbmVDb25maWcuc3R5bGUpKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQmVmb3JlXCIpXHJcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aGlzLnBhcnNlU3R5bGUodGhpcy5lbmdpbmVDb25maWcuc3R5bGUpKVxyXG4gICAgICAgIHJldHVybiBjYW52YXNcclxuICAgIH1cclxuICAgIGdldEN0eCgpIHtcclxuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5nZXRDYW52YXMoKVxyXG4gICAgICAgIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpXHJcbiAgICB9XHJcbiAgICBnZXRDYW52YXMoKTogSFRNTENhbnZhc0VsZW1lbnQge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNhbnZhc0lEKVxyXG4gICAgICAgIGlmIChjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJlbmdpbmVDYW52YXMgc2hvdWxkIGJlIGEgcmVzZXJ2ZWQgaWQgZm9yIERPTSBDb21wb25lbnRzXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAgKlxyXG4gICAgIFxyXG4gICAgc2V0dXAoKSB7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZW5naW5lQ29uZmlnXHJcbiAgICAgICAgaWYgKHRydWUpIHtcclxuICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKClcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gXCIvaW1hZ2VzL3Rlc3QuanBnXCJcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUucG9zaXRpb24gPVwiYWJzb2x1dGVcIlxyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS56SW5kZXggPSBcIi0xXCJcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS5oZWlnaHQ9IFwiMTAwJVwiXHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGltYWdlKVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAqL1xyXG4gICAgc3RhcnQoZHQpIHtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnRuZyBFbmdpbiBcIik7XHJcbiAgICAgICAgbGV0IGN1cnIgPSB0aGlzLnNjZW5lTWFuYWdlci5nZXRDdXJyZW50U2NlbmUoKTtcclxuICAgICAgICBmb3IgKHZhciBzeXMgb2YgdGhpcy5zeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wID0gdGhpcy5zY2VuZU1hbmFnZXIuZ2V0Q3VycmVudFNjZW5lKCkuZW5naW5lQ29tcG9uZW50cy5zZXQoc3lzLnRhZywgc3lzLmNvbXBvbmVudHMpO1xyXG4gICAgICAgICAgICBjdXJyLmVuZ2luZUNvbXBvbmVudHMuc2V0KHN5cy50YWcsIHN5cy5jb21wb25lbnRzKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZU1hbmFnZXIuc3lzdGVtVGFnLnNldChzeXMudGFnLCBzeXMpO1xyXG4gICAgICAgICAgICBpZiAoY29tcCkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJlcnJvciBpbiBzdGFydCBtZXRob2RcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG9sZE1hcCA9IGN1cnIuZW50aXRpZXM7XHJcbiAgICAgICAgY3Vyci5lbnRpdGllcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICBmb3IgKGxldCBlIG9mIG9sZE1hcCkge1xyXG4gICAgICAgICAgICBpZiAoZVsxXS5pZCkge1xyXG4gICAgICAgICAgICAgICAgY3Vyci5hZGRFbnRpdHkoY3VyciwgZVsxXSwgZVsxXS5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyLmFkZEVudGl0eShjdXJyLCBlWzFdLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVDb25maWcuZW5naW5lVHlwZSA9PSBFbmdpbmVUeXBlLkNMSUVOVE9OTFkgfHwgdGhpcy5lbmdpbmVDb25maWcuZW5naW5lVHlwZSA9PSBFbmdpbmVUeXBlLlNPQ0tFVENMSUVOVCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShkdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcnZlclVwZGF0ZShkdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRpbWVvdXQgcnVub3V0XCIpO1xyXG4gICAgICAgICAgICB9LCBkdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3lzIG9mIHRoaXMuc3lzdGVtcykge1xyXG4gICAgICAgICAgICBzeXMudXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50aW1lICs9IGR0O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGltZSk7XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgodGltZXN0YW1wKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YVRpbWUgPSB0aW1lc3RhbXAgLSB0aGlzLnRpbWU7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgdGhpcy50aW1lID0gdGltZXN0YW1wO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2VydmVyVXBkYXRlKGR0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGluZ1wiKTtcclxuICAgICAgICBmb3IgKHZhciBzeXMgb2YgdGhpcy5zeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIHN5cy51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50aW1lKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJVcGRhdGUoZHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZHQpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuZ2luZS5qcy5tYXAiLCIvKipcclxuICogRGVzY3JpYmVzIHRoZSBDU1MgcHJvcGVydGllcyBvZiB0aGUgY2FudmFzIGVsZW1lbnRcclxuICpcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQaHlzaWNzQ29uZmlnIHtcclxufVxyXG5leHBvcnQgY2xhc3MgR3JhcGhpY3NDb25maWcge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50ID0gXCJlbmdpbmVEaXZcIiwgY2FudmFzSUQgPSBcImVuZ2luZUNhbnZhc1wiLCBzdHlsZSA9IHt9LCBiYWNrZ3JvdW5kKSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5jYW52YXNJRCA9IGNhbnZhc0lEO1xyXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBTY2VuZUNvbmZpZyB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgZW50aXRpZXMgPSBbXSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzID0gZW50aXRpZXM7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIEV2ZW50Q29uZmlnIHtcclxuICAgIGNvbnN0cnVjdG9yKGtleWJvYXJkLCBtb3VzZSkge1xyXG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSBrZXlib2FyZDtcclxuICAgICAgICB0aGlzLm1vdXNlID0gbW91c2U7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIENvbGxpc2lvbkNvbmZpZyB7XHJcbn1cclxuZXhwb3J0IGNsYXNzIFNjcmlwdGluZ0NvbmZpZyB7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBUcmFuc2Zvcm0ge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5LCBwb3MgPSB7IHg6IDAsIHk6IDAsIHo6IDAgfSwgdmVsID0geyB4OiAwLCB5OiAwLCB6OiAwIH0sIGFjY2VsID0geyB4OiAwLCB5OiAwLCB6OiAwIH0pIHtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJQSFlTSUNTXCI7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICAgICAgdGhpcy52ZWwgPSB2ZWw7XHJcbiAgICAgICAgdGhpcy5hY2NlbCA9IGFjY2VsO1xyXG4gICAgfVxyXG4gICAgY29weSh0cmFuc2Zvcm0pIHtcclxuICAgICAgICB0aGlzLnBvcy54ID0gdHJhbnNmb3JtLnBvcy54O1xyXG4gICAgICAgIHRoaXMucG9zLnkgPSB0cmFuc2Zvcm0ucG9zLnk7XHJcbiAgICAgICAgdGhpcy5wb3MueiA9IHRyYW5zZm9ybS5wb3MuejtcclxuICAgICAgICB0aGlzLnZlbC54ID0gdHJhbnNmb3JtLnZlbC54O1xyXG4gICAgICAgIHRoaXMudmVsLnggPSB0cmFuc2Zvcm0udmVsLng7XHJcbiAgICAgICAgdGhpcy52ZWwueCA9IHRyYW5zZm9ybS52ZWwueDtcclxuICAgICAgICB0aGlzLmFjY2VsLnggPSB0cmFuc2Zvcm0uYWNjZWwueDtcclxuICAgICAgICB0aGlzLmFjY2VsLnggPSB0cmFuc2Zvcm0uYWNjZWwueDtcclxuICAgICAgICB0aGlzLmFjY2VsLnggPSB0cmFuc2Zvcm0uYWNjZWwueDtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IHRyYW5zZm9ybS5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IHRyYW5zZm9ybS5jb21wb25lbnRJZDtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cmFuc2Zvcm0udmlzaWJsZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJhbnNmb3JtLmFsaXZlO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQb3NpdGlvbiBpczogXCIgKyB0aGlzLnBvcy54ICsgXCIgYW5kIFwiICsgdGhpcy5wb3MueSk7XHJcbiAgICAgICAgdGhpcy52ZWwueCA9IHRoaXMudmVsLnggKyB0aGlzLmFjY2VsLnggKiBkdDtcclxuICAgICAgICB0aGlzLnZlbC55ID0gdGhpcy52ZWwueSArIHRoaXMuYWNjZWwueSAqIGR0O1xyXG4gICAgICAgIHRoaXMudmVsLnogPSB0aGlzLnZlbC56ICsgdGhpcy5hY2NlbC56ICogZHQ7XHJcbiAgICAgICAgdGhpcy5wb3MueCA9IHRoaXMucG9zLnggKyB0aGlzLnZlbC54ICogZHQ7XHJcbiAgICAgICAgdGhpcy5wb3MueSA9IHRoaXMucG9zLnkgKyB0aGlzLnZlbC55ICogZHQ7XHJcbiAgICAgICAgdGhpcy5wb3MueiA9IHRoaXMucG9zLnogKyB0aGlzLnZlbC56ICogZHQ7XHJcbiAgICB9XHJcbiAgICB0b0pTT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9zOiB0aGlzLnBvcyxcclxuICAgICAgICAgICAgdmVsOiB0aGlzLnZlbCxcclxuICAgICAgICAgICAgYWNjZWw6IHRoaXMuYWNjZWwsXHJcbiAgICAgICAgICAgIGVudGl0eTogdGhpcy5lbnRpdHksXHJcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiB0aGlzLmNvbXBvbmVudElkLFxyXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnZpc2libGUsXHJcbiAgICAgICAgICAgIGFsaXZlOiB0aGlzLmFsaXZlLFxyXG4gICAgICAgICAgICBlbmdpbmVUYWc6IFwiUEhZU0lDU1wiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2Zvcm0uanMubWFwIiwiZXhwb3J0IGNsYXNzIFNwcml0ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHksIHRyYW5zZm9ybSwgc3JjKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIkdSQVBISUNTXCI7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XHJcbiAgICAgICAgdGhpcy5zcmMgPSBzcmM7XHJcbiAgICB9XHJcbiAgICBjb3B5KGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudElkID0gZWxlbWVudC5jb21wb25lbnRJZDtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGVsZW1lbnQuZW50aXR5O1xyXG4gICAgICAgIHRoaXMuc3JjID0gZWxlbWVudC5zcmM7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uYWNjZWwueCA9IGVsZW1lbnQudHJhbnNmb3JtLmFjY2VsLngsXHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmFjY2VsLnkgPSBlbGVtZW50LnRyYW5zZm9ybS5hY2NlbC55LFxyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5hY2NlbC56ID0gZWxlbWVudC50cmFuc2Zvcm0uYWNjZWwueixcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udmVsLnggPSBlbGVtZW50LnRyYW5zZm9ybS52ZWwueDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS52ZWwueSA9IGVsZW1lbnQudHJhbnNmb3JtLnZlbC55O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnZlbC56ID0gZWxlbWVudC50cmFuc2Zvcm0udmVsLno7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zLnggPSBlbGVtZW50LnRyYW5zZm9ybS5wb3MueDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3MueSA9IGVsZW1lbnQudHJhbnNmb3JtLnBvcy55O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvcy56ID0gZWxlbWVudC50cmFuc2Zvcm0ucG9zLno7XHJcbiAgICB9XHJcbiAgICB2aXNpdChlbGVtZW50KSB7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5jdHgpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgdGhpcy50cmFuc2Zvcm0ucG9zLngsIHRoaXMudHJhbnNmb3JtLnBvcy55LCA2NCwgNjQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSB0aGlzLnNyYztcclxuICAgIH1cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuZW50aXR5LFxyXG4gICAgICAgICAgICBjb21wb25lbnRJZDogdGhpcy5jb21wb25lbnRJZCxcclxuICAgICAgICAgICAgZW5naW5lVGFnOiB0aGlzLmVuZ2luZVRhZyxcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0aGlzLnRyYW5zZm9ybSxcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZSxcclxuICAgICAgICAgICAgc3JjOiB0aGlzLnNyYyxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZS5qcy5tYXAiLCJleHBvcnQgY2xhc3MgUmVjdGFuZ2xlIHtcclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICB9XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHksIHRyYW5zZm9ybSkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJHUkFQSElDU1wiO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xyXG4gICAgfVxyXG4gICAgdmlzaXQoY29tcG9uZW50KSB7XHJcbiAgICB9XHJcbiAgICBjb3B5KHJlY3RhbmdsZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZSgpIHtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmN0eCkge1xyXG4gICAgICAgICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAyNTU7XHJcbiAgICAgICAgICAgIHZhciBnID0gTWF0aC5yYW5kb20oKSAqIDI1NTtcclxuICAgICAgICAgICAgdmFyIGIgPSBNYXRoLnJhbmRvbSgpICogMjU1O1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY3R4LmZpbGxTdHlsZSA9IGByZ2IoXHJcbiAgICAgICAgICAgICAgICAke3J9LFxyXG4gICAgICAgICAgICAgICAgJHtnfSxcclxuICAgICAgICAgICAgICAgICR7Yn0pYDtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmN0eC5maWxsUmVjdCh0aGlzLnRyYW5zZm9ybS5wb3MueCwgdGhpcy50cmFuc2Zvcm0ucG9zLnksIDIwLCAyMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlY3RhbmdsZS5qcy5tYXAiLCJleHBvcnQgY2xhc3MgTW91c2VMaXN0ZW5lciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHksIGNsaWNrTWFwKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIkVWRU5USEFORExFUlwiO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhjbGlja01hcCkubWFwKChbaywgdl0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudE1hcC5zZXQoaywgdik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb3B5KGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBsaXN0ZW5lci5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IGxpc3RlbmVyLmNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGxpc3RlbmVyLnZpc2libGU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGxpc3RlbmVyLmFsaXZlO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkluIG1vdXNlIExpc3RlbmVyXCIpO1xyXG4gICAgfVxyXG4gICAgdG9KU09OKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGVudGl0eTogdGhpcy5lbnRpdHksXHJcbiAgICAgICAgICAgIGVuZ2luZVRhZzogXCJFVkVOVEhBTkRMRVJcIixcclxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IHRoaXMuY29tcG9uZW50SWQsXHJcbiAgICAgICAgICAgIG9uZVB1bmNoOiBcIlRlc3RcIlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGlzdGVuZXIuanMubWFwIiwiZXhwb3J0IGNsYXNzIFNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJTQ1JJUFRJTkdcIjtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIH1cclxuICAgIGNvcHkoc2NyaXB0KSB7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQsIGN0eCkge1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2soZHQpO1xyXG4gICAgfVxyXG4gICAgdG9KU09OKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGVudGl0eTogdGhpcy5lbnRpdHksXHJcbiAgICAgICAgICAgIGVuZ2luZVRhZzogdGhpcy5lbmdpbmVUYWcsXHJcbiAgICAgICAgICAgIGNvbXBvbmVuSWQ6IHRoaXMuY29tcG9uZW50SWQsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLmNhbGxiYWNrXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY3JpcHQuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xyXG5leHBvcnQgY2xhc3MgQm94Q29sbGlkZXIge1xyXG4gICAgdmlzaXQocykge1xyXG4gICAgfVxyXG4gICAgY29uc3RydWN0b3IoZW50aXR5ID0gLTEsIHBvcyA9IHsgeDogMCwgeTogMCwgejogMCB9LCBvbkNvbGxpc2lvbikge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJDT0xMSVNJT05cIjtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIHRoaXMuY29sbGlkZVR5cGUgPSBcIkJveFwiO1xyXG4gICAgICAgIHRoaXMuc2hhcGUgPSB7XHJcbiAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICBkaW06IHsgbGVuZ3RoOiAyMCwgaGVpZ2h0OiAyMCB9LFxyXG4gICAgICAgICAgICByb3Q6IDBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucHJldiA9IHtcclxuICAgICAgICAgICAgeDogcG9zLngsXHJcbiAgICAgICAgICAgIHk6IHBvcy55LFxyXG4gICAgICAgICAgICB6OiBwb3MuelxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkNvbGxpc2lvbiA9IG9uQ29sbGlzaW9uO1xyXG4gICAgfVxyXG4gICAgY29weShjb2xsaWRlcikge1xyXG4gICAgfVxyXG4gICAgY2hlY2tDb2xsaXNpb24oY29sbGlkZXIpIHtcclxuICAgICAgICBsZXQgZG9lc0NvbGxpZGUgPSBmYWxzZTtcclxuICAgICAgICBsZXQgcmV0ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGNvbGxpZGVyIGluc3RhbmNlb2YgQm94Q29sbGlkZXIpIHtcclxuICAgICAgICAgICAgbGV0IHJlY3QgPSBjb2xsaWRlci5zaGFwZTtcclxuICAgICAgICAgICAgbGV0IHJlY3RhbmdsZSA9IHRoaXMuc2hhcGU7XHJcbiAgICAgICAgICAgIGlmIChyZWN0LnJvdCA9PSAwICYmIHJlY3RhbmdsZS5yb3QgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY3QucG9zLnggKyByZWN0LmRpbS5sZW5ndGggPiByZWN0YW5nbGUucG9zLnggJiZcclxuICAgICAgICAgICAgICAgICAgICByZWN0LnBvcy54IDwgcmVjdGFuZ2xlLnBvcy54ICsgcmVjdGFuZ2xlLmRpbS5sZW5ndGggJiZcclxuICAgICAgICAgICAgICAgICAgICByZWN0LnBvcy55ICsgcmVjdC5kaW0uaGVpZ2h0ID4gcmVjdGFuZ2xlLnBvcy55ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcmVjdC5wb3MueSA8IHJlY3RhbmdsZS5wb3MueSArIHJlY3RhbmdsZS5kaW0uaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBjb2xsaWRlcyhjb2xsaWRlcikge1xyXG4gICAgICAgIHRoaXMub25Db2xsaXNpb24oY29sbGlkZXIpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgICAgICB0aGlzLnByZXYueCA9IHRoaXMuc2hhcGUucG9zLng7XHJcbiAgICAgICAgdGhpcy5wcmV2LnkgPSB0aGlzLnNoYXBlLnBvcy55O1xyXG4gICAgICAgIHRoaXMucHJldi56ID0gdGhpcy5zaGFwZS5wb3MuejtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBDb3B5KGN1cnIsIG5leHQpIHtcclxuICAgIGN1cnIucHJldiA9IG5leHQucHJldjtcclxufVxyXG5leHBvcnQgY2xhc3MgQ2lyY2xlQ29sbGlkZXIge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5LCBwb3MsIG9uQ29sbGlzaW9uKSB7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSAtMTtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiQ09MTElTSU9OXCI7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLmNvbGxpZGVUeXBlID0gXCJCb3hcIjtcclxuICAgICAgICB0aGlzLnNoYXBlID0ge1xyXG4gICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgZGltOiB7IGxlbmd0aDogMjAsIGhlaWdodDogMjAgfSxcclxuICAgICAgICAgICAgcm90OiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uQ29sbGlzaW9uID0gb25Db2xsaXNpb247XHJcbiAgICB9XHJcbiAgICBjb3B5KCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgY2hlY2tDb2xsaXNpb24oY29sbGlkZXIpIHtcclxuICAgICAgICB2YXIgZG9lc0NvbGxpZGUgPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb2xsaWRlcyhjb2xsaWRlcikge1xyXG4gICAgICAgIHRoaXMub25Db2xsaXNpb24oY29sbGlkZXIpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xsaWRlci5qcy5tYXAiLCJpbXBvcnQgeyBUcmFuc2Zvcm0gfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL1BoeXNpY3MvdHJhbnNmb3JtLmpzXCI7XHJcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvU3ByaXRlLmpzXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvUmVjdGFuZ2xlLmpzXCI7XHJcbmltcG9ydCB7IE1vdXNlTGlzdGVuZXIgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0V2ZW50L0xpc3RlbmVyLmpzXCI7XHJcbmltcG9ydCB7IFNjcmlwdCB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvU2NyaXB0L1NjcmlwdC5qc1wiO1xyXG5pbXBvcnQgeyBCb3hDb2xsaWRlciB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvQ29sbGlzaW9uL0NvbGxpZGVyLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xyXG4gICAgY29uc3RydWN0b3IocG9zID0geyB4OiAwLCB5OiAwLCB6OiAwIH0sIHZlbCA9IHsgeDogTWF0aC5yYW5kb20oKSwgeTogTWF0aC5yYW5kb20oKSwgejogTWF0aC5yYW5kb20oKSB9KSB7XHJcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBcIlBsYXllclwiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgtMSwgcG9zLCB2ZWwpO1xyXG4gICAgICAgIHZhciBmdW5jID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGRFbnRpdHkodGhpcy5zY2VuZSwgbmV3IFBsYXllcih7IHg6IDAsIHk6IDAsIHo6IDAgfSwgeyB4OiAwLCB5OiAxLCB6OiAwIH0pLCAtMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udmVsLnggKj0gLTEgKiBNYXRoLnJhbmRvbSgpICogMjtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udmVsLnkgKj0gLTEgKiBNYXRoLnJhbmRvbSgpICogMjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzY3JpcHQgPSBuZXcgU2NyaXB0KChkdCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgdG9wUmlnaHQgPSB0aGlzLnRyYW5zZm9ybS5wb3MueCArIDIwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucG9zLnggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3MueCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS52ZWwueCAqPSAtMSAqIE1hdGgucmFuZG9tKCkgKiAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCh0aGlzLnRyYW5zZm9ybS5wb3MueCArIDIwKSA+IDEwMDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvcy54ID0gMTAwMCAtIDIwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udmVsLnggKj0gLTEgKiBNYXRoLnJhbmRvbSgpICogMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucG9zLnkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3MueSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS52ZWwueSAqPSAtMSAqIE1hdGgucmFuZG9tKCkgKiAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCh0aGlzLnRyYW5zZm9ybS5wb3MueSArIDIwKSA+IDUwMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zLnkgPSA1MDAgLSAyMDtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnZlbC55ICo9IC0xICogTWF0aC5yYW5kb20oKSAqIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlY3RhbmdsZSgtMSwgdGhpcy50cmFuc2Zvcm0pO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBuZXcgTW91c2VMaXN0ZW5lcigtMSwge1xyXG4gICAgICAgICAgICBcImNsaWNrXCI6IGZ1bmMsXHJcbiAgICAgICAgICAgIFwidGVzdDJcIjogKCkgPT4geyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGNvbGxpZGVyQ2FsbGJhY2sgPSAoY29sbCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS52ZWwueCAqPSAtMTtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udmVsLnkgKj0gLTE7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgc3ByaXRlID0gbmV3IFNwcml0ZSgtMSwgdGhpcy50cmFuc2Zvcm0sIFwiL2ltYWdlcy9LbmlnaHRfRm9yd2FyZC5wbmdcIik7XHJcbiAgICAgICAgdmFyIGNvbGxpZGVyID0gbmV3IEJveENvbGxpZGVyKC0xLCB0aGlzLnRyYW5zZm9ybS5wb3MsIGNvbGxpZGVyQ2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0sXHJcbiAgICAgICAgICAgIHNwcml0ZSxcclxuICAgICAgICAgICAgc2NyaXB0LCB0aGlzLmxpc3RlbmVyXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1QbGF5ZXIuanMubWFwIiwiaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9TcHJpdGUuanNcIjtcclxuaW1wb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9QaHlzaWNzL3RyYW5zZm9ybS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgVGVtcGxhciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IFwiVGVtcGxhclwiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgtMSwgeyB4OiAwLCB5OiAwLCB6OiAyMCB9LCB7IHg6IDIsIHk6IDIsIHo6IDAgfSk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW1xyXG4gICAgICAgICAgICBuZXcgU3ByaXRlKC0xLCB0aGlzLnRyYW5zZm9ybSwgXCIvaW1hZ2VzL1RlbXBsYXIucG5nXCIpXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZW1wbGFyLmpzLm1hcCIsImltcG9ydCB7IFRyYW5zZm9ybSB9IGZyb20gXCIuLi9QaHlzaWNzL3RyYW5zZm9ybS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgQ2FtZXJhIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSA9IC0xLCB3aWR0aCA9IC0xLCBoZWlnaHQgPSAtMSwgY3VyciA9IHsgeDogMCwgeTogMCwgejogMCB9LCBzY2FsZSA9IHsgeDogMSwgeTogMSB9KSB7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiR1JBUEhJQ1NcIjtcclxuICAgICAgICB0aGlzLnJlbmRlcmVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBjdXJyO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybShlbnRpdHksIHsgeDogMCwgeTogMCwgejogMCB9KTtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGU7XHJcbiAgICB9XHJcbiAgICBjb3B5KGNhbWVyYSkge1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gY2FtZXJhLmVudGl0eTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudElkID0gY2FtZXJhLmNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBjYW1lcmEud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBjYW1lcmEuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGNhbWVyYS52aXNpYmxlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSBjYW1lcmEuYWxpdmU7XHJcbiAgICAgICAgdGhpcy5zY2FsZS54ID0gY2FtZXJhLnNjYWxlLng7XHJcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gY2FtZXJhLnNjYWxlLnk7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQuY3R4O1xyXG4gICAgICAgIGlmICh0aGlzLmhlaWdodCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmhlaWdodCAqIC0xICogdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aCAqIC0xICogdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wb3MueCArPSB0aGlzLnRyYW5zZm9ybS5wb3MueDtcclxuICAgICAgICB0aGlzLnBvcy55ICs9IHRoaXMudHJhbnNmb3JtLnBvcy55O1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jdHgudHJhbnNsYXRlKHRoaXMudHJhbnNmb3JtLnBvcy54LCB0aGlzLnRyYW5zZm9ybS5wb3MueSk7XHJcbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoLTEgKiB0aGlzLnBvcy54LCAtMSAqIHRoaXMucG9zLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3MueCA9IDA7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zLnkgPSAwO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jdHguc2F2ZSgpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKGFycmF5KSB7XHJcbiAgICAgICAgbGV0IGl0ZW1zID0gYXJyYXk7XHJcbiAgICAgICAgZm9yIChsZXQgaSBvZiBpdGVtcykge1xyXG4gICAgICAgICAgICBpZiAoaSAhPSB0aGlzKSB7XHJcbiAgICAgICAgICAgICAgICBpLnJlbmRlcihhcnJheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FtZXJhLmpzLm1hcCIsImltcG9ydCB7IE1vdXNlTGlzdGVuZXIgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0V2ZW50L0xpc3RlbmVyLmpzXCI7XHJcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvQ2FtZXJhLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBNYWluQ2FtZXJhIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSgtMSk7XHJcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBcIk1haW5DYW1lcmFcIjtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbdGhpcy5jYW1lcmEsIG5ldyBNb3VzZUxpc3RlbmVyKC0xLCB7XHJcbiAgICAgICAgICAgICAgICBcIndcIjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS5wb3MueSAtPSAxO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiYVwiOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEudHJhbnNmb3JtLnBvcy54IC09IDE7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJkXCI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ucG9zLnggKz0gMTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcInNcIjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS5wb3MueSArPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KV07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWFpbkNhbWVyYS5qcy5tYXAiLCJjb25zdCBQQUNLRVRfVFlQRVMgPSBPYmplY3QuY3JlYXRlKG51bGwpOyAvLyBubyBNYXAgPSBubyBwb2x5ZmlsbFxuUEFDS0VUX1RZUEVTW1wib3BlblwiXSA9IFwiMFwiO1xuUEFDS0VUX1RZUEVTW1wiY2xvc2VcIl0gPSBcIjFcIjtcblBBQ0tFVF9UWVBFU1tcInBpbmdcIl0gPSBcIjJcIjtcblBBQ0tFVF9UWVBFU1tcInBvbmdcIl0gPSBcIjNcIjtcblBBQ0tFVF9UWVBFU1tcIm1lc3NhZ2VcIl0gPSBcIjRcIjtcblBBQ0tFVF9UWVBFU1tcInVwZ3JhZGVcIl0gPSBcIjVcIjtcblBBQ0tFVF9UWVBFU1tcIm5vb3BcIl0gPSBcIjZcIjtcbmNvbnN0IFBBQ0tFVF9UWVBFU19SRVZFUlNFID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbk9iamVjdC5rZXlzKFBBQ0tFVF9UWVBFUykuZm9yRWFjaChrZXkgPT4ge1xuICAgIFBBQ0tFVF9UWVBFU19SRVZFUlNFW1BBQ0tFVF9UWVBFU1trZXldXSA9IGtleTtcbn0pO1xuY29uc3QgRVJST1JfUEFDS0VUID0geyB0eXBlOiBcImVycm9yXCIsIGRhdGE6IFwicGFyc2VyIGVycm9yXCIgfTtcbmV4cG9ydCB7IFBBQ0tFVF9UWVBFUywgUEFDS0VUX1RZUEVTX1JFVkVSU0UsIEVSUk9SX1BBQ0tFVCB9O1xuIiwiaW1wb3J0IHsgUEFDS0VUX1RZUEVTIH0gZnJvbSBcIi4vY29tbW9ucy5qc1wiO1xuY29uc3Qgd2l0aE5hdGl2ZUJsb2IgPSB0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBCbG9iICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChCbG9iKSA9PT0gXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIik7XG5jb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbi8vIEFycmF5QnVmZmVyLmlzVmlldyBtZXRob2QgaXMgbm90IGRlZmluZWQgaW4gSUUxMFxuY29uc3QgaXNWaWV3ID0gb2JqID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gQXJyYXlCdWZmZXIuaXNWaWV3KG9iailcbiAgICAgICAgOiBvYmogJiYgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyO1xufTtcbmNvbnN0IGVuY29kZVBhY2tldCA9ICh7IHR5cGUsIGRhdGEgfSwgc3VwcG9ydHNCaW5hcnksIGNhbGxiYWNrKSA9PiB7XG4gICAgaWYgKHdpdGhOYXRpdmVCbG9iICYmIGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgIGlmIChzdXBwb3J0c0JpbmFyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZUJsb2JBc0Jhc2U2NChkYXRhLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyICYmXG4gICAgICAgIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgaXNWaWV3KGRhdGEpKSkge1xuICAgICAgICBpZiAoc3VwcG9ydHNCaW5hcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVCbG9iQXNCYXNlNjQobmV3IEJsb2IoW2RhdGFdKSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHBsYWluIHN0cmluZ1xuICAgIHJldHVybiBjYWxsYmFjayhQQUNLRVRfVFlQRVNbdHlwZV0gKyAoZGF0YSB8fCBcIlwiKSk7XG59O1xuY29uc3QgZW5jb2RlQmxvYkFzQmFzZTY0ID0gKGRhdGEsIGNhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBmaWxlUmVhZGVyLnJlc3VsdC5zcGxpdChcIixcIilbMV07XG4gICAgICAgIGNhbGxiYWNrKFwiYlwiICsgY29udGVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGRhdGEpO1xufTtcbmV4cG9ydCBkZWZhdWx0IGVuY29kZVBhY2tldDtcbiIsImNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuLy8gVXNlIGEgbG9va3VwIHRhYmxlIHRvIGZpbmQgdGhlIGluZGV4LlxuY29uc3QgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpO1xuZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7XG59XG5leHBvcnQgY29uc3QgZW5jb2RlID0gKGFycmF5YnVmZmVyKSA9PiB7XG4gICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykge1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107XG4gICAgfVxuICAgIGlmIChsZW4gJSAzID09PSAyKSB7XG4gICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nO1xuICAgIH1cbiAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7XG4gICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JztcbiAgICB9XG4gICAgcmV0dXJuIGJhc2U2NDtcbn07XG5leHBvcnQgY29uc3QgZGVjb2RlID0gKGJhc2U2NCkgPT4ge1xuICAgIGxldCBidWZmZXJMZW5ndGggPSBiYXNlNjQubGVuZ3RoICogMC43NSwgbGVuID0gYmFzZTY0Lmxlbmd0aCwgaSwgcCA9IDAsIGVuY29kZWQxLCBlbmNvZGVkMiwgZW5jb2RlZDMsIGVuY29kZWQ0O1xuICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDFdID09PSAnPScpIHtcbiAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDJdID09PSAnPScpIHtcbiAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFycmF5YnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aCksIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBlbmNvZGVkMSA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpKV07XG4gICAgICAgIGVuY29kZWQyID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAxKV07XG4gICAgICAgIGVuY29kZWQzID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAyKV07XG4gICAgICAgIGVuY29kZWQ0ID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAzKV07XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDEgPDwgMikgfCAoZW5jb2RlZDIgPj4gNCk7XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xuICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMyAmIDMpIDw8IDYpIHwgKGVuY29kZWQ0ICYgNjMpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlidWZmZXI7XG59O1xuIiwiaW1wb3J0IHsgRVJST1JfUEFDS0VULCBQQUNLRVRfVFlQRVNfUkVWRVJTRSB9IGZyb20gXCIuL2NvbW1vbnMuanNcIjtcbmltcG9ydCB7IGRlY29kZSB9IGZyb20gXCIuL2NvbnRyaWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzXCI7XG5jb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbmNvbnN0IGRlY29kZVBhY2tldCA9IChlbmNvZGVkUGFja2V0LCBiaW5hcnlUeXBlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGVkUGFja2V0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIm1lc3NhZ2VcIixcbiAgICAgICAgICAgIGRhdGE6IG1hcEJpbmFyeShlbmNvZGVkUGFja2V0LCBiaW5hcnlUeXBlKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gZW5jb2RlZFBhY2tldC5jaGFyQXQoMCk7XG4gICAgaWYgKHR5cGUgPT09IFwiYlwiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIm1lc3NhZ2VcIixcbiAgICAgICAgICAgIGRhdGE6IGRlY29kZUJhc2U2NFBhY2tldChlbmNvZGVkUGFja2V0LnN1YnN0cmluZygxKSwgYmluYXJ5VHlwZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcGFja2V0VHlwZSA9IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdO1xuICAgIGlmICghcGFja2V0VHlwZSkge1xuICAgICAgICByZXR1cm4gRVJST1JfUEFDS0VUO1xuICAgIH1cbiAgICByZXR1cm4gZW5jb2RlZFBhY2tldC5sZW5ndGggPiAxXG4gICAgICAgID8ge1xuICAgICAgICAgICAgdHlwZTogUEFDS0VUX1RZUEVTX1JFVkVSU0VbdHlwZV0sXG4gICAgICAgICAgICBkYXRhOiBlbmNvZGVkUGFja2V0LnN1YnN0cmluZygxKVxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgdHlwZTogUEFDS0VUX1RZUEVTX1JFVkVSU0VbdHlwZV1cbiAgICAgICAgfTtcbn07XG5jb25zdCBkZWNvZGVCYXNlNjRQYWNrZXQgPSAoZGF0YSwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGlmICh3aXRoTmF0aXZlQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGRlY29kZShkYXRhKTtcbiAgICAgICAgcmV0dXJuIG1hcEJpbmFyeShkZWNvZGVkLCBiaW5hcnlUeXBlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IGJhc2U2NDogdHJ1ZSwgZGF0YSB9OyAvLyBmYWxsYmFjayBmb3Igb2xkIGJyb3dzZXJzXG4gICAgfVxufTtcbmNvbnN0IG1hcEJpbmFyeSA9IChkYXRhLCBiaW5hcnlUeXBlKSA9PiB7XG4gICAgc3dpdGNoIChiaW5hcnlUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJibG9iXCI6XG4gICAgICAgICAgICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gbmV3IEJsb2IoW2RhdGFdKSA6IGRhdGE7XG4gICAgICAgIGNhc2UgXCJhcnJheWJ1ZmZlclwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7IC8vIGFzc3VtaW5nIHRoZSBkYXRhIGlzIGFscmVhZHkgYW4gQXJyYXlCdWZmZXJcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgZGVjb2RlUGFja2V0O1xuIiwiaW1wb3J0IGVuY29kZVBhY2tldCBmcm9tIFwiLi9lbmNvZGVQYWNrZXQuanNcIjtcbmltcG9ydCBkZWNvZGVQYWNrZXQgZnJvbSBcIi4vZGVjb2RlUGFja2V0LmpzXCI7XG5jb25zdCBTRVBBUkFUT1IgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDMwKTsgLy8gc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RlbGltaXRlciNBU0NJSV9kZWxpbWl0ZWRfdGV4dFxuY29uc3QgZW5jb2RlUGF5bG9hZCA9IChwYWNrZXRzLCBjYWxsYmFjaykgPT4ge1xuICAgIC8vIHNvbWUgcGFja2V0cyBtYXkgYmUgYWRkZWQgdG8gdGhlIGFycmF5IHdoaWxlIGVuY29kaW5nLCBzbyB0aGUgaW5pdGlhbCBsZW5ndGggbXVzdCBiZSBzYXZlZFxuICAgIGNvbnN0IGxlbmd0aCA9IHBhY2tldHMubGVuZ3RoO1xuICAgIGNvbnN0IGVuY29kZWRQYWNrZXRzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBwYWNrZXRzLmZvckVhY2goKHBhY2tldCwgaSkgPT4ge1xuICAgICAgICAvLyBmb3JjZSBiYXNlNjQgZW5jb2RpbmcgZm9yIGJpbmFyeSBwYWNrZXRzXG4gICAgICAgIGVuY29kZVBhY2tldChwYWNrZXQsIGZhbHNlLCBlbmNvZGVkUGFja2V0ID0+IHtcbiAgICAgICAgICAgIGVuY29kZWRQYWNrZXRzW2ldID0gZW5jb2RlZFBhY2tldDtcbiAgICAgICAgICAgIGlmICgrK2NvdW50ID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlbmNvZGVkUGFja2V0cy5qb2luKFNFUEFSQVRPUikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZWNvZGVQYXlsb2FkID0gKGVuY29kZWRQYXlsb2FkLCBiaW5hcnlUeXBlKSA9PiB7XG4gICAgY29uc3QgZW5jb2RlZFBhY2tldHMgPSBlbmNvZGVkUGF5bG9hZC5zcGxpdChTRVBBUkFUT1IpO1xuICAgIGNvbnN0IHBhY2tldHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZWRQYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWRQYWNrZXQgPSBkZWNvZGVQYWNrZXQoZW5jb2RlZFBhY2tldHNbaV0sIGJpbmFyeVR5cGUpO1xuICAgICAgICBwYWNrZXRzLnB1c2goZGVjb2RlZFBhY2tldCk7XG4gICAgICAgIGlmIChkZWNvZGVkUGFja2V0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhY2tldHM7XG59O1xuZXhwb3J0IGNvbnN0IHByb3RvY29sID0gNDtcbmV4cG9ydCB7IGVuY29kZVBhY2tldCwgZW5jb2RlUGF5bG9hZCwgZGVjb2RlUGFja2V0LCBkZWNvZGVQYXlsb2FkIH07XG4iLCIvKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIEVtaXR0ZXIob2JqKSB7XG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xufVxuXG4vKipcbiAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xuICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIExpc3RlbiBvbiB0aGUgZ2l2ZW4gYGV2ZW50YCB3aXRoIGBmbmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub24gPVxuRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxuICAgIC5wdXNoKGZuKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcbiAgZnVuY3Rpb24gb24oKSB7XG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgb24uZm4gPSBmbjtcbiAgdGhpcy5vbihldmVudCwgb24pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICAvLyBhbGxcbiAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gc3BlY2lmaWMgZXZlbnRcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcblxuICAvLyByZW1vdmUgYWxsIGhhbmRsZXJzXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyXG4gIHZhciBjYjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBjYiA9IGNhbGxiYWNrc1tpXTtcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlbW92ZSBldmVudCBzcGVjaWZpYyBhcnJheXMgZm9yIGV2ZW50IHR5cGVzIHRoYXQgbm9cbiAgLy8gb25lIGlzIHN1YnNjcmliZWQgZm9yIHRvIGF2b2lkIG1lbW9yeSBsZWFrLlxuICBpZiAoY2FsbGJhY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtNaXhlZH0gLi4uXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSlcbiAgICAsIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIGlmIChjYWxsYmFja3MpIHtcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgY2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gYWxpYXMgdXNlZCBmb3IgcmVzZXJ2ZWQgZXZlbnRzIChwcm90ZWN0ZWQgbWV0aG9kKVxuRW1pdHRlci5wcm90b3R5cGUuZW1pdFJlc2VydmVkID0gRW1pdHRlci5wcm90b3R5cGUuZW1pdDtcblxuLyoqXG4gKiBSZXR1cm4gYXJyYXkgb2YgY2FsbGJhY2tzIGZvciBgZXZlbnRgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICByZXR1cm4gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhpcyBlbWl0dGVyIGhhcyBgZXZlbnRgIGhhbmRsZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xuICByZXR1cm4gISEgdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aDtcbn07XG4iLCJleHBvcnQgY29uc3QgZ2xvYmFsVGhpc1NoaW0gPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICB9XG59KSgpO1xuIiwiaW1wb3J0IHsgZ2xvYmFsVGhpc1NoaW0gYXMgZ2xvYmFsVGhpcyB9IGZyb20gXCIuL2dsb2JhbFRoaXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwaWNrKG9iaiwgLi4uYXR0cikge1xuICAgIHJldHVybiBhdHRyLnJlZHVjZSgoYWNjLCBrKSA9PiB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgIGFjY1trXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbi8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHJlYWwgdGltZW91dCBmdW5jdGlvbnMgc28gdGhleSBjYW4gYmUgdXNlZCB3aGVuIG92ZXJyaWRkZW5cbmNvbnN0IE5BVElWRV9TRVRfVElNRU9VVCA9IHNldFRpbWVvdXQ7XG5jb25zdCBOQVRJVkVfQ0xFQVJfVElNRU9VVCA9IGNsZWFyVGltZW91dDtcbmV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsVGltZXJGdW5jdGlvbnMob2JqLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMudXNlTmF0aXZlVGltZXJzKSB7XG4gICAgICAgIG9iai5zZXRUaW1lb3V0Rm4gPSBOQVRJVkVfU0VUX1RJTUVPVVQuYmluZChnbG9iYWxUaGlzKTtcbiAgICAgICAgb2JqLmNsZWFyVGltZW91dEZuID0gTkFUSVZFX0NMRUFSX1RJTUVPVVQuYmluZChnbG9iYWxUaGlzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG9iai5zZXRUaW1lb3V0Rm4gPSBzZXRUaW1lb3V0LmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgICAgIG9iai5jbGVhclRpbWVvdXRGbiA9IGNsZWFyVGltZW91dC5iaW5kKGdsb2JhbFRoaXMpO1xuICAgIH1cbn1cbi8vIGJhc2U2NCBlbmNvZGVkIGJ1ZmZlcnMgYXJlIGFib3V0IDMzJSBiaWdnZXIgKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NClcbmNvbnN0IEJBU0U2NF9PVkVSSEVBRCA9IDEuMzM7XG4vLyB3ZSBjb3VsZCBhbHNvIGhhdmUgdXNlZCBgbmV3IEJsb2IoW29ial0pLnNpemVgLCBidXQgaXQgaXNuJ3Qgc3VwcG9ydGVkIGluIElFOVxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVMZW5ndGgob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHV0ZjhMZW5ndGgob2JqKTtcbiAgICB9XG4gICAgLy8gYXJyYXlidWZmZXIgb3IgYmxvYlxuICAgIHJldHVybiBNYXRoLmNlaWwoKG9iai5ieXRlTGVuZ3RoIHx8IG9iai5zaXplKSAqIEJBU0U2NF9PVkVSSEVBRCk7XG59XG5mdW5jdGlvbiB1dGY4TGVuZ3RoKHN0cikge1xuICAgIGxldCBjID0gMCwgbGVuZ3RoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHN0ci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgIGxlbmd0aCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgbGVuZ3RoICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8IDB4ZDgwMCB8fCBjID49IDB4ZTAwMCkge1xuICAgICAgICAgICAgbGVuZ3RoICs9IDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBsZW5ndGggKz0gNDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGVuZ3RoO1xufVxuIiwiaW1wb3J0IHsgZGVjb2RlUGFja2V0IH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuaW1wb3J0IHsgaW5zdGFsbFRpbWVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuY2xhc3MgVHJhbnNwb3J0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkge1xuICAgICAgICBzdXBlcihyZWFzb24pO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IFwiVHJhbnNwb3J0RXJyb3JcIjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVHJhbnNwb3J0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogVHJhbnNwb3J0IGFic3RyYWN0IGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyh0aGlzLCBvcHRzKTtcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICAgICAgdGhpcy5xdWVyeSA9IG9wdHMucXVlcnk7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuc29ja2V0ID0gb3B0cy5zb2NrZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGVycm9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHJlYXNvblxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gdGhlIGVycm9yIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtUcmFuc3BvcnR9IGZvciBjaGFpbmluZ1xuICAgICAqIEBhcGkgcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25FcnJvcihyZWFzb24sIGRlc2NyaXB0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIG5ldyBUcmFuc3BvcnRFcnJvcihyZWFzb24sIGRlc2NyaXB0aW9uLCBjb250ZXh0KSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgdHJhbnNwb3J0LlxuICAgICAqXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBvcGVuKCkge1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwiXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuaW5nXCI7XG4gICAgICAgICAgICB0aGlzLmRvT3BlbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHRyYW5zcG9ydC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9DbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIG11bHRpcGxlIHBhY2tldHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWNrZXRzXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBzZW5kKHBhY2tldHMpIHtcbiAgICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMud3JpdGUocGFja2V0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGlzIG1pZ2h0IGhhcHBlbiBpZiB0aGUgdHJhbnNwb3J0IHdhcyBzaWxlbnRseSBjbG9zZWQgaW4gdGhlIGJlZm9yZXVubG9hZCBldmVudCBoYW5kbGVyXG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gb3BlblxuICAgICAqXG4gICAgICogQGFwaSBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlblwiO1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhXG4gICAgICogQGFwaSBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbkRhdGEoZGF0YSkge1xuICAgICAgICBjb25zdCBwYWNrZXQgPSBkZWNvZGVQYWNrZXQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSk7XG4gICAgICAgIHRoaXMub25QYWNrZXQocGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggYSBkZWNvZGVkIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25QYWNrZXQocGFja2V0KSB7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcInBhY2tldFwiLCBwYWNrZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25DbG9zZShkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImNsb3NlXCIsIGRldGFpbHMpO1xuICAgIH1cbn1cbiIsIi8vIGltcG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Vuc2hpZnRpby95ZWFzdFxuJ3VzZSBzdHJpY3QnO1xuY29uc3QgYWxwaGFiZXQgPSAnMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXotXycuc3BsaXQoJycpLCBsZW5ndGggPSA2NCwgbWFwID0ge307XG5sZXQgc2VlZCA9IDAsIGkgPSAwLCBwcmV2O1xuLyoqXG4gKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzcGVjaWZpZWQgbnVtYmVyLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBudW0gVGhlIG51bWJlciB0byBjb252ZXJ0LlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbnVtYmVyLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZShudW0pIHtcbiAgICBsZXQgZW5jb2RlZCA9ICcnO1xuICAgIGRvIHtcbiAgICAgICAgZW5jb2RlZCA9IGFscGhhYmV0W251bSAlIGxlbmd0aF0gKyBlbmNvZGVkO1xuICAgICAgICBudW0gPSBNYXRoLmZsb29yKG51bSAvIGxlbmd0aCk7XG4gICAgfSB3aGlsZSAobnVtID4gMCk7XG4gICAgcmV0dXJuIGVuY29kZWQ7XG59XG4vKipcbiAqIFJldHVybiB0aGUgaW50ZWdlciB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBpbnRlZ2VyIHZhbHVlIHJlcHJlc2VudGVkIGJ5IHRoZSBzdHJpbmcuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKHN0cikge1xuICAgIGxldCBkZWNvZGVkID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRlY29kZWQgPSBkZWNvZGVkICogbGVuZ3RoICsgbWFwW3N0ci5jaGFyQXQoaSldO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb2RlZDtcbn1cbi8qKlxuICogWWVhc3Q6IEEgdGlueSBncm93aW5nIGlkIGdlbmVyYXRvci5cbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBBIHVuaXF1ZSBpZC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB5ZWFzdCgpIHtcbiAgICBjb25zdCBub3cgPSBlbmNvZGUoK25ldyBEYXRlKCkpO1xuICAgIGlmIChub3cgIT09IHByZXYpXG4gICAgICAgIHJldHVybiBzZWVkID0gMCwgcHJldiA9IG5vdztcbiAgICByZXR1cm4gbm93ICsgJy4nICsgZW5jb2RlKHNlZWQrKyk7XG59XG4vL1xuLy8gTWFwIGVhY2ggY2hhcmFjdGVyIHRvIGl0cyBpbmRleC5cbi8vXG5mb3IgKDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgIG1hcFthbHBoYWJldFtpXV0gPSBpO1xuIiwiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2Fsa24vcXVlcnlzdHJpbmdcbi8qKlxuICogQ29tcGlsZXMgYSBxdWVyeXN0cmluZ1xuICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGUob2JqKSB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHN0ciArPSAnJic7XG4gICAgICAgICAgICBzdHIgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbi8qKlxuICogUGFyc2VzIGEgc2ltcGxlIHF1ZXJ5c3RyaW5nIGludG8gYW4gb2JqZWN0XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHFzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShxcykge1xuICAgIGxldCBxcnkgPSB7fTtcbiAgICBsZXQgcGFpcnMgPSBxcy5zcGxpdCgnJicpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gcGFpcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGxldCBwYWlyID0gcGFpcnNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgcXJ5W2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgfVxuICAgIHJldHVybiBxcnk7XG59XG4iLCIvLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb25lbnQvaGFzLWNvcnNcbmxldCB2YWx1ZSA9IGZhbHNlO1xudHJ5IHtcbiAgICB2YWx1ZSA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG59XG5jYXRjaCAoZXJyKSB7XG4gICAgLy8gaWYgWE1MSHR0cCBzdXBwb3J0IGlzIGRpc2FibGVkIGluIElFIHRoZW4gaXQgd2lsbCB0aHJvd1xuICAgIC8vIHdoZW4gdHJ5aW5nIHRvIGNyZWF0ZVxufVxuZXhwb3J0IGNvbnN0IGhhc0NPUlMgPSB2YWx1ZTtcbiIsIi8vIGJyb3dzZXIgc2hpbSBmb3IgeG1saHR0cHJlcXVlc3QgbW9kdWxlXG5pbXBvcnQgeyBoYXNDT1JTIH0gZnJvbSBcIi4uL2NvbnRyaWIvaGFzLWNvcnMuanNcIjtcbmltcG9ydCB7IGdsb2JhbFRoaXNTaGltIGFzIGdsb2JhbFRoaXMgfSBmcm9tIFwiLi4vZ2xvYmFsVGhpcy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIFhIUihvcHRzKSB7XG4gICAgY29uc3QgeGRvbWFpbiA9IG9wdHMueGRvbWFpbjtcbiAgICAvLyBYTUxIdHRwUmVxdWVzdCBjYW4gYmUgZGlzYWJsZWQgb24gSUVcbiAgICB0cnkge1xuICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICYmICgheGRvbWFpbiB8fCBoYXNDT1JTKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7IH1cbiAgICBpZiAoIXhkb21haW4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZ2xvYmFsVGhpc1tbXCJBY3RpdmVcIl0uY29uY2F0KFwiT2JqZWN0XCIpLmpvaW4oXCJYXCIpXShcIk1pY3Jvc29mdC5YTUxIVFRQXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi4vdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyB5ZWFzdCB9IGZyb20gXCIuLi9jb250cmliL3llYXN0LmpzXCI7XG5pbXBvcnQgeyBlbmNvZGUgfSBmcm9tIFwiLi4vY29udHJpYi9wYXJzZXFzLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYXlsb2FkLCBkZWNvZGVQYXlsb2FkIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmltcG9ydCB7IFhIUiBhcyBYTUxIdHRwUmVxdWVzdCB9IGZyb20gXCIuL3htbGh0dHByZXF1ZXN0LmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IGluc3RhbGxUaW1lckZ1bmN0aW9ucywgcGljayB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBnbG9iYWxUaGlzU2hpbSBhcyBnbG9iYWxUaGlzIH0gZnJvbSBcIi4uL2dsb2JhbFRoaXMuanNcIjtcbmZ1bmN0aW9uIGVtcHR5KCkgeyB9XG5jb25zdCBoYXNYSFIyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Qoe1xuICAgICAgICB4ZG9tYWluOiBmYWxzZVxuICAgIH0pO1xuICAgIHJldHVybiBudWxsICE9IHhoci5yZXNwb25zZVR5cGU7XG59KSgpO1xuZXhwb3J0IGNsYXNzIFBvbGxpbmcgZXh0ZW5kcyBUcmFuc3BvcnQge1xuICAgIC8qKlxuICAgICAqIFhIUiBQb2xsaW5nIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIob3B0cyk7XG4gICAgICAgIHRoaXMucG9sbGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBjb25zdCBpc1NTTCA9IFwiaHR0cHM6XCIgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICAgICAgbGV0IHBvcnQgPSBsb2NhdGlvbi5wb3J0O1xuICAgICAgICAgICAgLy8gc29tZSB1c2VyIGFnZW50cyBoYXZlIGVtcHR5IGBsb2NhdGlvbi5wb3J0YFxuICAgICAgICAgICAgaWYgKCFwb3J0KSB7XG4gICAgICAgICAgICAgICAgcG9ydCA9IGlzU1NMID8gXCI0NDNcIiA6IFwiODBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMueGQgPVxuICAgICAgICAgICAgICAgICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSAhPT0gbG9jYXRpb24uaG9zdG5hbWUpIHx8XG4gICAgICAgICAgICAgICAgICAgIHBvcnQgIT09IG9wdHMucG9ydDtcbiAgICAgICAgICAgIHRoaXMueHMgPSBvcHRzLnNlY3VyZSAhPT0gaXNTU0w7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFhIUiBzdXBwb3J0cyBiaW5hcnlcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGZvcmNlQmFzZTY0ID0gb3B0cyAmJiBvcHRzLmZvcmNlQmFzZTY0O1xuICAgICAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gaGFzWEhSMiAmJiAhZm9yY2VCYXNlNjQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zcG9ydCBuYW1lLlxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJwb2xsaW5nXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIHRoZSBzb2NrZXQgKHRyaWdnZXJzIHBvbGxpbmcpLiBXZSB3cml0ZSBhIFBJTkcgbWVzc2FnZSB0byBkZXRlcm1pbmVcbiAgICAgKiB3aGVuIHRoZSB0cmFuc3BvcnQgaXMgb3Blbi5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvT3BlbigpIHtcbiAgICAgICAgdGhpcy5wb2xsKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdXNlcyBwb2xsaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgdXBvbiBidWZmZXJzIGFyZSBmbHVzaGVkIGFuZCB0cmFuc3BvcnQgaXMgcGF1c2VkXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgcGF1c2Uob25QYXVzZSkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcInBhdXNpbmdcIjtcbiAgICAgICAgY29uc3QgcGF1c2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcInBhdXNlZFwiO1xuICAgICAgICAgICAgb25QYXVzZSgpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5wb2xsaW5nIHx8ICF0aGlzLndyaXRhYmxlKSB7XG4gICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICAgICAgaWYgKHRoaXMucG9sbGluZykge1xuICAgICAgICAgICAgICAgIHRvdGFsKys7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlKFwicG9sbENvbXBsZXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLS10b3RhbCB8fCBwYXVzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLndyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdG90YWwrKztcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoXCJkcmFpblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC0tdG90YWwgfHwgcGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHBvbGxpbmcgY3ljbGUuXG4gICAgICpcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIHBvbGwoKSB7XG4gICAgICAgIHRoaXMucG9sbGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZG9Qb2xsKCk7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicG9sbFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcmxvYWRzIG9uRGF0YSB0byBkZXRlY3QgcGF5bG9hZHMuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkRhdGEoZGF0YSkge1xuICAgICAgICBjb25zdCBjYWxsYmFjayA9IHBhY2tldCA9PiB7XG4gICAgICAgICAgICAvLyBpZiBpdHMgdGhlIGZpcnN0IG1lc3NhZ2Ugd2UgY29uc2lkZXIgdGhlIHRyYW5zcG9ydCBvcGVuXG4gICAgICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSAmJiBwYWNrZXQudHlwZSA9PT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uT3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgaXRzIGEgY2xvc2UgcGFja2V0LCB3ZSBjbG9zZSB0aGUgb25nb2luZyByZXF1ZXN0c1xuICAgICAgICAgICAgaWYgKFwiY2xvc2VcIiA9PT0gcGFja2V0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2xvc2UoeyBkZXNjcmlwdGlvbjogXCJ0cmFuc3BvcnQgY2xvc2VkIGJ5IHRoZSBzZXJ2ZXJcIiB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgYnlwYXNzIG9uRGF0YSBhbmQgaGFuZGxlIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICB0aGlzLm9uUGFja2V0KHBhY2tldCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGRlY29kZSBwYXlsb2FkXG4gICAgICAgIGRlY29kZVBheWxvYWQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSkuZm9yRWFjaChjYWxsYmFjayk7XG4gICAgICAgIC8vIGlmIGFuIGV2ZW50IGRpZCBub3QgdHJpZ2dlciBjbG9zaW5nXG4gICAgICAgIGlmIChcImNsb3NlZFwiICE9PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGdvdCBkYXRhIHdlJ3JlIG5vdCBwb2xsaW5nXG4gICAgICAgICAgICB0aGlzLnBvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicG9sbENvbXBsZXRlXCIpO1xuICAgICAgICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBwb2xsaW5nLCBzZW5kIGEgY2xvc2UgcGFja2V0LlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZG9DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLndyaXRlKFt7IHR5cGU6IFwiY2xvc2VcIiB9XSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSdyZSB0cnlpbmcgdG8gY2xvc2Ugd2hpbGVcbiAgICAgICAgICAgIC8vIGhhbmRzaGFraW5nIGlzIGluIHByb2dyZXNzIChHSC0xNjQpXG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJvcGVuXCIsIGNsb3NlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBwYWNrZXRzIHBheWxvYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIHBhY2tldHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmFpbiBjYWxsYmFja1xuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHdyaXRlKHBhY2tldHMpIHtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgICBlbmNvZGVQYXlsb2FkKHBhY2tldHMsIGRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy5kb1dyaXRlKGRhdGEsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdXJpIGZvciBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgdXJpKCkge1xuICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLm9wdHMuc2VjdXJlID8gXCJodHRwc1wiIDogXCJodHRwXCI7XG4gICAgICAgIGxldCBwb3J0ID0gXCJcIjtcbiAgICAgICAgLy8gY2FjaGUgYnVzdGluZyBpcyBmb3JjZWRcbiAgICAgICAgaWYgKGZhbHNlICE9PSB0aGlzLm9wdHMudGltZXN0YW1wUmVxdWVzdHMpIHtcbiAgICAgICAgICAgIHF1ZXJ5W3RoaXMub3B0cy50aW1lc3RhbXBQYXJhbV0gPSB5ZWFzdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSAmJiAhcXVlcnkuc2lkKSB7XG4gICAgICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIGF2b2lkIHBvcnQgaWYgZGVmYXVsdCBmb3Igc2NoZW1hXG4gICAgICAgIGlmICh0aGlzLm9wdHMucG9ydCAmJlxuICAgICAgICAgICAgKChcImh0dHBzXCIgPT09IHNjaGVtYSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQpICE9PSA0NDMpIHx8XG4gICAgICAgICAgICAgICAgKFwiaHR0cFwiID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMub3B0cy5wb3J0KSAhPT0gODApKSkge1xuICAgICAgICAgICAgcG9ydCA9IFwiOlwiICsgdGhpcy5vcHRzLnBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW5jb2RlZFF1ZXJ5ID0gZW5jb2RlKHF1ZXJ5KTtcbiAgICAgICAgY29uc3QgaXB2NiA9IHRoaXMub3B0cy5ob3N0bmFtZS5pbmRleE9mKFwiOlwiKSAhPT0gLTE7XG4gICAgICAgIHJldHVybiAoc2NoZW1hICtcbiAgICAgICAgICAgIFwiOi8vXCIgK1xuICAgICAgICAgICAgKGlwdjYgPyBcIltcIiArIHRoaXMub3B0cy5ob3N0bmFtZSArIFwiXVwiIDogdGhpcy5vcHRzLmhvc3RuYW1lKSArXG4gICAgICAgICAgICBwb3J0ICtcbiAgICAgICAgICAgIHRoaXMub3B0cy5wYXRoICtcbiAgICAgICAgICAgIChlbmNvZGVkUXVlcnkubGVuZ3RoID8gXCI/XCIgKyBlbmNvZGVkUXVlcnkgOiBcIlwiKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZFxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlcXVlc3Qob3B0cyA9IHt9KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob3B0cywgeyB4ZDogdGhpcy54ZCwgeHM6IHRoaXMueHMgfSwgdGhpcy5vcHRzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMudXJpKCksIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsZWQgdXBvbiBmbHVzaC5cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBkb1dyaXRlKGRhdGEsIGZuKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9KTtcbiAgICAgICAgcmVxLm9uKFwic3VjY2Vzc1wiLCBmbik7XG4gICAgICAgIHJlcS5vbihcImVycm9yXCIsICh4aHJTdGF0dXMsIGNvbnRleHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInhociBwb3N0IGVycm9yXCIsIHhoclN0YXR1cywgY29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBwb2xsIGN5Y2xlLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgZG9Qb2xsKCkge1xuICAgICAgICBjb25zdCByZXEgPSB0aGlzLnJlcXVlc3QoKTtcbiAgICAgICAgcmVxLm9uKFwiZGF0YVwiLCB0aGlzLm9uRGF0YS5iaW5kKHRoaXMpKTtcbiAgICAgICAgcmVxLm9uKFwiZXJyb3JcIiwgKHhoclN0YXR1cywgY29udGV4dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yKFwieGhyIHBvbGwgZXJyb3JcIiwgeGhyU3RhdHVzLCBjb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucG9sbFhociA9IHJlcTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVxdWVzdCBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgaW5zdGFsbFRpbWVyRnVuY3Rpb25zKHRoaXMsIG9wdHMpO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IG9wdHMubWV0aG9kIHx8IFwiR0VUXCI7XG4gICAgICAgIHRoaXMudXJpID0gdXJpO1xuICAgICAgICB0aGlzLmFzeW5jID0gZmFsc2UgIT09IG9wdHMuYXN5bmM7XG4gICAgICAgIHRoaXMuZGF0YSA9IHVuZGVmaW5lZCAhPT0gb3B0cy5kYXRhID8gb3B0cy5kYXRhIDogbnVsbDtcbiAgICAgICAgdGhpcy5jcmVhdGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgWEhSIG9iamVjdCBhbmQgc2VuZHMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBwaWNrKHRoaXMub3B0cywgXCJhZ2VudFwiLCBcInBmeFwiLCBcImtleVwiLCBcInBhc3NwaHJhc2VcIiwgXCJjZXJ0XCIsIFwiY2FcIiwgXCJjaXBoZXJzXCIsIFwicmVqZWN0VW5hdXRob3JpemVkXCIsIFwiYXV0b1VucmVmXCIpO1xuICAgICAgICBvcHRzLnhkb21haW4gPSAhIXRoaXMub3B0cy54ZDtcbiAgICAgICAgb3B0cy54c2NoZW1lID0gISF0aGlzLm9wdHMueHM7XG4gICAgICAgIGNvbnN0IHhociA9ICh0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdChvcHRzKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmksIHRoaXMuYXN5bmMpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0RGlzYWJsZUhlYWRlckNoZWNrICYmIHhoci5zZXREaXNhYmxlSGVhZGVyQ2hlY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5leHRyYUhlYWRlcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihpLCB0aGlzLm9wdHMuZXh0cmFIZWFkZXJzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIGlmIChcIlBPU1RcIiA9PT0gdGhpcy5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLCBcIiovKlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIC8vIGllNiBjaGVja1xuICAgICAgICAgICAgaWYgKFwid2l0aENyZWRlbnRpYWxzXCIgaW4geGhyKSB7XG4gICAgICAgICAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRoaXMub3B0cy53aXRoQ3JlZGVudGlhbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnJlcXVlc3RUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgeGhyLnRpbWVvdXQgPSB0aGlzLm9wdHMucmVxdWVzdFRpbWVvdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICg0ICE9PSB4aHIucmVhZHlTdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICgyMDAgPT09IHhoci5zdGF0dXMgfHwgMTIyMyA9PT0geGhyLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBgZXJyb3JgIGV2ZW50IGhhbmRsZXIgdGhhdCdzIHVzZXItc2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvZXMgbm90IHRocm93IGluIHRoZSBzYW1lIHRpY2sgYW5kIGdldHMgY2F1Z2h0IGhlcmVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKHR5cGVvZiB4aHIuc3RhdHVzID09PSBcIm51bWJlclwiID8geGhyLnN0YXR1cyA6IDApO1xuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgeGhyLnNlbmQodGhpcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gTmVlZCB0byBkZWZlciBzaW5jZSAuY3JlYXRlKCkgaXMgY2FsbGVkIGRpcmVjdGx5IGZyb20gdGhlIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAvLyBhbmQgdGh1cyB0aGUgJ2Vycm9yJyBldmVudCBjYW4gb25seSBiZSBvbmx5IGJvdW5kICphZnRlciogdGhpcyBleGNlcHRpb25cbiAgICAgICAgICAgIC8vIG9jY3Vycy4gIFRoZXJlZm9yZSwgYWxzbywgd2UgY2Fubm90IHRocm93IGhlcmUgYXQgYWxsLlxuICAgICAgICAgICAgdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25FcnJvcihlKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBSZXF1ZXN0LnJlcXVlc3RzQ291bnQrKztcbiAgICAgICAgICAgIFJlcXVlc3QucmVxdWVzdHNbdGhpcy5pbmRleF0gPSB0aGlzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVycm9yLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgb25FcnJvcihlcnIpIHtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIsIHRoaXMueGhyKTtcbiAgICAgICAgdGhpcy5jbGVhbnVwKHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbnMgdXAgaG91c2UuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBjbGVhbnVwKGZyb21FcnJvcikge1xuICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIHRoaXMueGhyIHx8IG51bGwgPT09IHRoaXMueGhyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZW1wdHk7XG4gICAgICAgIGlmIChmcm9tRXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBkZWxldGUgUmVxdWVzdC5yZXF1ZXN0c1t0aGlzLmluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnhociA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGxvYWQuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIGlmIChkYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRhdGFcIiwgZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgICB0aGlzLmNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLmNsZWFudXAoKTtcbiAgICB9XG59XG5SZXF1ZXN0LnJlcXVlc3RzQ291bnQgPSAwO1xuUmVxdWVzdC5yZXF1ZXN0cyA9IHt9O1xuLyoqXG4gKiBBYm9ydHMgcGVuZGluZyByZXF1ZXN0cyB3aGVuIHVubG9hZGluZyB0aGUgd2luZG93LiBUaGlzIGlzIG5lZWRlZCB0byBwcmV2ZW50XG4gKiBtZW1vcnkgbGVha3MgKGUuZy4gd2hlbiB1c2luZyBJRSkgYW5kIHRvIGVuc3VyZSB0aGF0IG5vIHNwdXJpb3VzIGVycm9yIGlzXG4gKiBlbWl0dGVkLlxuICovXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmICh0eXBlb2YgYXR0YWNoRXZlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGF0dGFjaEV2ZW50KFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBhZGRFdmVudExpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY29uc3QgdGVybWluYXRpb25FdmVudCA9IFwib25wYWdlaGlkZVwiIGluIGdsb2JhbFRoaXMgPyBcInBhZ2VoaWRlXCIgOiBcInVubG9hZFwiO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKHRlcm1pbmF0aW9uRXZlbnQsIHVubG9hZEhhbmRsZXIsIGZhbHNlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB1bmxvYWRIYW5kbGVyKCkge1xuICAgIGZvciAobGV0IGkgaW4gUmVxdWVzdC5yZXF1ZXN0cykge1xuICAgICAgICBpZiAoUmVxdWVzdC5yZXF1ZXN0cy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgUmVxdWVzdC5yZXF1ZXN0c1tpXS5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2xvYmFsVGhpc1NoaW0gYXMgZ2xvYmFsVGhpcyB9IGZyb20gXCIuLi9nbG9iYWxUaGlzLmpzXCI7XG5leHBvcnQgY29uc3QgbmV4dFRpY2sgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGlzUHJvbWlzZUF2YWlsYWJsZSA9IHR5cGVvZiBQcm9taXNlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFByb21pc2UucmVzb2x2ZSA9PT0gXCJmdW5jdGlvblwiO1xuICAgIGlmIChpc1Byb21pc2VBdmFpbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIGNiID0+IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oY2IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChjYiwgc2V0VGltZW91dEZuKSA9PiBzZXRUaW1lb3V0Rm4oY2IsIDApO1xuICAgIH1cbn0pKCk7XG5leHBvcnQgY29uc3QgV2ViU29ja2V0ID0gZ2xvYmFsVGhpcy5XZWJTb2NrZXQgfHwgZ2xvYmFsVGhpcy5Nb3pXZWJTb2NrZXQ7XG5leHBvcnQgY29uc3QgdXNpbmdCcm93c2VyV2ViU29ja2V0ID0gdHJ1ZTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0QmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcbiIsImltcG9ydCB7IFRyYW5zcG9ydCB9IGZyb20gXCIuLi90cmFuc3BvcnQuanNcIjtcbmltcG9ydCB7IGVuY29kZSB9IGZyb20gXCIuLi9jb250cmliL3BhcnNlcXMuanNcIjtcbmltcG9ydCB7IHllYXN0IH0gZnJvbSBcIi4uL2NvbnRyaWIveWVhc3QuanNcIjtcbmltcG9ydCB7IHBpY2sgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdEJpbmFyeVR5cGUsIG5leHRUaWNrLCB1c2luZ0Jyb3dzZXJXZWJTb2NrZXQsIFdlYlNvY2tldCB9IGZyb20gXCIuL3dlYnNvY2tldC1jb25zdHJ1Y3Rvci5qc1wiO1xuaW1wb3J0IHsgZW5jb2RlUGFja2V0IH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbi8vIGRldGVjdCBSZWFjdE5hdGl2ZSBlbnZpcm9ubWVudFxuY29uc3QgaXNSZWFjdE5hdGl2ZSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICB0eXBlb2YgbmF2aWdhdG9yLnByb2R1Y3QgPT09IFwic3RyaW5nXCIgJiZcbiAgICBuYXZpZ2F0b3IucHJvZHVjdC50b0xvd2VyQ2FzZSgpID09PSBcInJlYWN0bmF0aXZlXCI7XG5leHBvcnQgY2xhc3MgV1MgZXh0ZW5kcyBUcmFuc3BvcnQge1xuICAgIC8qKlxuICAgICAqIFdlYlNvY2tldCB0cmFuc3BvcnQgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAYXBpIHtPYmplY3R9IGNvbm5lY3Rpb24gb3B0aW9uc1xuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcihvcHRzKTtcbiAgICAgICAgdGhpcy5zdXBwb3J0c0JpbmFyeSA9ICFvcHRzLmZvcmNlQmFzZTY0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc3BvcnQgbmFtZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIndlYnNvY2tldFwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVucyBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBkb09wZW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVjaygpKSB7XG4gICAgICAgICAgICAvLyBsZXQgcHJvYmUgdGltZW91dFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVyaSA9IHRoaXMudXJpKCk7XG4gICAgICAgIGNvbnN0IHByb3RvY29scyA9IHRoaXMub3B0cy5wcm90b2NvbHM7XG4gICAgICAgIC8vIFJlYWN0IE5hdGl2ZSBvbmx5IHN1cHBvcnRzIHRoZSAnaGVhZGVycycgb3B0aW9uLCBhbmQgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgYW55dGhpbmcgZWxzZSBpcyBwYXNzZWRcbiAgICAgICAgY29uc3Qgb3B0cyA9IGlzUmVhY3ROYXRpdmVcbiAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgIDogcGljayh0aGlzLm9wdHMsIFwiYWdlbnRcIiwgXCJwZXJNZXNzYWdlRGVmbGF0ZVwiLCBcInBmeFwiLCBcImtleVwiLCBcInBhc3NwaHJhc2VcIiwgXCJjZXJ0XCIsIFwiY2FcIiwgXCJjaXBoZXJzXCIsIFwicmVqZWN0VW5hdXRob3JpemVkXCIsIFwibG9jYWxBZGRyZXNzXCIsIFwicHJvdG9jb2xWZXJzaW9uXCIsIFwib3JpZ2luXCIsIFwibWF4UGF5bG9hZFwiLCBcImZhbWlseVwiLCBcImNoZWNrU2VydmVySWRlbnRpdHlcIik7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgICAgICBvcHRzLmhlYWRlcnMgPSB0aGlzLm9wdHMuZXh0cmFIZWFkZXJzO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndzID1cbiAgICAgICAgICAgICAgICB1c2luZ0Jyb3dzZXJXZWJTb2NrZXQgJiYgIWlzUmVhY3ROYXRpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBwcm90b2NvbHNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IFdlYlNvY2tldCh1cmkpXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scywgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSB0aGlzLnNvY2tldC5iaW5hcnlUeXBlIHx8IGRlZmF1bHRCaW5hcnlUeXBlO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBzb2NrZXRcbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cy5fc29ja2V0LnVucmVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uT3BlbigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSBjbG9zZUV2ZW50ID0+IHRoaXMub25DbG9zZSh7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJ3ZWJzb2NrZXQgY29ubmVjdGlvbiBjbG9zZWRcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IGNsb3NlRXZlbnRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gZXYgPT4gdGhpcy5vbkRhdGEoZXYuZGF0YSk7XG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IGUgPT4gdGhpcy5vbkVycm9yKFwid2Vic29ja2V0IGVycm9yXCIsIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgZGF0YSB0byBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBvZiBwYWNrZXRzLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHdyaXRlKHBhY2tldHMpIHtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgICAvLyBlbmNvZGVQYWNrZXQgZWZmaWNpZW50IGFzIGl0IHVzZXMgV1MgZnJhbWluZ1xuICAgICAgICAvLyBubyBuZWVkIGZvciBlbmNvZGVQYXlsb2FkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFja2V0ID0gcGFja2V0c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQYWNrZXQgPSBpID09PSBwYWNrZXRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBlbmNvZGVQYWNrZXQocGFja2V0LCB0aGlzLnN1cHBvcnRzQmluYXJ5LCBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgY3JlYXRlIGEgbmV3IG9iamVjdCAoR0gtNDM3KVxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdHMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzaW5nQnJvd3NlcldlYlNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFja2V0Lm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMuY29tcHJlc3MgPSBwYWNrZXQub3B0aW9ucy5jb21wcmVzcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLnBlck1lc3NhZ2VEZWZsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBkYXRhID8gQnVmZmVyLmJ5dGVMZW5ndGgoZGF0YSkgOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZW4gPCB0aGlzLm9wdHMucGVyTWVzc2FnZURlZmxhdGUudGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5jb21wcmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgd2Vic29ja2V0IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkIGJ1dCB0aGUgYnJvd3NlciBkaWRuJ3RcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgY2hhbmNlIG9mIGluZm9ybWluZyB1cyBhYm91dCBpdCB5ZXQsIGluIHRoYXQgY2FzZSBzZW5kIHdpbGxcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhbiBlcnJvclxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2luZ0Jyb3dzZXJXZWJTb2NrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFR5cGVFcnJvciBpcyB0aHJvd24gd2hlbiBwYXNzaW5nIHRoZSBzZWNvbmQgYXJndW1lbnQgb24gU2FmYXJpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoZGF0YSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RQYWNrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFrZSBkcmFpblxuICAgICAgICAgICAgICAgICAgICAvLyBkZWZlciB0byBuZXh0IHRpY2sgdG8gYWxsb3cgU29ja2V0IHRvIGNsZWFyIHdyaXRlQnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBkb0Nsb3NlKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMud3MgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMud3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB1cmkgZm9yIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICB1cmkoKSB7XG4gICAgICAgIGxldCBxdWVyeSA9IHRoaXMucXVlcnkgfHwge307XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMub3B0cy5zZWN1cmUgPyBcIndzc1wiIDogXCJ3c1wiO1xuICAgICAgICBsZXQgcG9ydCA9IFwiXCI7XG4gICAgICAgIC8vIGF2b2lkIHBvcnQgaWYgZGVmYXVsdCBmb3Igc2NoZW1hXG4gICAgICAgIGlmICh0aGlzLm9wdHMucG9ydCAmJlxuICAgICAgICAgICAgKChcIndzc1wiID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMub3B0cy5wb3J0KSAhPT0gNDQzKSB8fFxuICAgICAgICAgICAgICAgIChcIndzXCIgPT09IHNjaGVtYSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQpICE9PSA4MCkpKSB7XG4gICAgICAgICAgICBwb3J0ID0gXCI6XCIgKyB0aGlzLm9wdHMucG9ydDtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBlbmQgdGltZXN0YW1wIHRvIFVSSVxuICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVzdGFtcFJlcXVlc3RzKSB7XG4gICAgICAgICAgICBxdWVyeVt0aGlzLm9wdHMudGltZXN0YW1wUGFyYW1dID0geWVhc3QoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb21tdW5pY2F0ZSBiaW5hcnkgc3VwcG9ydCBjYXBhYmlsaXRpZXNcbiAgICAgICAgaWYgKCF0aGlzLnN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kZWRRdWVyeSA9IGVuY29kZShxdWVyeSk7XG4gICAgICAgIGNvbnN0IGlwdjYgPSB0aGlzLm9wdHMuaG9zdG5hbWUuaW5kZXhPZihcIjpcIikgIT09IC0xO1xuICAgICAgICByZXR1cm4gKHNjaGVtYSArXG4gICAgICAgICAgICBcIjovL1wiICtcbiAgICAgICAgICAgIChpcHY2ID8gXCJbXCIgKyB0aGlzLm9wdHMuaG9zdG5hbWUgKyBcIl1cIiA6IHRoaXMub3B0cy5ob3N0bmFtZSkgK1xuICAgICAgICAgICAgcG9ydCArXG4gICAgICAgICAgICB0aGlzLm9wdHMucGF0aCArXG4gICAgICAgICAgICAoZW5jb2RlZFF1ZXJ5Lmxlbmd0aCA/IFwiP1wiICsgZW5jb2RlZFF1ZXJ5IDogXCJcIikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZWF0dXJlIGRldGVjdGlvbiBmb3IgV2ViU29ja2V0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gd2hldGhlciB0aGlzIHRyYW5zcG9ydCBpcyBhdmFpbGFibGUuXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBjaGVjaygpIHtcbiAgICAgICAgcmV0dXJuICEhV2ViU29ja2V0O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBvbGxpbmcgfSBmcm9tIFwiLi9wb2xsaW5nLmpzXCI7XG5pbXBvcnQgeyBXUyB9IGZyb20gXCIuL3dlYnNvY2tldC5qc1wiO1xuZXhwb3J0IGNvbnN0IHRyYW5zcG9ydHMgPSB7XG4gICAgd2Vic29ja2V0OiBXUyxcbiAgICBwb2xsaW5nOiBQb2xsaW5nXG59O1xuIiwiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2Fsa24vcGFyc2V1cmlcbi8qKlxuICogUGFyc2VzIGFuIFVSSVxuICpcbiAqIEBhdXRob3IgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+IChNSVQgbGljZW5zZSlcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5jb25zdCByZSA9IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKGh0dHB8aHR0cHN8d3N8d3NzKTpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KCg/OlthLWYwLTldezAsNH06KXsyLDd9W2EtZjAtOV17MCw0fXxbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xuY29uc3QgcGFydHMgPSBbXG4gICAgJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICAgIGNvbnN0IHNyYyA9IHN0ciwgYiA9IHN0ci5pbmRleE9mKCdbJyksIGUgPSBzdHIuaW5kZXhPZignXScpO1xuICAgIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBiKSArIHN0ci5zdWJzdHJpbmcoYiwgZSkucmVwbGFjZSgvOi9nLCAnOycpICsgc3RyLnN1YnN0cmluZyhlLCBzdHIubGVuZ3RoKTtcbiAgICB9XG4gICAgbGV0IG0gPSByZS5leGVjKHN0ciB8fCAnJyksIHVyaSA9IHt9LCBpID0gMTQ7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICB1cmlbcGFydHNbaV1dID0gbVtpXSB8fCAnJztcbiAgICB9XG4gICAgaWYgKGIgIT0gLTEgJiYgZSAhPSAtMSkge1xuICAgICAgICB1cmkuc291cmNlID0gc3JjO1xuICAgICAgICB1cmkuaG9zdCA9IHVyaS5ob3N0LnN1YnN0cmluZygxLCB1cmkuaG9zdC5sZW5ndGggLSAxKS5yZXBsYWNlKC87L2csICc6Jyk7XG4gICAgICAgIHVyaS5hdXRob3JpdHkgPSB1cmkuYXV0aG9yaXR5LnJlcGxhY2UoJ1snLCAnJykucmVwbGFjZSgnXScsICcnKS5yZXBsYWNlKC87L2csICc6Jyk7XG4gICAgICAgIHVyaS5pcHY2dXJpID0gdHJ1ZTtcbiAgICB9XG4gICAgdXJpLnBhdGhOYW1lcyA9IHBhdGhOYW1lcyh1cmksIHVyaVsncGF0aCddKTtcbiAgICB1cmkucXVlcnlLZXkgPSBxdWVyeUtleSh1cmksIHVyaVsncXVlcnknXSk7XG4gICAgcmV0dXJuIHVyaTtcbn1cbmZ1bmN0aW9uIHBhdGhOYW1lcyhvYmosIHBhdGgpIHtcbiAgICBjb25zdCByZWd4ID0gL1xcL3syLDl9L2csIG5hbWVzID0gcGF0aC5yZXBsYWNlKHJlZ3gsIFwiL1wiKS5zcGxpdChcIi9cIik7XG4gICAgaWYgKHBhdGguc2xpY2UoMCwgMSkgPT0gJy8nIHx8IHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5hbWVzLnNwbGljZSgwLCAxKTtcbiAgICB9XG4gICAgaWYgKHBhdGguc2xpY2UoLTEpID09ICcvJykge1xuICAgICAgICBuYW1lcy5zcGxpY2UobmFtZXMubGVuZ3RoIC0gMSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lcztcbn1cbmZ1bmN0aW9uIHF1ZXJ5S2V5KHVyaSwgcXVlcnkpIHtcbiAgICBjb25zdCBkYXRhID0ge307XG4gICAgcXVlcnkucmVwbGFjZSgvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2csIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgICAgIGlmICgkMSkge1xuICAgICAgICAgICAgZGF0YVskMV0gPSAkMjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBkYXRhO1xufVxuIiwiaW1wb3J0IHsgdHJhbnNwb3J0cyB9IGZyb20gXCIuL3RyYW5zcG9ydHMvaW5kZXguanNcIjtcbmltcG9ydCB7IGluc3RhbGxUaW1lckZ1bmN0aW9ucywgYnl0ZUxlbmd0aCB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCB7IGRlY29kZSB9IGZyb20gXCIuL2NvbnRyaWIvcGFyc2Vxcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9jb250cmliL3BhcnNldXJpLmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IHByb3RvY29sIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmV4cG9ydCBjbGFzcyBTb2NrZXQgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBTb2NrZXQgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHVyaSBvciBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAgICogQGFwaSBwdWJsaWNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdHMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpZiAodXJpICYmIFwib2JqZWN0XCIgPT09IHR5cGVvZiB1cmkpIHtcbiAgICAgICAgICAgIG9wdHMgPSB1cmk7XG4gICAgICAgICAgICB1cmkgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmkpIHtcbiAgICAgICAgICAgIHVyaSA9IHBhcnNlKHVyaSk7XG4gICAgICAgICAgICBvcHRzLmhvc3RuYW1lID0gdXJpLmhvc3Q7XG4gICAgICAgICAgICBvcHRzLnNlY3VyZSA9IHVyaS5wcm90b2NvbCA9PT0gXCJodHRwc1wiIHx8IHVyaS5wcm90b2NvbCA9PT0gXCJ3c3NcIjtcbiAgICAgICAgICAgIG9wdHMucG9ydCA9IHVyaS5wb3J0O1xuICAgICAgICAgICAgaWYgKHVyaS5xdWVyeSlcbiAgICAgICAgICAgICAgICBvcHRzLnF1ZXJ5ID0gdXJpLnF1ZXJ5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdHMuaG9zdCkge1xuICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSA9IHBhcnNlKG9wdHMuaG9zdCkuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMuc2VjdXJlID1cbiAgICAgICAgICAgIG51bGwgIT0gb3B0cy5zZWN1cmVcbiAgICAgICAgICAgICAgICA/IG9wdHMuc2VjdXJlXG4gICAgICAgICAgICAgICAgOiB0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgXCJodHRwczpcIiA9PT0gbG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAgIGlmIChvcHRzLmhvc3RuYW1lICYmICFvcHRzLnBvcnQpIHtcbiAgICAgICAgICAgIC8vIGlmIG5vIHBvcnQgaXMgc3BlY2lmaWVkIG1hbnVhbGx5LCB1c2UgdGhlIHByb3RvY29sIGRlZmF1bHRcbiAgICAgICAgICAgIG9wdHMucG9ydCA9IHRoaXMuc2VjdXJlID8gXCI0NDNcIiA6IFwiODBcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvc3RuYW1lID1cbiAgICAgICAgICAgIG9wdHMuaG9zdG5hbWUgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiID8gbG9jYXRpb24uaG9zdG5hbWUgOiBcImxvY2FsaG9zdFwiKTtcbiAgICAgICAgdGhpcy5wb3J0ID1cbiAgICAgICAgICAgIG9wdHMucG9ydCB8fFxuICAgICAgICAgICAgICAgICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24ucG9ydFxuICAgICAgICAgICAgICAgICAgICA/IGxvY2F0aW9uLnBvcnRcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnNlY3VyZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIjQ0M1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiODBcIik7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0cyA9IG9wdHMudHJhbnNwb3J0cyB8fCBbXCJwb2xsaW5nXCIsIFwid2Vic29ja2V0XCJdO1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIlwiO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IDA7XG4gICAgICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgcGF0aDogXCIvZW5naW5lLmlvXCIsXG4gICAgICAgICAgICBhZ2VudDogZmFsc2UsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAgICAgdXBncmFkZTogdHJ1ZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcFBhcmFtOiBcInRcIixcbiAgICAgICAgICAgIHJlbWVtYmVyVXBncmFkZTogZmFsc2UsXG4gICAgICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IHRydWUsXG4gICAgICAgICAgICBwZXJNZXNzYWdlRGVmbGF0ZToge1xuICAgICAgICAgICAgICAgIHRocmVzaG9sZDogMTAyNFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHt9LFxuICAgICAgICAgICAgY2xvc2VPbkJlZm9yZXVubG9hZDogdHJ1ZVxuICAgICAgICB9LCBvcHRzKTtcbiAgICAgICAgdGhpcy5vcHRzLnBhdGggPSB0aGlzLm9wdHMucGF0aC5yZXBsYWNlKC9cXC8kLywgXCJcIikgKyBcIi9cIjtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdHMucXVlcnkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMub3B0cy5xdWVyeSA9IGRlY29kZSh0aGlzLm9wdHMucXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBvbiBoYW5kc2hha2VcbiAgICAgICAgdGhpcy5pZCA9IG51bGw7XG4gICAgICAgIHRoaXMudXBncmFkZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnBpbmdJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgIHRoaXMucGluZ1RpbWVvdXQgPSBudWxsO1xuICAgICAgICAvLyBzZXQgb24gaGVhcnRiZWF0XG4gICAgICAgIHRoaXMucGluZ1RpbWVvdXRUaW1lciA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmNsb3NlT25CZWZvcmV1bmxvYWQpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94IGNsb3NlcyB0aGUgY29ubmVjdGlvbiB3aGVuIHRoZSBcImJlZm9yZXVubG9hZFwiIGV2ZW50IGlzIGVtaXR0ZWQgYnV0IG5vdCBDaHJvbWUuIFRoaXMgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmVzIGV2ZXJ5IGJyb3dzZXIgYmVoYXZlcyB0aGUgc2FtZSAobm8gXCJkaXNjb25uZWN0XCIgZXZlbnQgYXQgdGhlIFNvY2tldC5JTyBsZXZlbCB3aGVuIHRoZSBwYWdlIGlzXG4gICAgICAgICAgICAgICAgLy8gY2xvc2VkL3JlbG9hZGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaWxlbnRseSBjbG9zZSB0aGUgdHJhbnNwb3J0XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgdGhpcy5iZWZvcmV1bmxvYWRFdmVudExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5ob3N0bmFtZSAhPT0gXCJsb2NhbGhvc3RcIikge1xuICAgICAgICAgICAgICAgIHRoaXMub2ZmbGluZUV2ZW50TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DbG9zZShcInRyYW5zcG9ydCBjbG9zZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJuZXR3b3JrIGNvbm5lY3Rpb24gbG9zdFwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgdGhpcy5vZmZsaW5lRXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRyYW5zcG9ydCBvZiB0aGUgZ2l2ZW4gdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0cmFuc3BvcnQgbmFtZVxuICAgICAqIEByZXR1cm4ge1RyYW5zcG9ydH1cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBjcmVhdGVUcmFuc3BvcnQobmFtZSkge1xuICAgICAgICBjb25zdCBxdWVyeSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0cy5xdWVyeSk7XG4gICAgICAgIC8vIGFwcGVuZCBlbmdpbmUuaW8gcHJvdG9jb2wgaWRlbnRpZmllclxuICAgICAgICBxdWVyeS5FSU8gPSBwcm90b2NvbDtcbiAgICAgICAgLy8gdHJhbnNwb3J0IG5hbWVcbiAgICAgICAgcXVlcnkudHJhbnNwb3J0ID0gbmFtZTtcbiAgICAgICAgLy8gc2Vzc2lvbiBpZCBpZiB3ZSBhbHJlYWR5IGhhdmUgb25lXG4gICAgICAgIGlmICh0aGlzLmlkKVxuICAgICAgICAgICAgcXVlcnkuc2lkID0gdGhpcy5pZDtcbiAgICAgICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0cy50cmFuc3BvcnRPcHRpb25zW25hbWVdLCB0aGlzLm9wdHMsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgc29ja2V0OiB0aGlzLFxuICAgICAgICAgICAgaG9zdG5hbWU6IHRoaXMuaG9zdG5hbWUsXG4gICAgICAgICAgICBzZWN1cmU6IHRoaXMuc2VjdXJlLFxuICAgICAgICAgICAgcG9ydDogdGhpcy5wb3J0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IHRyYW5zcG9ydHNbbmFtZV0ob3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRyYW5zcG9ydCB0byB1c2UgYW5kIHN0YXJ0cyBwcm9iZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIG9wZW4oKSB7XG4gICAgICAgIGxldCB0cmFuc3BvcnQ7XG4gICAgICAgIGlmICh0aGlzLm9wdHMucmVtZW1iZXJVcGdyYWRlICYmXG4gICAgICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydHMuaW5kZXhPZihcIndlYnNvY2tldFwiKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRyYW5zcG9ydCA9IFwid2Vic29ja2V0XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoMCA9PT0gdGhpcy50cmFuc3BvcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gRW1pdCBlcnJvciBvbiBuZXh0IHRpY2sgc28gaXQgY2FuIGJlIGxpc3RlbmVkIHRvXG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBcIk5vIHRyYW5zcG9ydHMgYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFuc3BvcnQgPSB0aGlzLnRyYW5zcG9ydHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuaW5nXCI7XG4gICAgICAgIC8vIFJldHJ5IHdpdGggdGhlIG5leHQgdHJhbnNwb3J0IGlmIHRoZSB0cmFuc3BvcnQgaXMgZGlzYWJsZWQgKGpzb25wOiBmYWxzZSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRyYW5zcG9ydCA9IHRoaXMuY3JlYXRlVHJhbnNwb3J0KHRyYW5zcG9ydCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0cy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICAgICAgdGhpcy5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQuIERpc2FibGVzIHRoZSBleGlzdGluZyBvbmUgKGlmIGFueSkuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXRUcmFuc3BvcnQodHJhbnNwb3J0KSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHVwIHRyYW5zcG9ydFxuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICAgICAgLy8gc2V0IHVwIHRyYW5zcG9ydCBsaXN0ZW5lcnNcbiAgICAgICAgdHJhbnNwb3J0XG4gICAgICAgICAgICAub24oXCJkcmFpblwiLCB0aGlzLm9uRHJhaW4uYmluZCh0aGlzKSlcbiAgICAgICAgICAgIC5vbihcInBhY2tldFwiLCB0aGlzLm9uUGFja2V0LmJpbmQodGhpcykpXG4gICAgICAgICAgICAub24oXCJlcnJvclwiLCB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKSlcbiAgICAgICAgICAgIC5vbihcImNsb3NlXCIsIHJlYXNvbiA9PiB0aGlzLm9uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIiwgcmVhc29uKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2JlcyBhIHRyYW5zcG9ydC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0cmFuc3BvcnQgbmFtZVxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb2JlKG5hbWUpIHtcbiAgICAgICAgbGV0IHRyYW5zcG9ydCA9IHRoaXMuY3JlYXRlVHJhbnNwb3J0KG5hbWUpO1xuICAgICAgICBsZXQgZmFpbGVkID0gZmFsc2U7XG4gICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgb25UcmFuc3BvcnRPcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0cmFuc3BvcnQuc2VuZChbeyB0eXBlOiBcInBpbmdcIiwgZGF0YTogXCJwcm9iZVwiIH1dKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5vbmNlKFwicGFja2V0XCIsIG1zZyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChcInBvbmdcIiA9PT0gbXNnLnR5cGUgJiYgXCJwcm9iZVwiID09PSBtc2cuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZ3JhZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkaW5nXCIsIHRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhbnNwb3J0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gXCJ3ZWJzb2NrZXRcIiA9PT0gdHJhbnNwb3J0Lm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnBhdXNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmYWlsZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0LnNlbmQoW3sgdHlwZTogXCJ1cGdyYWRlXCIgfV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlXCIsIHRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGdyYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXCJwcm9iZSBlcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBlcnIudHJhbnNwb3J0ID0gdHJhbnNwb3J0Lm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZUVycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIGZyZWV6ZVRyYW5zcG9ydCgpIHtcbiAgICAgICAgICAgIGlmIChmYWlsZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gQW55IGNhbGxiYWNrIGNhbGxlZCBieSB0cmFuc3BvcnQgc2hvdWxkIGJlIGlnbm9yZWQgc2luY2Ugbm93XG4gICAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgdHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgICAgICB0cmFuc3BvcnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhbnkgZXJyb3IgdGhhdCBoYXBwZW5zIHdoaWxlIHByb2JpbmdcbiAgICAgICAgY29uc3Qgb25lcnJvciA9IGVyciA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcInByb2JlIGVycm9yOiBcIiArIGVycik7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBlcnJvci50cmFuc3BvcnQgPSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgICAgIGZyZWV6ZVRyYW5zcG9ydCgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlRXJyb3JcIiwgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBvblRyYW5zcG9ydENsb3NlKCkge1xuICAgICAgICAgICAgb25lcnJvcihcInRyYW5zcG9ydCBjbG9zZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGUgc29ja2V0IGlzIGNsb3NlZCB3aGlsZSB3ZSdyZSBwcm9iaW5nXG4gICAgICAgIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgICAgICAgICBvbmVycm9yKFwic29ja2V0IGNsb3NlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSBzb2NrZXQgaXMgdXBncmFkZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuICAgICAgICBmdW5jdGlvbiBvbnVwZ3JhZGUodG8pIHtcbiAgICAgICAgICAgIGlmICh0cmFuc3BvcnQgJiYgdG8ubmFtZSAhPT0gdHJhbnNwb3J0Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICBmcmVlemVUcmFuc3BvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBvbiB0aGUgdHJhbnNwb3J0IGFuZCBvbiBzZWxmXG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJvcGVuXCIsIG9uVHJhbnNwb3J0T3Blbik7XG4gICAgICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCBvbmVycm9yKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsIG9uVHJhbnNwb3J0Q2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJjbG9zZVwiLCBvbmNsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwidXBncmFkaW5nXCIsIG9udXBncmFkZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRyYW5zcG9ydC5vbmNlKFwib3BlblwiLCBvblRyYW5zcG9ydE9wZW4pO1xuICAgICAgICB0cmFuc3BvcnQub25jZShcImVycm9yXCIsIG9uZXJyb3IpO1xuICAgICAgICB0cmFuc3BvcnQub25jZShcImNsb3NlXCIsIG9uVHJhbnNwb3J0Q2xvc2UpO1xuICAgICAgICB0aGlzLm9uY2UoXCJjbG9zZVwiLCBvbmNsb3NlKTtcbiAgICAgICAgdGhpcy5vbmNlKFwidXBncmFkaW5nXCIsIG9udXBncmFkZSk7XG4gICAgICAgIHRyYW5zcG9ydC5vcGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGNvbm5lY3Rpb24gaXMgZGVlbWVkIG9wZW4uXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlblwiO1xuICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gXCJ3ZWJzb2NrZXRcIiA9PT0gdGhpcy50cmFuc3BvcnQubmFtZTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJvcGVuXCIpO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIC8vIHdlIGNoZWNrIGZvciBgcmVhZHlTdGF0ZWAgaW4gY2FzZSBhbiBgb3BlbmBcbiAgICAgICAgLy8gbGlzdGVuZXIgYWxyZWFkeSBjbG9zZWQgdGhlIHNvY2tldFxuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSAmJlxuICAgICAgICAgICAgdGhpcy5vcHRzLnVwZ3JhZGUgJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnBhdXNlKSB7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBjb25zdCBsID0gdGhpcy51cGdyYWRlcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvYmUodGhpcy51cGdyYWRlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uUGFja2V0KHBhY2tldCkge1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJjbG9zaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgIC8vIFNvY2tldCBpcyBsaXZlIC0gYW55IHBhY2tldCBjb3VudHNcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiaGVhcnRiZWF0XCIpO1xuICAgICAgICAgICAgc3dpdGNoIChwYWNrZXQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25IYW5kc2hha2UoSlNPTi5wYXJzZShwYWNrZXQuZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGFja2V0KFwicG9uZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXCJzZXJ2ZXIgZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgZXJyLmNvZGUgPSBwYWNrZXQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwibWVzc2FnZVwiLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGhhbmRzaGFrZSBjb21wbGV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBoYW5kc2hha2Ugb2JqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgb25IYW5kc2hha2UoZGF0YSkge1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImhhbmRzaGFrZVwiLCBkYXRhKTtcbiAgICAgICAgdGhpcy5pZCA9IGRhdGEuc2lkO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5xdWVyeS5zaWQgPSBkYXRhLnNpZDtcbiAgICAgICAgdGhpcy51cGdyYWRlcyA9IHRoaXMuZmlsdGVyVXBncmFkZXMoZGF0YS51cGdyYWRlcyk7XG4gICAgICAgIHRoaXMucGluZ0ludGVydmFsID0gZGF0YS5waW5nSW50ZXJ2YWw7XG4gICAgICAgIHRoaXMucGluZ1RpbWVvdXQgPSBkYXRhLnBpbmdUaW1lb3V0O1xuICAgICAgICB0aGlzLm1heFBheWxvYWQgPSBkYXRhLm1heFBheWxvYWQ7XG4gICAgICAgIHRoaXMub25PcGVuKCk7XG4gICAgICAgIC8vIEluIGNhc2Ugb3BlbiBoYW5kbGVyIGNsb3NlcyBzb2NrZXRcbiAgICAgICAgaWYgKFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5yZXNldFBpbmdUaW1lb3V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgYW5kIHJlc2V0cyBwaW5nIHRpbWVvdXQgdGltZXIgYmFzZWQgb24gc2VydmVyIHBpbmdzLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgcmVzZXRQaW5nVGltZW91dCgpIHtcbiAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRGbih0aGlzLnBpbmdUaW1lb3V0VGltZXIpO1xuICAgICAgICB0aGlzLnBpbmdUaW1lb3V0VGltZXIgPSB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoXCJwaW5nIHRpbWVvdXRcIik7XG4gICAgICAgIH0sIHRoaXMucGluZ0ludGVydmFsICsgdGhpcy5waW5nVGltZW91dCk7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICB0aGlzLnBpbmdUaW1lb3V0VGltZXIudW5yZWYoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb24gYGRyYWluYCBldmVudFxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgb25EcmFpbigpIHtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5zcGxpY2UoMCwgdGhpcy5wcmV2QnVmZmVyTGVuKTtcbiAgICAgICAgLy8gc2V0dGluZyBwcmV2QnVmZmVyTGVuID0gMCBpcyB2ZXJ5IGltcG9ydGFudFxuICAgICAgICAvLyBmb3IgZXhhbXBsZSwgd2hlbiB1cGdyYWRpbmcsIHVwZ3JhZGUgcGFja2V0IGlzIHNlbnQgb3ZlcixcbiAgICAgICAgLy8gYW5kIGEgbm9uemVybyBwcmV2QnVmZmVyTGVuIGNvdWxkIGNhdXNlIHByb2JsZW1zIG9uIGBkcmFpbmBcbiAgICAgICAgdGhpcy5wcmV2QnVmZmVyTGVuID0gMDtcbiAgICAgICAgaWYgKDAgPT09IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsdXNoIHdyaXRlIGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBmbHVzaCgpIHtcbiAgICAgICAgaWYgKFwiY2xvc2VkXCIgIT09IHRoaXMucmVhZHlTdGF0ZSAmJlxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQud3JpdGFibGUgJiZcbiAgICAgICAgICAgICF0aGlzLnVwZ3JhZGluZyAmJlxuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldHMgPSB0aGlzLmdldFdyaXRhYmxlUGFja2V0cygpO1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuc2VuZChwYWNrZXRzKTtcbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgY3VycmVudCBsZW5ndGggb2Ygd3JpdGVCdWZmZXJcbiAgICAgICAgICAgIC8vIHNwbGljZSB3cml0ZUJ1ZmZlciBhbmQgY2FsbGJhY2tCdWZmZXIgb24gYGRyYWluYFxuICAgICAgICAgICAgdGhpcy5wcmV2QnVmZmVyTGVuID0gcGFja2V0cy5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImZsdXNoXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZSB0aGUgZW5jb2RlZCBzaXplIG9mIHRoZSB3cml0ZUJ1ZmZlciBpcyBiZWxvdyB0aGUgbWF4UGF5bG9hZCB2YWx1ZSBzZW50IGJ5IHRoZSBzZXJ2ZXIgKG9ubHkgZm9yIEhUVFBcbiAgICAgKiBsb25nLXBvbGxpbmcpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldFdyaXRhYmxlUGFja2V0cygpIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkQ2hlY2tQYXlsb2FkU2l6ZSA9IHRoaXMubWF4UGF5bG9hZCAmJlxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQubmFtZSA9PT0gXCJwb2xsaW5nXCIgJiZcbiAgICAgICAgICAgIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoID4gMTtcbiAgICAgICAgaWYgKCFzaG91bGRDaGVja1BheWxvYWRTaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGF5bG9hZFNpemUgPSAxOyAvLyBmaXJzdCBwYWNrZXQgdHlwZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLndyaXRlQnVmZmVyW2ldLmRhdGE7XG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHBheWxvYWRTaXplICs9IGJ5dGVMZW5ndGgoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA+IDAgJiYgcGF5bG9hZFNpemUgPiB0aGlzLm1heFBheWxvYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlci5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBheWxvYWRTaXplICs9IDI7IC8vIHNlcGFyYXRvciArIHBhY2tldCB0eXBlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVCdWZmZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1NvY2tldH0gZm9yIGNoYWluaW5nLlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgd3JpdGUobXNnLCBvcHRpb25zLCBmbikge1xuICAgICAgICB0aGlzLnNlbmRQYWNrZXQoXCJtZXNzYWdlXCIsIG1zZywgb3B0aW9ucywgZm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2VuZChtc2csIG9wdGlvbnMsIGZuKSB7XG4gICAgICAgIHRoaXMuc2VuZFBhY2tldChcIm1lc3NhZ2VcIiwgbXNnLCBvcHRpb25zLCBmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYWNrZXQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBzZW5kUGFja2V0KHR5cGUsIGRhdGEsIG9wdGlvbnMsIGZuKSB7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBkYXRhKSB7XG4gICAgICAgICAgICBmbiA9IGRhdGE7XG4gICAgICAgICAgICBkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICBmbiA9IG9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJjbG9zaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcImNsb3NlZFwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5jb21wcmVzcyA9IGZhbHNlICE9PSBvcHRpb25zLmNvbXByZXNzO1xuICAgICAgICBjb25zdCBwYWNrZXQgPSB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRDcmVhdGVcIiwgcGFja2V0KTtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gICAgICAgIGlmIChmbilcbiAgICAgICAgICAgIHRoaXMub25jZShcImZsdXNoXCIsIGZuKTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZShcImZvcmNlZCBjbG9zZVwiKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNsZWFudXBBbmRDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwidXBncmFkZVwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJ1cGdyYWRlRXJyb3JcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdhaXRGb3JVcGdyYWRlID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gd2FpdCBmb3IgdXBncmFkZSB0byBmaW5pc2ggc2luY2Ugd2UgY2FuJ3Qgc2VuZCBwYWNrZXRzIHdoaWxlIHBhdXNpbmcgYSB0cmFuc3BvcnRcbiAgICAgICAgICAgIHRoaXMub25jZShcInVwZ3JhZGVcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub25jZShcInVwZ3JhZGVFcnJvclwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NpbmdcIjtcbiAgICAgICAgICAgIGlmICh0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25jZShcImRyYWluXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy51cGdyYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IGVycm9yXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkVycm9yKGVycikge1xuICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgdGhpcy5vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsIGVycik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uQ2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJjbG9zaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgLy8gY2xlYXIgdGltZXJzXG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZW91dEZuKHRoaXMucGluZ1RpbWVvdXRUaW1lcik7XG4gICAgICAgICAgICAvLyBzdG9wIGV2ZW50IGZyb20gZmlyaW5nIGFnYWluIGZvciB0cmFuc3BvcnRcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycyhcImNsb3NlXCIpO1xuICAgICAgICAgICAgLy8gZW5zdXJlIHRyYW5zcG9ydCB3b24ndCBzdGF5IG9wZW5cbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgICAgICAvLyBpZ25vcmUgZnVydGhlciB0cmFuc3BvcnQgY29tbXVuaWNhdGlvblxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlbW92ZUV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgdGhpcy5iZWZvcmV1bmxvYWRFdmVudExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgdGhpcy5vZmZsaW5lRXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2V0IHJlYWR5IHN0YXRlXG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICAgICAgLy8gY2xlYXIgc2Vzc2lvbiBpZFxuICAgICAgICAgICAgdGhpcy5pZCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbWl0IGNsb3NlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNsb3NlXCIsIHJlYXNvbiwgZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgLy8gY2xlYW4gYnVmZmVycyBhZnRlciwgc28gdXNlcnMgY2FuIHN0aWxsXG4gICAgICAgICAgICAvLyBncmFiIHRoZSBidWZmZXJzIG9uIGBjbG9zZWAgZXZlbnRcbiAgICAgICAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSBbXTtcbiAgICAgICAgICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlsdGVycyB1cGdyYWRlcywgcmV0dXJuaW5nIG9ubHkgdGhvc2UgbWF0Y2hpbmcgY2xpZW50IHRyYW5zcG9ydHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzZXJ2ZXIgdXBncmFkZXNcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKlxuICAgICAqL1xuICAgIGZpbHRlclVwZ3JhZGVzKHVwZ3JhZGVzKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkVXBncmFkZXMgPSBbXTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBjb25zdCBqID0gdXBncmFkZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgaWYgKH50aGlzLnRyYW5zcG9ydHMuaW5kZXhPZih1cGdyYWRlc1tpXSkpXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRVcGdyYWRlcy5wdXNoKHVwZ3JhZGVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsdGVyZWRVcGdyYWRlcztcbiAgICB9XG59XG5Tb2NrZXQucHJvdG9jb2wgPSBwcm90b2NvbDtcbiIsImltcG9ydCB7IFNvY2tldCB9IGZyb20gXCIuL3NvY2tldC5qc1wiO1xuZXhwb3J0IHsgU29ja2V0IH07XG5leHBvcnQgY29uc3QgcHJvdG9jb2wgPSBTb2NrZXQucHJvdG9jb2w7XG5leHBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi90cmFuc3BvcnQuanNcIjtcbmV4cG9ydCB7IHRyYW5zcG9ydHMgfSBmcm9tIFwiLi90cmFuc3BvcnRzL2luZGV4LmpzXCI7XG5leHBvcnQgeyBpbnN0YWxsVGltZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgeyBwYXJzZSB9IGZyb20gXCIuL2NvbnRyaWIvcGFyc2V1cmkuanNcIjtcbmV4cG9ydCB7IG5leHRUaWNrIH0gZnJvbSBcIi4vdHJhbnNwb3J0cy93ZWJzb2NrZXQtY29uc3RydWN0b3IuanNcIjtcbiIsImNvbnN0IHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgaXNWaWV3ID0gKG9iaikgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKVxuICAgICAgICA6IG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbn07XG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEJsb2IgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbChCbG9iKSA9PT0gXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIik7XG5jb25zdCB3aXRoTmF0aXZlRmlsZSA9IHR5cGVvZiBGaWxlID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEZpbGUgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbChGaWxlKSA9PT0gXCJbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl1cIik7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBvYmogaXMgYSBCdWZmZXIsIGFuIEFycmF5QnVmZmVyLCBhIEJsb2Igb3IgYSBGaWxlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0JpbmFyeShvYmopIHtcbiAgICByZXR1cm4gKCh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiYgKG9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhvYmopKSkgfHxcbiAgICAgICAgKHdpdGhOYXRpdmVCbG9iICYmIG9iaiBpbnN0YW5jZW9mIEJsb2IpIHx8XG4gICAgICAgICh3aXRoTmF0aXZlRmlsZSAmJiBvYmogaW5zdGFuY2VvZiBGaWxlKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzQmluYXJ5KG9iaiwgdG9KU09OKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaGFzQmluYXJ5KG9ialtpXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpc0JpbmFyeShvYmopKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAob2JqLnRvSlNPTiAmJlxuICAgICAgICB0eXBlb2Ygb2JqLnRvSlNPTiA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGhhc0JpbmFyeShvYmoudG9KU09OKCksIHRydWUpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkgJiYgaGFzQmluYXJ5KG9ialtrZXldKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IHsgaXNCaW5hcnkgfSBmcm9tIFwiLi9pcy1iaW5hcnkuanNcIjtcbi8qKlxuICogUmVwbGFjZXMgZXZlcnkgQnVmZmVyIHwgQXJyYXlCdWZmZXIgfCBCbG9iIHwgRmlsZSBpbiBwYWNrZXQgd2l0aCBhIG51bWJlcmVkIHBsYWNlaG9sZGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXQgLSBzb2NrZXQuaW8gZXZlbnQgcGFja2V0XG4gKiBAcmV0dXJuIHtPYmplY3R9IHdpdGggZGVjb25zdHJ1Y3RlZCBwYWNrZXQgYW5kIGxpc3Qgb2YgYnVmZmVyc1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb25zdHJ1Y3RQYWNrZXQocGFja2V0KSB7XG4gICAgY29uc3QgYnVmZmVycyA9IFtdO1xuICAgIGNvbnN0IHBhY2tldERhdGEgPSBwYWNrZXQuZGF0YTtcbiAgICBjb25zdCBwYWNrID0gcGFja2V0O1xuICAgIHBhY2suZGF0YSA9IF9kZWNvbnN0cnVjdFBhY2tldChwYWNrZXREYXRhLCBidWZmZXJzKTtcbiAgICBwYWNrLmF0dGFjaG1lbnRzID0gYnVmZmVycy5sZW5ndGg7IC8vIG51bWJlciBvZiBiaW5hcnkgJ2F0dGFjaG1lbnRzJ1xuICAgIHJldHVybiB7IHBhY2tldDogcGFjaywgYnVmZmVyczogYnVmZmVycyB9O1xufVxuZnVuY3Rpb24gX2RlY29uc3RydWN0UGFja2V0KGRhdGEsIGJ1ZmZlcnMpIHtcbiAgICBpZiAoIWRhdGEpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIGlmIChpc0JpbmFyeShkYXRhKSkge1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IHsgX3BsYWNlaG9sZGVyOiB0cnVlLCBudW06IGJ1ZmZlcnMubGVuZ3RoIH07XG4gICAgICAgIGJ1ZmZlcnMucHVzaChkYXRhKTtcbiAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSBuZXcgQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5ld0RhdGFbaV0gPSBfZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtpXSwgYnVmZmVycyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0RhdGE7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmICEoZGF0YSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgbmV3RGF0YVtrZXldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0RhdGE7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuLyoqXG4gKiBSZWNvbnN0cnVjdHMgYSBiaW5hcnkgcGFja2V0IGZyb20gaXRzIHBsYWNlaG9sZGVyIHBhY2tldCBhbmQgYnVmZmVyc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXQgLSBldmVudCBwYWNrZXQgd2l0aCBwbGFjZWhvbGRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGJ1ZmZlcnMgLSBiaW5hcnkgYnVmZmVycyB0byBwdXQgaW4gcGxhY2Vob2xkZXIgcG9zaXRpb25zXG4gKiBAcmV0dXJuIHtPYmplY3R9IHJlY29uc3RydWN0ZWQgcGFja2V0XG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvbnN0cnVjdFBhY2tldChwYWNrZXQsIGJ1ZmZlcnMpIHtcbiAgICBwYWNrZXQuZGF0YSA9IF9yZWNvbnN0cnVjdFBhY2tldChwYWNrZXQuZGF0YSwgYnVmZmVycyk7XG4gICAgcGFja2V0LmF0dGFjaG1lbnRzID0gdW5kZWZpbmVkOyAvLyBubyBsb25nZXIgdXNlZnVsXG4gICAgcmV0dXJuIHBhY2tldDtcbn1cbmZ1bmN0aW9uIF9yZWNvbnN0cnVjdFBhY2tldChkYXRhLCBidWZmZXJzKSB7XG4gICAgaWYgKCFkYXRhKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICBpZiAoZGF0YSAmJiBkYXRhLl9wbGFjZWhvbGRlciA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBpc0luZGV4VmFsaWQgPSB0eXBlb2YgZGF0YS5udW0gPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgICAgIGRhdGEubnVtID49IDAgJiZcbiAgICAgICAgICAgIGRhdGEubnVtIDwgYnVmZmVycy5sZW5ndGg7XG4gICAgICAgIGlmIChpc0luZGV4VmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXJzW2RhdGEubnVtXTsgLy8gYXBwcm9wcmlhdGUgYnVmZmVyIChzaG91bGQgYmUgbmF0dXJhbCBvcmRlciBhbnl3YXkpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGF0dGFjaG1lbnRzXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhW2ldID0gX3JlY29uc3RydWN0UGFja2V0KGRhdGFbaV0sIGJ1ZmZlcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgICAgIGRhdGFba2V5XSA9IF9yZWNvbnN0cnVjdFBhY2tldChkYXRhW2tleV0sIGJ1ZmZlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuIiwiaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgeyBkZWNvbnN0cnVjdFBhY2tldCwgcmVjb25zdHJ1Y3RQYWNrZXQgfSBmcm9tIFwiLi9iaW5hcnkuanNcIjtcbmltcG9ydCB7IGlzQmluYXJ5LCBoYXNCaW5hcnkgfSBmcm9tIFwiLi9pcy1iaW5hcnkuanNcIjtcbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBwcm90b2NvbCA9IDU7XG5leHBvcnQgdmFyIFBhY2tldFR5cGU7XG4oZnVuY3Rpb24gKFBhY2tldFR5cGUpIHtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDT05ORUNUXCJdID0gMF0gPSBcIkNPTk5FQ1RcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJESVNDT05ORUNUXCJdID0gMV0gPSBcIkRJU0NPTk5FQ1RcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJFVkVOVFwiXSA9IDJdID0gXCJFVkVOVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkFDS1wiXSA9IDNdID0gXCJBQ0tcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDT05ORUNUX0VSUk9SXCJdID0gNF0gPSBcIkNPTk5FQ1RfRVJST1JcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJCSU5BUllfRVZFTlRcIl0gPSA1XSA9IFwiQklOQVJZX0VWRU5UXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQklOQVJZX0FDS1wiXSA9IDZdID0gXCJCSU5BUllfQUNLXCI7XG59KShQYWNrZXRUeXBlIHx8IChQYWNrZXRUeXBlID0ge30pKTtcbi8qKlxuICogQSBzb2NrZXQuaW8gRW5jb2RlciBpbnN0YW5jZVxuICovXG5leHBvcnQgY2xhc3MgRW5jb2RlciB7XG4gICAgLyoqXG4gICAgICogRW5jb2RlciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcmVwbGFjZXIgLSBjdXN0b20gcmVwbGFjZXIgdG8gcGFzcyBkb3duIHRvIEpTT04ucGFyc2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXBsYWNlcikge1xuICAgICAgICB0aGlzLnJlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBhIHBhY2tldCBhcyBhIHNpbmdsZSBzdHJpbmcgaWYgbm9uLWJpbmFyeSwgb3IgYXMgYVxuICAgICAqIGJ1ZmZlciBzZXF1ZW5jZSwgZGVwZW5kaW5nIG9uIHBhY2tldCB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHBhY2tldCBvYmplY3RcbiAgICAgKi9cbiAgICBlbmNvZGUob2JqKSB7XG4gICAgICAgIGlmIChvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5FVkVOVCB8fCBvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5BQ0spIHtcbiAgICAgICAgICAgIGlmIChoYXNCaW5hcnkob2JqKSkge1xuICAgICAgICAgICAgICAgIG9iai50eXBlID1cbiAgICAgICAgICAgICAgICAgICAgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuRVZFTlRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gUGFja2V0VHlwZS5CSU5BUllfRVZFTlRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogUGFja2V0VHlwZS5CSU5BUllfQUNLO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZUFzQmluYXJ5KG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0aGlzLmVuY29kZUFzU3RyaW5nKG9iaildO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGUgcGFja2V0IGFzIHN0cmluZy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc1N0cmluZyhvYmopIHtcbiAgICAgICAgLy8gZmlyc3QgaXMgdHlwZVxuICAgICAgICBsZXQgc3RyID0gXCJcIiArIG9iai50eXBlO1xuICAgICAgICAvLyBhdHRhY2htZW50cyBpZiB3ZSBoYXZlIHRoZW1cbiAgICAgICAgaWYgKG9iai50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgc3RyICs9IG9iai5hdHRhY2htZW50cyArIFwiLVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBuYW1lc3BhY2Ugb3RoZXIgdGhhbiBgL2BcbiAgICAgICAgLy8gd2UgYXBwZW5kIGl0IGZvbGxvd2VkIGJ5IGEgY29tbWEgYCxgXG4gICAgICAgIGlmIChvYmoubnNwICYmIFwiL1wiICE9PSBvYmoubnNwKSB7XG4gICAgICAgICAgICBzdHIgKz0gb2JqLm5zcCArIFwiLFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IHRoZSBpZFxuICAgICAgICBpZiAobnVsbCAhPSBvYmouaWQpIHtcbiAgICAgICAgICAgIHN0ciArPSBvYmouaWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8ganNvbiBkYXRhXG4gICAgICAgIGlmIChudWxsICE9IG9iai5kYXRhKSB7XG4gICAgICAgICAgICBzdHIgKz0gSlNPTi5zdHJpbmdpZnkob2JqLmRhdGEsIHRoaXMucmVwbGFjZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBwYWNrZXQgYXMgJ2J1ZmZlciBzZXF1ZW5jZScgYnkgcmVtb3ZpbmcgYmxvYnMsIGFuZFxuICAgICAqIGRlY29uc3RydWN0aW5nIHBhY2tldCBpbnRvIG9iamVjdCB3aXRoIHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBhIGxpc3Qgb2YgYnVmZmVycy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc0JpbmFyeShvYmopIHtcbiAgICAgICAgY29uc3QgZGVjb25zdHJ1Y3Rpb24gPSBkZWNvbnN0cnVjdFBhY2tldChvYmopO1xuICAgICAgICBjb25zdCBwYWNrID0gdGhpcy5lbmNvZGVBc1N0cmluZyhkZWNvbnN0cnVjdGlvbi5wYWNrZXQpO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZGVjb25zdHJ1Y3Rpb24uYnVmZmVycztcbiAgICAgICAgYnVmZmVycy51bnNoaWZ0KHBhY2spOyAvLyBhZGQgcGFja2V0IGluZm8gdG8gYmVnaW5uaW5nIG9mIGRhdGEgbGlzdFxuICAgICAgICByZXR1cm4gYnVmZmVyczsgLy8gd3JpdGUgYWxsIHRoZSBidWZmZXJzXG4gICAgfVxufVxuLyoqXG4gKiBBIHNvY2tldC5pbyBEZWNvZGVyIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBkZWNvZGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWNvZGVyIGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogRGVjb2RlciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcmV2aXZlciAtIGN1c3RvbSByZXZpdmVyIHRvIHBhc3MgZG93biB0byBKU09OLnN0cmluZ2lmeVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJldml2ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yZXZpdmVyID0gcmV2aXZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlcyBhbiBlbmNvZGVkIHBhY2tldCBzdHJpbmcgaW50byBwYWNrZXQgSlNPTi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvYmogLSBlbmNvZGVkIHBhY2tldFxuICAgICAqL1xuICAgIGFkZChvYmopIHtcbiAgICAgICAgbGV0IHBhY2tldDtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnb3QgcGxhaW50ZXh0IGRhdGEgd2hlbiByZWNvbnN0cnVjdGluZyBhIHBhY2tldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhY2tldCA9IHRoaXMuZGVjb2RlU3RyaW5nKG9iaik7XG4gICAgICAgICAgICBpZiAocGFja2V0LnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0VWRU5UIHx8XG4gICAgICAgICAgICAgICAgcGFja2V0LnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgICAgIC8vIGJpbmFyeSBwYWNrZXQncyBqc29uXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbmV3IEJpbmFyeVJlY29uc3RydWN0b3IocGFja2V0KTtcbiAgICAgICAgICAgICAgICAvLyBubyBhdHRhY2htZW50cywgbGFiZWxlZCBiaW5hcnkgYnV0IG5vIGJpbmFyeSBkYXRhIHRvIGZvbGxvd1xuICAgICAgICAgICAgICAgIGlmIChwYWNrZXQuYXR0YWNobWVudHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwiZGVjb2RlZFwiLCBwYWNrZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vbi1iaW5hcnkgZnVsbCBwYWNrZXRcbiAgICAgICAgICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNCaW5hcnkob2JqKSB8fCBvYmouYmFzZTY0KSB7XG4gICAgICAgICAgICAvLyByYXcgYmluYXJ5IGRhdGFcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ290IGJpbmFyeSBkYXRhIHdoZW4gbm90IHJlY29uc3RydWN0aW5nIGEgcGFja2V0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFja2V0ID0gdGhpcy5yZWNvbnN0cnVjdG9yLnRha2VCaW5hcnlEYXRhKG9iaik7XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZWNlaXZlZCBmaW5hbCBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwiZGVjb2RlZFwiLCBwYWNrZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZTogXCIgKyBvYmopO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY29kZSBhIHBhY2tldCBTdHJpbmcgKEpTT04gZGF0YSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHBhY2tldFxuICAgICAqL1xuICAgIGRlY29kZVN0cmluZyhzdHIpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAvLyBsb29rIHVwIHR5cGVcbiAgICAgICAgY29uc3QgcCA9IHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcihzdHIuY2hhckF0KDApKSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFBhY2tldFR5cGVbcC50eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHBhY2tldCB0eXBlIFwiICsgcC50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIGF0dGFjaG1lbnRzIGlmIHR5cGUgYmluYXJ5XG4gICAgICAgIGlmIChwLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0VWRU5UIHx8XG4gICAgICAgICAgICBwLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlIChzdHIuY2hhckF0KCsraSkgIT09IFwiLVwiICYmIGkgIT0gc3RyLmxlbmd0aCkgeyB9XG4gICAgICAgICAgICBjb25zdCBidWYgPSBzdHIuc3Vic3RyaW5nKHN0YXJ0LCBpKTtcbiAgICAgICAgICAgIGlmIChidWYgIT0gTnVtYmVyKGJ1ZikgfHwgc3RyLmNoYXJBdChpKSAhPT0gXCItXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIGF0dGFjaG1lbnRzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcC5hdHRhY2htZW50cyA9IE51bWJlcihidWYpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAgbmFtZXNwYWNlIChpZiBhbnkpXG4gICAgICAgIGlmIChcIi9cIiA9PT0gc3RyLmNoYXJBdChpICsgMSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICB3aGlsZSAoKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgaWYgKFwiLFwiID09PSBjKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gc3RyLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwLm5zcCA9IHN0ci5zdWJzdHJpbmcoc3RhcnQsIGkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcC5uc3AgPSBcIi9cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIGlkXG4gICAgICAgIGNvbnN0IG5leHQgPSBzdHIuY2hhckF0KGkgKyAxKTtcbiAgICAgICAgaWYgKFwiXCIgIT09IG5leHQgJiYgTnVtYmVyKG5leHQpID09IG5leHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICB3aGlsZSAoKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT0gYyB8fCBOdW1iZXIoYykgIT0gYykge1xuICAgICAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gc3RyLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwLmlkID0gTnVtYmVyKHN0ci5zdWJzdHJpbmcoc3RhcnQsIGkgKyAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBqc29uIGRhdGFcbiAgICAgICAgaWYgKHN0ci5jaGFyQXQoKytpKSkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHRoaXMudHJ5UGFyc2Uoc3RyLnN1YnN0cihpKSk7XG4gICAgICAgICAgICBpZiAoRGVjb2Rlci5pc1BheWxvYWRWYWxpZChwLnR5cGUsIHBheWxvYWQpKSB7XG4gICAgICAgICAgICAgICAgcC5kYXRhID0gcGF5bG9hZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgcGF5bG9hZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgdHJ5UGFyc2Uoc3RyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIsIHRoaXMucmV2aXZlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgaXNQYXlsb2FkVmFsaWQodHlwZSwgcGF5bG9hZCkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUOlxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJvYmplY3RcIjtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5ESVNDT05ORUNUOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVF9FUlJPUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHBheWxvYWQgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCI7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRVZFTlQ6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0VWRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpICYmIHBheWxvYWQubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5BQ0s6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0FDSzpcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWFsbG9jYXRlcyBhIHBhcnNlcidzIHJlc291cmNlc1xuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3Rvci5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgbWFuYWdlciBvZiBhIGJpbmFyeSBldmVudCdzICdidWZmZXIgc2VxdWVuY2UnLiBTaG91bGRcbiAqIGJlIGNvbnN0cnVjdGVkIHdoZW5ldmVyIGEgcGFja2V0IG9mIHR5cGUgQklOQVJZX0VWRU5UIGlzXG4gKiBkZWNvZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEByZXR1cm4ge0JpbmFyeVJlY29uc3RydWN0b3J9IGluaXRpYWxpemVkIHJlY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgQmluYXJ5UmVjb25zdHJ1Y3RvciB7XG4gICAgY29uc3RydWN0b3IocGFja2V0KSB7XG4gICAgICAgIHRoaXMucGFja2V0ID0gcGFja2V0O1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5yZWNvblBhY2sgPSBwYWNrZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiBiaW5hcnkgZGF0YSByZWNlaXZlZCBmcm9tIGNvbm5lY3Rpb25cbiAgICAgKiBhZnRlciBhIEJJTkFSWV9FVkVOVCBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0J1ZmZlciB8IEFycmF5QnVmZmVyfSBiaW5EYXRhIC0gdGhlIHJhdyBiaW5hcnkgZGF0YSByZWNlaXZlZFxuICAgICAqIEByZXR1cm4ge251bGwgfCBPYmplY3R9IHJldHVybnMgbnVsbCBpZiBtb3JlIGJpbmFyeSBkYXRhIGlzIGV4cGVjdGVkIG9yXG4gICAgICogICBhIHJlY29uc3RydWN0ZWQgcGFja2V0IG9iamVjdCBpZiBhbGwgYnVmZmVycyBoYXZlIGJlZW4gcmVjZWl2ZWQuXG4gICAgICovXG4gICAgdGFrZUJpbmFyeURhdGEoYmluRGF0YSkge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChiaW5EYXRhKTtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IHRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAvLyBkb25lIHdpdGggYnVmZmVyIGxpc3RcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IHJlY29uc3RydWN0UGFja2V0KHRoaXMucmVjb25QYWNrLCB0aGlzLmJ1ZmZlcnMpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gcGFja2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbnMgdXAgYmluYXJ5IHBhY2tldCByZWNvbnN0cnVjdGlvbiB2YXJpYWJsZXMuXG4gICAgICovXG4gICAgZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZWNvblBhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gb24ob2JqLCBldiwgZm4pIHtcbiAgICBvYmoub24oZXYsIGZuKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3ViRGVzdHJveSgpIHtcbiAgICAgICAgb2JqLm9mZihldiwgZm4pO1xuICAgIH07XG59XG4iLCJpbXBvcnQgeyBQYWNrZXRUeXBlIH0gZnJvbSBcInNvY2tldC5pby1wYXJzZXJcIjtcbmltcG9ydCB7IG9uIH0gZnJvbSBcIi4vb24uanNcIjtcbmltcG9ydCB7IEVtaXR0ZXIsIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbi8qKlxuICogSW50ZXJuYWwgZXZlbnRzLlxuICogVGhlc2UgZXZlbnRzIGNhbid0IGJlIGVtaXR0ZWQgYnkgdGhlIHVzZXIuXG4gKi9cbmNvbnN0IFJFU0VSVkVEX0VWRU5UUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIGNvbm5lY3Q6IDEsXG4gICAgY29ubmVjdF9lcnJvcjogMSxcbiAgICBkaXNjb25uZWN0OiAxLFxuICAgIGRpc2Nvbm5lY3Rpbmc6IDEsXG4gICAgLy8gRXZlbnRFbWl0dGVyIHJlc2VydmVkIGV2ZW50czogaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9ldmVudHMuaHRtbCNldmVudHNfZXZlbnRfbmV3bGlzdGVuZXJcbiAgICBuZXdMaXN0ZW5lcjogMSxcbiAgICByZW1vdmVMaXN0ZW5lcjogMSxcbn0pO1xuLyoqXG4gKiBBIFNvY2tldCBpcyB0aGUgZnVuZGFtZW50YWwgY2xhc3MgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIHNlcnZlci5cbiAqXG4gKiBBIFNvY2tldCBiZWxvbmdzIHRvIGEgY2VydGFpbiBOYW1lc3BhY2UgKGJ5IGRlZmF1bHQgLykgYW5kIHVzZXMgYW4gdW5kZXJseWluZyB7QGxpbmsgTWFuYWdlcn0gdG8gY29tbXVuaWNhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gKlxuICogc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKFwiY29ubmVjdGVkXCIpO1xuICogfSk7XG4gKlxuICogLy8gc2VuZCBhbiBldmVudCB0byB0aGUgc2VydmVyXG4gKiBzb2NrZXQuZW1pdChcImZvb1wiLCBcImJhclwiKTtcbiAqXG4gKiBzb2NrZXQub24oXCJmb29iYXJcIiwgKCkgPT4ge1xuICogICAvLyBhbiBldmVudCB3YXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyXG4gKiB9KTtcbiAqXG4gKiAvLyB1cG9uIGRpc2Nvbm5lY3Rpb25cbiAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICogICBjb25zb2xlLmxvZyhgZGlzY29ubmVjdGVkIGR1ZSB0byAke3JlYXNvbn1gKTtcbiAqIH0pO1xuICovXG5leHBvcnQgY2xhc3MgU29ja2V0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogYFNvY2tldGAgY29uc3RydWN0b3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaW8sIG5zcCwgb3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgc29ja2V0IGlzIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gdGhlIHNlcnZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgICAgICpcbiAgICAgICAgICogc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmNvbm5lY3RlZCk7IC8vIHRydWVcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5jb25uZWN0ZWQpOyAvLyBmYWxzZVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgZm9yIHBhY2tldHMgcmVjZWl2ZWQgYmVmb3JlIHRoZSBDT05ORUNUIHBhY2tldFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgZm9yIHBhY2tldHMgdGhhdCB3aWxsIGJlIHNlbnQgb25jZSB0aGUgc29ja2V0IGlzIGNvbm5lY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gICAgICAgIHRoaXMuaWRzID0gMDtcbiAgICAgICAgdGhpcy5hY2tzID0ge307XG4gICAgICAgIHRoaXMuZmxhZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5pbyA9IGlvO1xuICAgICAgICB0aGlzLm5zcCA9IG5zcDtcbiAgICAgICAgaWYgKG9wdHMgJiYgb3B0cy5hdXRoKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGggPSBvcHRzLmF1dGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW8uX2F1dG9Db25uZWN0KVxuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHNvY2tldCBpcyBjdXJyZW50bHkgZGlzY29ubmVjdGVkXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQub24oXCJjb25uZWN0XCIsICgpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5kaXNjb25uZWN0ZWQpOyAvLyBmYWxzZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhzb2NrZXQuZGlzY29ubmVjdGVkKTsgLy8gdHJ1ZVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGdldCBkaXNjb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5jb25uZWN0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBvcGVuLCBjbG9zZSBhbmQgcGFja2V0IGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzdWJFdmVudHMoKSB7XG4gICAgICAgIGlmICh0aGlzLnN1YnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGlvID0gdGhpcy5pbztcbiAgICAgICAgdGhpcy5zdWJzID0gW1xuICAgICAgICAgICAgb24oaW8sIFwib3BlblwiLCB0aGlzLm9ub3Blbi5iaW5kKHRoaXMpKSxcbiAgICAgICAgICAgIG9uKGlvLCBcInBhY2tldFwiLCB0aGlzLm9ucGFja2V0LmJpbmQodGhpcykpLFxuICAgICAgICAgICAgb24oaW8sIFwiZXJyb3JcIiwgdGhpcy5vbmVycm9yLmJpbmQodGhpcykpLFxuICAgICAgICAgICAgb24oaW8sIFwiY2xvc2VcIiwgdGhpcy5vbmNsb3NlLmJpbmQodGhpcykpLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBTb2NrZXQgd2lsbCB0cnkgdG8gcmVjb25uZWN0IHdoZW4gaXRzIE1hbmFnZXIgY29ubmVjdHMgb3IgcmVjb25uZWN0cy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHNvY2tldC5hY3RpdmUpOyAvLyB0cnVlXG4gICAgICpcbiAgICAgKiBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsIChyZWFzb24pID0+IHtcbiAgICAgKiAgIGlmIChyZWFzb24gPT09IFwiaW8gc2VydmVyIGRpc2Nvbm5lY3RcIikge1xuICAgICAqICAgICAvLyB0aGUgZGlzY29ubmVjdGlvbiB3YXMgaW5pdGlhdGVkIGJ5IHRoZSBzZXJ2ZXIsIHlvdSBuZWVkIHRvIG1hbnVhbGx5IHJlY29ubmVjdFxuICAgICAqICAgICBjb25zb2xlLmxvZyhzb2NrZXQuYWN0aXZlKTsgLy8gZmFsc2VcbiAgICAgKiAgIH1cbiAgICAgKiAgIC8vIGVsc2UgdGhlIHNvY2tldCB3aWxsIGF1dG9tYXRpY2FsbHkgdHJ5IHRvIHJlY29ubmVjdFxuICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmFjdGl2ZSk7IC8vIHRydWVcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBnZXQgYWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLnN1YnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFwiT3BlbnNcIiB0aGUgc29ja2V0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb2NrZXQgPSBpbyh7XG4gICAgICogICBhdXRvQ29ubmVjdDogZmFsc2VcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNvY2tldC5jb25uZWN0KCk7XG4gICAgICovXG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHRoaXMuc3ViRXZlbnRzKCk7XG4gICAgICAgIGlmICghdGhpcy5pb1tcIl9yZWNvbm5lY3RpbmdcIl0pXG4gICAgICAgICAgICB0aGlzLmlvLm9wZW4oKTsgLy8gZW5zdXJlIG9wZW5cbiAgICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLmlvLl9yZWFkeVN0YXRlKVxuICAgICAgICAgICAgdGhpcy5vbm9wZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciB7QGxpbmsgY29ubmVjdCgpfS5cbiAgICAgKi9cbiAgICBvcGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgYG1lc3NhZ2VgIGV2ZW50LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgbWltaWNzIHRoZSBXZWJTb2NrZXQuc2VuZCgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYlNvY2tldC9zZW5kXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5zZW5kKFwiaGVsbG9cIik7XG4gICAgICpcbiAgICAgKiAvLyB0aGlzIGlzIGVxdWl2YWxlbnQgdG9cbiAgICAgKiBzb2NrZXQuZW1pdChcIm1lc3NhZ2VcIiwgXCJoZWxsb1wiKTtcbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIHNlbmQoLi4uYXJncykge1xuICAgICAgICBhcmdzLnVuc2hpZnQoXCJtZXNzYWdlXCIpO1xuICAgICAgICB0aGlzLmVtaXQuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBgZW1pdGAuXG4gICAgICogSWYgdGhlIGV2ZW50IGlzIGluIGBldmVudHNgLCBpdCdzIGVtaXR0ZWQgbm9ybWFsbHkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5lbWl0KFwiaGVsbG9cIiwgXCJ3b3JsZFwiKTtcbiAgICAgKlxuICAgICAqIC8vIGFsbCBzZXJpYWxpemFibGUgZGF0YXN0cnVjdHVyZXMgYXJlIHN1cHBvcnRlZCAobm8gbmVlZCB0byBjYWxsIEpTT04uc3RyaW5naWZ5KVxuICAgICAqIHNvY2tldC5lbWl0KFwiaGVsbG9cIiwgMSwgXCIyXCIsIHsgMzogW1wiNFwiXSwgNTogVWludDhBcnJheS5mcm9tKFs2XSkgfSk7XG4gICAgICpcbiAgICAgKiAvLyB3aXRoIGFuIGFja25vd2xlZGdlbWVudCBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgKiBzb2NrZXQuZW1pdChcImhlbGxvXCIsIFwid29ybGRcIiwgKHZhbCkgPT4ge1xuICAgICAqICAgLy8gLi4uXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBlbWl0KGV2LCAuLi5hcmdzKSB7XG4gICAgICAgIGlmIChSRVNFUlZFRF9FVkVOVFMuaGFzT3duUHJvcGVydHkoZXYpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGV2LnRvU3RyaW5nKCkgKyAnXCIgaXMgYSByZXNlcnZlZCBldmVudCBuYW1lJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy51bnNoaWZ0KGV2KTtcbiAgICAgICAgY29uc3QgcGFja2V0ID0ge1xuICAgICAgICAgICAgdHlwZTogUGFja2V0VHlwZS5FVkVOVCxcbiAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgIH07XG4gICAgICAgIHBhY2tldC5vcHRpb25zID0ge307XG4gICAgICAgIHBhY2tldC5vcHRpb25zLmNvbXByZXNzID0gdGhpcy5mbGFncy5jb21wcmVzcyAhPT0gZmFsc2U7XG4gICAgICAgIC8vIGV2ZW50IGFjayBjYWxsYmFja1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuaWRzKys7XG4gICAgICAgICAgICBjb25zdCBhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVnaXN0ZXJBY2tDYWxsYmFjayhpZCwgYWNrKTtcbiAgICAgICAgICAgIHBhY2tldC5pZCA9IGlkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzVHJhbnNwb3J0V3JpdGFibGUgPSB0aGlzLmlvLmVuZ2luZSAmJlxuICAgICAgICAgICAgdGhpcy5pby5lbmdpbmUudHJhbnNwb3J0ICYmXG4gICAgICAgICAgICB0aGlzLmlvLmVuZ2luZS50cmFuc3BvcnQud3JpdGFibGU7XG4gICAgICAgIGNvbnN0IGRpc2NhcmRQYWNrZXQgPSB0aGlzLmZsYWdzLnZvbGF0aWxlICYmICghaXNUcmFuc3BvcnRXcml0YWJsZSB8fCAhdGhpcy5jb25uZWN0ZWQpO1xuICAgICAgICBpZiAoZGlzY2FyZFBhY2tldCkge1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHBhY2tldCk7XG4gICAgICAgICAgICB0aGlzLnBhY2tldChwYWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZW5kQnVmZmVyLnB1c2gocGFja2V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsYWdzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZWdpc3RlckFja0NhbGxiYWNrKGlkLCBhY2spIHtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHRoaXMuZmxhZ3MudGltZW91dDtcbiAgICAgICAgaWYgKHRpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hY2tzW2lkXSA9IGFjaztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5pby5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWNrc1tpZF07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VuZEJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbmRCdWZmZXJbaV0uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNrLmNhbGwodGhpcywgbmV3IEVycm9yKFwib3BlcmF0aW9uIGhhcyB0aW1lZCBvdXRcIikpO1xuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgdGhpcy5hY2tzW2lkXSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0aGlzLmlvLmNsZWFyVGltZW91dEZuKHRpbWVyKTtcbiAgICAgICAgICAgIGFjay5hcHBseSh0aGlzLCBbbnVsbCwgLi4uYXJnc10pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgcGFja2V0Lm5zcCA9IHRoaXMubnNwO1xuICAgICAgICB0aGlzLmlvLl9wYWNrZXQocGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZW5naW5lIGBvcGVuYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25vcGVuKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuYXV0aCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGFja2V0KHsgdHlwZTogUGFja2V0VHlwZS5DT05ORUNULCBkYXRhIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBhY2tldCh7IHR5cGU6IFBhY2tldFR5cGUuQ09OTkVDVCwgZGF0YTogdGhpcy5hdXRoIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBvciBtYW5hZ2VyIGBlcnJvcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXJyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmVycm9yKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYGNsb3NlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWFzb25cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBkZWxldGUgdGhpcy5pZDtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkaXNjb25uZWN0XCIsIHJlYXNvbiwgZGVzY3JpcHRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCBzb2NrZXQgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25wYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IHNhbWVOYW1lc3BhY2UgPSBwYWNrZXQubnNwID09PSB0aGlzLm5zcDtcbiAgICAgICAgaWYgKCFzYW1lTmFtZXNwYWNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVDpcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0LmRhdGEgJiYgcGFja2V0LmRhdGEuc2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gcGFja2V0LmRhdGEuc2lkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uY29ubmVjdChpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgbmV3IEVycm9yKFwiSXQgc2VlbXMgeW91IGFyZSB0cnlpbmcgdG8gcmVhY2ggYSBTb2NrZXQuSU8gc2VydmVyIGluIHYyLnggd2l0aCBhIHYzLnggY2xpZW50LCBidXQgdGhleSBhcmUgbm90IGNvbXBhdGlibGUgKG1vcmUgaW5mb3JtYXRpb24gaGVyZTogaHR0cHM6Ly9zb2NrZXQuaW8vZG9jcy92My9taWdyYXRpbmctZnJvbS0yLXgtdG8tMy0wLylcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5FVkVOVDpcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5CSU5BUllfRVZFTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5vbmV2ZW50KHBhY2tldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQUNLOlxuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0s6XG4gICAgICAgICAgICAgICAgdGhpcy5vbmFjayhwYWNrZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkRJU0NPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgdGhpcy5vbmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUX0VSUk9SOlxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihwYWNrZXQuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgZXJyLmRhdGEgPSBwYWNrZXQuZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdF9lcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGEgc2VydmVyIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25ldmVudChwYWNrZXQpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IHBhY2tldC5kYXRhIHx8IFtdO1xuICAgICAgICBpZiAobnVsbCAhPSBwYWNrZXQuaWQpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaCh0aGlzLmFjayhwYWNrZXQuaWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdEV2ZW50KGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyLnB1c2goT2JqZWN0LmZyZWV6ZShhcmdzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW1pdEV2ZW50KGFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FueUxpc3RlbmVycyAmJiB0aGlzLl9hbnlMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZW1pdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYW4gYWNrIGNhbGxiYWNrIHRvIGVtaXQgd2l0aCBhbiBldmVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYWNrKGlkKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgc2VudCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnQgZG91YmxlIGNhbGxiYWNrc1xuICAgICAgICAgICAgaWYgKHNlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2VudCA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnBhY2tldCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUGFja2V0VHlwZS5BQ0ssXG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgYWNrbm93bGVnZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmFjayhwYWNrZXQpIHtcbiAgICAgICAgY29uc3QgYWNrID0gdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY2spIHtcbiAgICAgICAgICAgIGFjay5hcHBseSh0aGlzLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gc2VydmVyIGNvbm5lY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY29ubmVjdChpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbWl0QnVmZmVyZWQoKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0IGJ1ZmZlcmVkIGV2ZW50cyAocmVjZWl2ZWQgYW5kIGVtaXR0ZWQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBlbWl0QnVmZmVyZWQoKSB7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5mb3JFYWNoKChhcmdzKSA9PiB0aGlzLmVtaXRFdmVudChhcmdzKSk7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnNlbmRCdWZmZXIuZm9yRWFjaCgocGFja2V0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHBhY2tldCk7XG4gICAgICAgICAgICB0aGlzLnBhY2tldChwYWNrZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNlcnZlciBkaXNjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm9uY2xvc2UoXCJpbyBzZXJ2ZXIgZGlzY29ubmVjdFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZm9yY2VkIGNsaWVudC9zZXJ2ZXIgc2lkZSBkaXNjb25uZWN0aW9ucyxcbiAgICAgKiB0aGlzIG1ldGhvZCBlbnN1cmVzIHRoZSBtYW5hZ2VyIHN0b3BzIHRyYWNraW5nIHVzIGFuZFxuICAgICAqIHRoYXQgcmVjb25uZWN0aW9ucyBkb24ndCBnZXQgdHJpZ2dlcmVkIGZvciB0aGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzKSB7XG4gICAgICAgICAgICAvLyBjbGVhbiBzdWJzY3JpcHRpb25zIHRvIGF2b2lkIHJlY29ubmVjdGlvbnNcbiAgICAgICAgICAgIHRoaXMuc3Vicy5mb3JFYWNoKChzdWJEZXN0cm95KSA9PiBzdWJEZXN0cm95KCkpO1xuICAgICAgICAgICAgdGhpcy5zdWJzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW9bXCJfZGVzdHJveVwiXSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIHNvY2tldCBtYW51YWxseS4gSW4gdGhhdCBjYXNlLCB0aGUgc29ja2V0IHdpbGwgbm90IHRyeSB0byByZWNvbm5lY3QuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIGlzIHRoZSBsYXN0IGFjdGl2ZSBTb2NrZXQgaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBNYW5hZ2VyfSwgdGhlIGxvdy1sZXZlbCBjb25uZWN0aW9uIHdpbGwgYmUgY2xvc2VkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgICAqXG4gICAgICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAocmVhc29uKSA9PiB7XG4gICAgICogICAvLyBjb25zb2xlLmxvZyhyZWFzb24pOyBwcmludHMgXCJpbyBjbGllbnQgZGlzY29ubmVjdFwiXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQuZGlzY29ubmVjdCgpO1xuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBhY2tldCh7IHR5cGU6IFBhY2tldFR5cGUuRElTQ09OTkVDVCB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgc29ja2V0IGZyb20gcG9vbFxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAvLyBmaXJlIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5vbmNsb3NlKFwiaW8gY2xpZW50IGRpc2Nvbm5lY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciB7QGxpbmsgZGlzY29ubmVjdCgpfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNvbXByZXNzIGZsYWcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5jb21wcmVzcyhmYWxzZSkuZW1pdChcImhlbGxvXCIpO1xuICAgICAqXG4gICAgICogQHBhcmFtIGNvbXByZXNzIC0gaWYgYHRydWVgLCBjb21wcmVzc2VzIHRoZSBzZW5kaW5nIGRhdGFcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBjb21wcmVzcyhjb21wcmVzcykge1xuICAgICAgICB0aGlzLmZsYWdzLmNvbXByZXNzID0gY29tcHJlc3M7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbW9kaWZpZXIgZm9yIGEgc3Vic2VxdWVudCBldmVudCBlbWlzc2lvbiB0aGF0IHRoZSBldmVudCBtZXNzYWdlIHdpbGwgYmUgZHJvcHBlZCB3aGVuIHRoaXMgc29ja2V0IGlzIG5vdFxuICAgICAqIHJlYWR5IHRvIHNlbmQgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC52b2xhdGlsZS5lbWl0KFwiaGVsbG9cIik7IC8vIHRoZSBzZXJ2ZXIgbWF5IG9yIG1heSBub3QgcmVjZWl2ZSBpdFxuICAgICAqXG4gICAgICogQHJldHVybnMgc2VsZlxuICAgICAqL1xuICAgIGdldCB2b2xhdGlsZSgpIHtcbiAgICAgICAgdGhpcy5mbGFncy52b2xhdGlsZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbW9kaWZpZXIgZm9yIGEgc3Vic2VxdWVudCBldmVudCBlbWlzc2lvbiB0aGF0IHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGVycm9yIHdoZW4gdGhlXG4gICAgICogZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgd2l0aG91dCBhbiBhY2tub3dsZWRnZW1lbnQgZnJvbSB0aGUgc2VydmVyOlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQudGltZW91dCg1MDAwKS5lbWl0KFwibXktZXZlbnRcIiwgKGVycikgPT4ge1xuICAgICAqICAgaWYgKGVycikge1xuICAgICAqICAgICAvLyB0aGUgc2VydmVyIGRpZCBub3QgYWNrbm93bGVkZ2UgdGhlIGV2ZW50IGluIHRoZSBnaXZlbiBkZWxheVxuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHJldHVybnMgc2VsZlxuICAgICAqL1xuICAgIHRpbWVvdXQodGltZW91dCkge1xuICAgICAgICB0aGlzLmZsYWdzLnRpbWVvdXQgPSB0aW1lb3V0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLiBUaGUgZXZlbnQgbmFtZSBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZVxuICAgICAqIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQub25BbnkoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgZ290ICR7ZXZlbnR9YCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBvbkFueShsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LnByZXBlbmRBbnkoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgZ290IGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBwcmVwZW5kQW55KGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycyA9IHRoaXMuX2FueUxpc3RlbmVycyB8fCBbXTtcbiAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhdGNoQWxsTGlzdGVuZXIgPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGBnb3QgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBzb2NrZXQub25BbnkoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyByZW1vdmUgYSBzcGVjaWZpYyBsaXN0ZW5lclxuICAgICAqIHNvY2tldC5vZmZBbnkoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyBvciByZW1vdmUgYWxsIGxpc3RlbmVyc1xuICAgICAqIHNvY2tldC5vZmZBbnkoKTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIG9mZkFueShsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX2FueUxpc3RlbmVycykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FueUxpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0aGF0IGFyZSBsaXN0ZW5pbmcgZm9yIGFueSBldmVudCB0aGF0IGlzIHNwZWNpZmllZC4gVGhpcyBhcnJheSBjYW4gYmUgbWFuaXB1bGF0ZWQsXG4gICAgICogZS5nLiB0byByZW1vdmUgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGxpc3RlbmVyc0FueSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FueUxpc3RlbmVycyB8fCBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLiBUaGUgZXZlbnQgbmFtZSBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZVxuICAgICAqIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogTm90ZTogYWNrbm93bGVkZ2VtZW50cyBzZW50IHRvIHRoZSBzZXJ2ZXIgYXJlIG5vdCBpbmNsdWRlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0Lm9uQW55T3V0Z29pbmcoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc2VudCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgb25BbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheS5cbiAgICAgKlxuICAgICAqIE5vdGU6IGFja25vd2xlZGdlbWVudHMgc2VudCB0byB0aGUgc2VydmVyIGFyZSBub3QgaW5jbHVkZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5wcmVwZW5kQW55T3V0Z29pbmcoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc2VudCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgcHJlcGVuZEFueU91dGdvaW5nKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzID0gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhdGNoQWxsTGlzdGVuZXIgPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGBzZW50IGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uQW55T3V0Z29pbmcoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyByZW1vdmUgYSBzcGVjaWZpYyBsaXN0ZW5lclxuICAgICAqIHNvY2tldC5vZmZBbnlPdXRnb2luZyhjYXRjaEFsbExpc3RlbmVyKTtcbiAgICAgKlxuICAgICAqIC8vIG9yIHJlbW92ZSBhbGwgbGlzdGVuZXJzXG4gICAgICogc29ja2V0Lm9mZkFueU91dGdvaW5nKCk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gW2xpc3RlbmVyXSAtIHRoZSBjYXRjaC1hbGwgbGlzdGVuZXIgKG9wdGlvbmFsKVxuICAgICAqL1xuICAgIG9mZkFueU91dGdvaW5nKGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRoYXQgYXJlIGxpc3RlbmluZyBmb3IgYW55IGV2ZW50IHRoYXQgaXMgc3BlY2lmaWVkLiBUaGlzIGFycmF5IGNhbiBiZSBtYW5pcHVsYXRlZCxcbiAgICAgKiBlLmcuIHRvIHJlbW92ZSBsaXN0ZW5lcnMuXG4gICAgICovXG4gICAgbGlzdGVuZXJzQW55T3V0Z29pbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyB8fCBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoZSBsaXN0ZW5lcnMgZm9yIGVhY2ggcGFja2V0IHNlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbm90aWZ5T3V0Z29pbmdMaXN0ZW5lcnMocGFja2V0KSB7XG4gICAgICAgIGlmICh0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyAmJiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogSW5pdGlhbGl6ZSBiYWNrb2ZmIHRpbWVyIHdpdGggYG9wdHNgLlxuICpcbiAqIC0gYG1pbmAgaW5pdGlhbCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBbMTAwXVxuICogLSBgbWF4YCBtYXggdGltZW91dCBbMTAwMDBdXG4gKiAtIGBqaXR0ZXJgIFswXVxuICogLSBgZmFjdG9yYCBbMl1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEJhY2tvZmYob3B0cykge1xuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIHRoaXMubXMgPSBvcHRzLm1pbiB8fCAxMDA7XG4gICAgdGhpcy5tYXggPSBvcHRzLm1heCB8fCAxMDAwMDtcbiAgICB0aGlzLmZhY3RvciA9IG9wdHMuZmFjdG9yIHx8IDI7XG4gICAgdGhpcy5qaXR0ZXIgPSBvcHRzLmppdHRlciA+IDAgJiYgb3B0cy5qaXR0ZXIgPD0gMSA/IG9wdHMuaml0dGVyIDogMDtcbiAgICB0aGlzLmF0dGVtcHRzID0gMDtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBiYWNrb2ZmIGR1cmF0aW9uLlxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLmR1cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtcyA9IHRoaXMubXMgKiBNYXRoLnBvdyh0aGlzLmZhY3RvciwgdGhpcy5hdHRlbXB0cysrKTtcbiAgICBpZiAodGhpcy5qaXR0ZXIpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICB2YXIgZGV2aWF0aW9uID0gTWF0aC5mbG9vcihyYW5kICogdGhpcy5qaXR0ZXIgKiBtcyk7XG4gICAgICAgIG1zID0gKE1hdGguZmxvb3IocmFuZCAqIDEwKSAmIDEpID09IDAgPyBtcyAtIGRldmlhdGlvbiA6IG1zICsgZGV2aWF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5taW4obXMsIHRoaXMubWF4KSB8IDA7XG59O1xuLyoqXG4gKiBSZXNldCB0aGUgbnVtYmVyIG9mIGF0dGVtcHRzLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYXR0ZW1wdHMgPSAwO1xufTtcbi8qKlxuICogU2V0IHRoZSBtaW5pbXVtIGR1cmF0aW9uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQmFja29mZi5wcm90b3R5cGUuc2V0TWluID0gZnVuY3Rpb24gKG1pbikge1xuICAgIHRoaXMubXMgPSBtaW47XG59O1xuLyoqXG4gKiBTZXQgdGhlIG1heGltdW0gZHVyYXRpb25cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRNYXggPSBmdW5jdGlvbiAobWF4KSB7XG4gICAgdGhpcy5tYXggPSBtYXg7XG59O1xuLyoqXG4gKiBTZXQgdGhlIGppdHRlclxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLnNldEppdHRlciA9IGZ1bmN0aW9uIChqaXR0ZXIpIHtcbiAgICB0aGlzLmppdHRlciA9IGppdHRlcjtcbn07XG4iLCJpbXBvcnQgeyBTb2NrZXQgYXMgRW5naW5lLCBpbnN0YWxsVGltZXJGdW5jdGlvbnMsIG5leHRUaWNrLCB9IGZyb20gXCJlbmdpbmUuaW8tY2xpZW50XCI7XG5pbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbmltcG9ydCAqIGFzIHBhcnNlciBmcm9tIFwic29ja2V0LmlvLXBhcnNlclwiO1xuaW1wb3J0IHsgb24gfSBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHsgQmFja29mZiB9IGZyb20gXCIuL2NvbnRyaWIvYmFja28yLmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyLCB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5leHBvcnQgY2xhc3MgTWFuYWdlciBleHRlbmRzIEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubnNwcyA9IHt9O1xuICAgICAgICB0aGlzLnN1YnMgPSBbXTtcbiAgICAgICAgaWYgKHVyaSAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgdXJpKSB7XG4gICAgICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICAgICAgdXJpID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgICBvcHRzLnBhdGggPSBvcHRzLnBhdGggfHwgXCIvc29ja2V0LmlvXCI7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyh0aGlzLCBvcHRzKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb24ob3B0cy5yZWNvbm5lY3Rpb24gIT09IGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyhvcHRzLnJlY29ubmVjdGlvbkF0dGVtcHRzIHx8IEluZmluaXR5KTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25EZWxheShvcHRzLnJlY29ubmVjdGlvbkRlbGF5IHx8IDEwMDApO1xuICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KG9wdHMucmVjb25uZWN0aW9uRGVsYXlNYXggfHwgNTAwMCk7XG4gICAgICAgIHRoaXMucmFuZG9taXphdGlvbkZhY3RvcigoX2EgPSBvcHRzLnJhbmRvbWl6YXRpb25GYWN0b3IpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDAuNSk7XG4gICAgICAgIHRoaXMuYmFja29mZiA9IG5ldyBCYWNrb2ZmKHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5yZWNvbm5lY3Rpb25EZWxheSgpLFxuICAgICAgICAgICAgbWF4OiB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCksXG4gICAgICAgICAgICBqaXR0ZXI6IHRoaXMucmFuZG9taXphdGlvbkZhY3RvcigpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50aW1lb3V0KG51bGwgPT0gb3B0cy50aW1lb3V0ID8gMjAwMDAgOiBvcHRzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy51cmkgPSB1cmk7XG4gICAgICAgIGNvbnN0IF9wYXJzZXIgPSBvcHRzLnBhcnNlciB8fCBwYXJzZXI7XG4gICAgICAgIHRoaXMuZW5jb2RlciA9IG5ldyBfcGFyc2VyLkVuY29kZXIoKTtcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gbmV3IF9wYXJzZXIuRGVjb2RlcigpO1xuICAgICAgICB0aGlzLl9hdXRvQ29ubmVjdCA9IG9wdHMuYXV0b0Nvbm5lY3QgIT09IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b0Nvbm5lY3QpXG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uKHYpIHtcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uID0gISF2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uQXR0ZW1wdHModikge1xuICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cyA9IHY7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWNvbm5lY3Rpb25EZWxheSh2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25EZWxheTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uRGVsYXkgPSB2O1xuICAgICAgICAoX2EgPSB0aGlzLmJhY2tvZmYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRNaW4odik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByYW5kb21pemF0aW9uRmFjdG9yKHYpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmRvbWl6YXRpb25GYWN0b3I7XG4gICAgICAgIHRoaXMuX3JhbmRvbWl6YXRpb25GYWN0b3IgPSB2O1xuICAgICAgICAoX2EgPSB0aGlzLmJhY2tvZmYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRKaXR0ZXIodik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWNvbm5lY3Rpb25EZWxheU1heCh2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25EZWxheU1heDtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXggPSB2O1xuICAgICAgICAoX2EgPSB0aGlzLmJhY2tvZmYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRNYXgodik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0aW1lb3V0KHYpIHtcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVvdXQ7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRyeWluZyB0byByZWNvbm5lY3QgaWYgcmVjb25uZWN0aW9uIGlzIGVuYWJsZWQgYW5kIHdlIGhhdmUgbm90XG4gICAgICogc3RhcnRlZCByZWNvbm5lY3RpbmcgeWV0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG1heWJlUmVjb25uZWN0T25PcGVuKCkge1xuICAgICAgICAvLyBPbmx5IHRyeSB0byByZWNvbm5lY3QgaWYgaXQncyB0aGUgZmlyc3QgdGltZSB3ZSdyZSBjb25uZWN0aW5nXG4gICAgICAgIGlmICghdGhpcy5fcmVjb25uZWN0aW5nICYmXG4gICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3Rpb24gJiZcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5hdHRlbXB0cyA9PT0gMCkge1xuICAgICAgICAgICAgLy8ga2VlcHMgcmVjb25uZWN0aW9uIGZyb20gZmlyaW5nIHR3aWNlIGZvciB0aGUgc2FtZSByZWNvbm5lY3Rpb24gbG9vcFxuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHRyYW5zcG9ydCBgc29ja2V0YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gb3B0aW9uYWwsIGNhbGxiYWNrXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIG9wZW4oZm4pIHtcbiAgICAgICAgaWYgKH50aGlzLl9yZWFkeVN0YXRlLmluZGV4T2YoXCJvcGVuXCIpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHRoaXMuZW5naW5lID0gbmV3IEVuZ2luZSh0aGlzLnVyaSwgdGhpcy5vcHRzKTtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gdGhpcy5lbmdpbmU7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJvcGVuaW5nXCI7XG4gICAgICAgIHRoaXMuc2tpcFJlY29ubmVjdCA9IGZhbHNlO1xuICAgICAgICAvLyBlbWl0IGBvcGVuYFxuICAgICAgICBjb25zdCBvcGVuU3ViRGVzdHJveSA9IG9uKHNvY2tldCwgXCJvcGVuXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYub25vcGVuKCk7XG4gICAgICAgICAgICBmbiAmJiBmbigpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gZW1pdCBgZXJyb3JgXG4gICAgICAgIGNvbnN0IGVycm9yU3ViID0gb24oc29ja2V0LCBcImVycm9yXCIsIChlcnIpID0+IHtcbiAgICAgICAgICAgIHNlbGYuY2xlYW51cCgpO1xuICAgICAgICAgICAgc2VsZi5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVycik7XG4gICAgICAgICAgICBpZiAoZm4pIHtcbiAgICAgICAgICAgICAgICBmbihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBkbyB0aGlzIGlmIHRoZXJlIGlzIG5vIGZuIHRvIGhhbmRsZSB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICBzZWxmLm1heWJlUmVjb25uZWN0T25PcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZmFsc2UgIT09IHRoaXMuX3RpbWVvdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuICAgICAgICAgICAgaWYgKHRpbWVvdXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBvcGVuU3ViRGVzdHJveSgpOyAvLyBwcmV2ZW50cyBhIHJhY2UgY29uZGl0aW9uIHdpdGggdGhlICdvcGVuJyBldmVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2V0IHRpbWVyXG4gICAgICAgICAgICBjb25zdCB0aW1lciA9IHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBvcGVuU3ViRGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdChcImVycm9yXCIsIG5ldyBFcnJvcihcInRpbWVvdXRcIikpO1xuICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgICAgICAgIHRpbWVyLnVucmVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN1YnMucHVzaChmdW5jdGlvbiBzdWJEZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YnMucHVzaChvcGVuU3ViRGVzdHJveSk7XG4gICAgICAgIHRoaXMuc3Vicy5wdXNoKGVycm9yU3ViKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBvcGVuKClcbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBjb25uZWN0KGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW4oZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiB0cmFuc3BvcnQgb3Blbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25vcGVuKCkge1xuICAgICAgICAvLyBjbGVhciBvbGQgc3Vic1xuICAgICAgICB0aGlzLmNsZWFudXAoKTtcbiAgICAgICAgLy8gbWFyayBhcyBvcGVuXG4gICAgICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBcIm9wZW5cIjtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJvcGVuXCIpO1xuICAgICAgICAvLyBhZGQgbmV3IHN1YnNcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gdGhpcy5lbmdpbmU7XG4gICAgICAgIHRoaXMuc3Vicy5wdXNoKG9uKHNvY2tldCwgXCJwaW5nXCIsIHRoaXMub25waW5nLmJpbmQodGhpcykpLCBvbihzb2NrZXQsIFwiZGF0YVwiLCB0aGlzLm9uZGF0YS5iaW5kKHRoaXMpKSwgb24oc29ja2V0LCBcImVycm9yXCIsIHRoaXMub25lcnJvci5iaW5kKHRoaXMpKSwgb24oc29ja2V0LCBcImNsb3NlXCIsIHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKSwgb24odGhpcy5kZWNvZGVyLCBcImRlY29kZWRcIiwgdGhpcy5vbmRlY29kZWQuYmluZCh0aGlzKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHBpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ucGluZygpIHtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwaW5nXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRhdGEoZGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kZWNvZGVyLmFkZChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5vbmNsb3NlKFwicGFyc2UgZXJyb3JcIiwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gcGFyc2VyIGZ1bGx5IGRlY29kZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZGVjb2RlZChwYWNrZXQpIHtcbiAgICAgICAgLy8gdGhlIG5leHRUaWNrIGNhbGwgcHJldmVudHMgYW4gZXhjZXB0aW9uIGluIGEgdXNlci1wcm92aWRlZCBldmVudCBsaXN0ZW5lciBmcm9tIHRyaWdnZXJpbmcgYSBkaXNjb25uZWN0aW9uIGR1ZSB0byBhIFwicGFyc2UgZXJyb3JcIlxuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldFwiLCBwYWNrZXQpO1xuICAgICAgICB9LCB0aGlzLnNldFRpbWVvdXRGbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNvY2tldCBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25lcnJvcihlcnIpIHtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHNvY2tldCBmb3IgdGhlIGdpdmVuIGBuc3BgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U29ja2V0fVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzb2NrZXQobnNwLCBvcHRzKSB7XG4gICAgICAgIGxldCBzb2NrZXQgPSB0aGlzLm5zcHNbbnNwXTtcbiAgICAgICAgaWYgKCFzb2NrZXQpIHtcbiAgICAgICAgICAgIHNvY2tldCA9IG5ldyBTb2NrZXQodGhpcywgbnNwLCBvcHRzKTtcbiAgICAgICAgICAgIHRoaXMubnNwc1tuc3BdID0gc29ja2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb2NrZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGEgc29ja2V0IGNsb3NlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNvY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Rlc3Ryb3koc29ja2V0KSB7XG4gICAgICAgIGNvbnN0IG5zcHMgPSBPYmplY3Qua2V5cyh0aGlzLm5zcHMpO1xuICAgICAgICBmb3IgKGNvbnN0IG5zcCBvZiBuc3BzKSB7XG4gICAgICAgICAgICBjb25zdCBzb2NrZXQgPSB0aGlzLm5zcHNbbnNwXTtcbiAgICAgICAgICAgIGlmIChzb2NrZXQuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Nsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRQYWNrZXRzID0gdGhpcy5lbmNvZGVyLmVuY29kZShwYWNrZXQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZWRQYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS53cml0ZShlbmNvZGVkUGFja2V0c1tpXSwgcGFja2V0Lm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRyYW5zcG9ydCBzdWJzY3JpcHRpb25zIGFuZCBwYWNrZXQgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjbGVhbnVwKCkge1xuICAgICAgICB0aGlzLnN1YnMuZm9yRWFjaCgoc3ViRGVzdHJveSkgPT4gc3ViRGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5zdWJzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZGVjb2Rlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBjdXJyZW50IHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2Nsb3NlKCkge1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbmNsb3NlKFwiZm9yY2VkIGNsb3NlXCIpO1xuICAgICAgICBpZiAodGhpcy5lbmdpbmUpXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgY2xvc2UoKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZW5naW5lIGNsb3NlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmNsb3NlKHJlYXNvbiwgZGVzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCByZWFzb24sIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGlvbiAmJiAhdGhpcy5za2lwUmVjb25uZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgYSByZWNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGluZyB8fCB0aGlzLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPj0gdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfZmFpbGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuYmFja29mZi5kdXJhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9hdHRlbXB0XCIsIHNlbGYuYmFja29mZi5hdHRlbXB0cyk7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgYWdhaW4gZm9yIHRoZSBjYXNlIHNvY2tldCBjbG9zZWQgaW4gYWJvdmUgZXZlbnRzXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuc2tpcFJlY29ubmVjdClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNlbGYub3BlbigoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2Vycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9ucmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICAgICAgdGltZXIudW5yZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3Vicy5wdXNoKGZ1bmN0aW9uIHN1YkRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHN1Y2Nlc3NmdWwgcmVjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnJlY29ubmVjdCgpIHtcbiAgICAgICAgY29uc3QgYXR0ZW1wdCA9IHRoaXMuYmFja29mZi5hdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdFwiLCBhdHRlbXB0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyB1cmwgfSBmcm9tIFwiLi91cmwuanNcIjtcbmltcG9ydCB7IE1hbmFnZXIgfSBmcm9tIFwiLi9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbi8qKlxuICogTWFuYWdlcnMgY2FjaGUuXG4gKi9cbmNvbnN0IGNhY2hlID0ge307XG5mdW5jdGlvbiBsb29rdXAodXJpLCBvcHRzKSB7XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgb3B0cyA9IHVyaTtcbiAgICAgICAgdXJpID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICBjb25zdCBwYXJzZWQgPSB1cmwodXJpLCBvcHRzLnBhdGggfHwgXCIvc29ja2V0LmlvXCIpO1xuICAgIGNvbnN0IHNvdXJjZSA9IHBhcnNlZC5zb3VyY2U7XG4gICAgY29uc3QgaWQgPSBwYXJzZWQuaWQ7XG4gICAgY29uc3QgcGF0aCA9IHBhcnNlZC5wYXRoO1xuICAgIGNvbnN0IHNhbWVOYW1lc3BhY2UgPSBjYWNoZVtpZF0gJiYgcGF0aCBpbiBjYWNoZVtpZF1bXCJuc3BzXCJdO1xuICAgIGNvbnN0IG5ld0Nvbm5lY3Rpb24gPSBvcHRzLmZvcmNlTmV3IHx8XG4gICAgICAgIG9wdHNbXCJmb3JjZSBuZXcgY29ubmVjdGlvblwiXSB8fFxuICAgICAgICBmYWxzZSA9PT0gb3B0cy5tdWx0aXBsZXggfHxcbiAgICAgICAgc2FtZU5hbWVzcGFjZTtcbiAgICBsZXQgaW87XG4gICAgaWYgKG5ld0Nvbm5lY3Rpb24pIHtcbiAgICAgICAgaW8gPSBuZXcgTWFuYWdlcihzb3VyY2UsIG9wdHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFjYWNoZVtpZF0pIHtcbiAgICAgICAgICAgIGNhY2hlW2lkXSA9IG5ldyBNYW5hZ2VyKHNvdXJjZSwgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaW8gPSBjYWNoZVtpZF07XG4gICAgfVxuICAgIGlmIChwYXJzZWQucXVlcnkgJiYgIW9wdHMucXVlcnkpIHtcbiAgICAgICAgb3B0cy5xdWVyeSA9IHBhcnNlZC5xdWVyeUtleTtcbiAgICB9XG4gICAgcmV0dXJuIGlvLnNvY2tldChwYXJzZWQucGF0aCwgb3B0cyk7XG59XG4vLyBzbyB0aGF0IFwibG9va3VwXCIgY2FuIGJlIHVzZWQgYm90aCBhcyBhIGZ1bmN0aW9uIChlLmcuIGBpbyguLi4pYCkgYW5kIGFzIGFcbi8vIG5hbWVzcGFjZSAoZS5nLiBgaW8uY29ubmVjdCguLi4pYCksIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5PYmplY3QuYXNzaWduKGxvb2t1cCwge1xuICAgIE1hbmFnZXIsXG4gICAgU29ja2V0LFxuICAgIGlvOiBsb29rdXAsXG4gICAgY29ubmVjdDogbG9va3VwLFxufSk7XG4vKipcbiAqIFByb3RvY29sIHZlcnNpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgeyBwcm90b2NvbCB9IGZyb20gXCJzb2NrZXQuaW8tcGFyc2VyXCI7XG4vKipcbiAqIEV4cG9zZSBjb25zdHJ1Y3RvcnMgZm9yIHN0YW5kYWxvbmUgYnVpbGQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgeyBNYW5hZ2VyLCBTb2NrZXQsIGxvb2t1cCBhcyBpbywgbG9va3VwIGFzIGNvbm5lY3QsIGxvb2t1cCBhcyBkZWZhdWx0LCB9O1xuIiwiaW1wb3J0IHsgcGFyc2UgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuLyoqXG4gKiBVUkwgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSB1cmkgLSB1cmxcbiAqIEBwYXJhbSBwYXRoIC0gdGhlIHJlcXVlc3QgcGF0aCBvZiB0aGUgY29ubmVjdGlvblxuICogQHBhcmFtIGxvYyAtIEFuIG9iamVjdCBtZWFudCB0byBtaW1pYyB3aW5kb3cubG9jYXRpb24uXG4gKiAgICAgICAgRGVmYXVsdHMgdG8gd2luZG93LmxvY2F0aW9uLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXJsKHVyaSwgcGF0aCA9IFwiXCIsIGxvYykge1xuICAgIGxldCBvYmogPSB1cmk7XG4gICAgLy8gZGVmYXVsdCB0byB3aW5kb3cubG9jYXRpb25cbiAgICBsb2MgPSBsb2MgfHwgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBsb2NhdGlvbik7XG4gICAgaWYgKG51bGwgPT0gdXJpKVxuICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2MuaG9zdDtcbiAgICAvLyByZWxhdGl2ZSBwYXRoIHN1cHBvcnRcbiAgICBpZiAodHlwZW9mIHVyaSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoXCIvXCIgPT09IHVyaS5jaGFyQXQoMCkpIHtcbiAgICAgICAgICAgIGlmIChcIi9cIiA9PT0gdXJpLmNoYXJBdCgxKSkge1xuICAgICAgICAgICAgICAgIHVyaSA9IGxvYy5wcm90b2NvbCArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHVyaSA9IGxvYy5ob3N0ICsgdXJpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghL14oaHR0cHM/fHdzcz8pOlxcL1xcLy8udGVzdCh1cmkpKSB7XG4gICAgICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGxvYykge1xuICAgICAgICAgICAgICAgIHVyaSA9IGxvYy5wcm90b2NvbCArIFwiLy9cIiArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHVyaSA9IFwiaHR0cHM6Ly9cIiArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJzZVxuICAgICAgICBvYmogPSBwYXJzZSh1cmkpO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgd2UgdHJlYXQgYGxvY2FsaG9zdDo4MGAgYW5kIGBsb2NhbGhvc3RgIGVxdWFsbHlcbiAgICBpZiAoIW9iai5wb3J0KSB7XG4gICAgICAgIGlmICgvXihodHRwfHdzKSQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgICAgICAgb2JqLnBvcnQgPSBcIjgwXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoL14oaHR0cHx3cylzJC8udGVzdChvYmoucHJvdG9jb2wpKSB7XG4gICAgICAgICAgICBvYmoucG9ydCA9IFwiNDQzXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb2JqLnBhdGggPSBvYmoucGF0aCB8fCBcIi9cIjtcbiAgICBjb25zdCBpcHY2ID0gb2JqLmhvc3QuaW5kZXhPZihcIjpcIikgIT09IC0xO1xuICAgIGNvbnN0IGhvc3QgPSBpcHY2ID8gXCJbXCIgKyBvYmouaG9zdCArIFwiXVwiIDogb2JqLmhvc3Q7XG4gICAgLy8gZGVmaW5lIHVuaXF1ZSBpZFxuICAgIG9iai5pZCA9IG9iai5wcm90b2NvbCArIFwiOi8vXCIgKyBob3N0ICsgXCI6XCIgKyBvYmoucG9ydCArIHBhdGg7XG4gICAgLy8gZGVmaW5lIGhyZWZcbiAgICBvYmouaHJlZiA9XG4gICAgICAgIG9iai5wcm90b2NvbCArXG4gICAgICAgICAgICBcIjovL1wiICtcbiAgICAgICAgICAgIGhvc3QgK1xuICAgICAgICAgICAgKGxvYyAmJiBsb2MucG9ydCA9PT0gb2JqLnBvcnQgPyBcIlwiIDogXCI6XCIgKyBvYmoucG9ydCk7XG4gICAgcmV0dXJuIG9iajtcbn1cbiIsImltcG9ydCB7IGlvIH0gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcclxuaW1wb3J0IHsgU2NlbmVNYW5hZ2VyIH0gZnJvbSBcIi4vU2NlbmVNYW5hZ2VyLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBTb2NrZXRNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lTWFuYWdlciwgY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy50YWcgPSBcIkVWRU5USEFORExFUlwiO1xyXG4gICAgICAgIHRoaXMuZGVsZXRlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2NlbmVNYW5hZ2VyID0gc2NlbmVNYW5hZ2VyO1xyXG4gICAgICAgIHRoaXMuc29ja2V0ID0gaW8oKTtcclxuICAgICAgICBpZiAoY29uZmlnLnNvY2tldEV2ZW50TWFwKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5zb2NrZXRFdmVudE1hcCh0aGlzLnNvY2tldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goXCJjbGlja1wiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goZXZlbnQua2V5KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQua2V5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBpZiAoY29tcC5jb21wb25lbnRJZCA9PSB1bmRlZmluZWQgfHwgY29tcC5jb21wb25lbnRJZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IFNjZW5lTWFuYWdlci5nZXRVbmlxdWVDb21wb25lbnRJZCgpO1xyXG4gICAgICAgICAgICBjb21wLmNvbXBvbmVudElkID0gaWQ7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChpZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoY29tcC5jb21wb25lbnRJZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU29ja2V0IE1hbmFnZXIgcmVnaXN0ZXJlZFwiKTtcclxuICAgIH1cclxuICAgIHVucmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGxldCBkZWxldGVkID0gdGhpcy5jb21wb25lbnRzLmdldChjb21wKTtcclxuICAgICAgICBpZiAoZGVsZXRlZCkge1xyXG4gICAgICAgICAgICBkZWxldGVkLmFsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKGRlbGV0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2xpZW50IFNvY2tldCBIYW5kbGVyXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2xpZW50IFNvY2tldCBIYW5kbGVyIENvbXBvbmVudHM6XCIgKyB0aGlzLmNvbXBvbmVudHMuc2l6ZSk7XHJcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuY29tcG9uZW50cy5zaXplO1xyXG4gICAgICAgIGxldCBrZXlzID0gWy4uLnRoaXMuY29tcG9uZW50cy5rZXlzKCldO1xyXG4gICAgICAgIGZvciAodmFyIGNvbXAgb2Yga2V5cykge1xyXG4gICAgICAgICAgICB2YXIgbGlzdGVuYWJsZSA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgICAgIHZhciBldmVudE1hcCA9IGxpc3RlbmFibGUuZXZlbnRNYXA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGUgb2YgdGhpcy5ldmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudE1hcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmdW5jID0gZXZlbnRNYXAuZ2V0KGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmdW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGlzdGVuYWJsZS51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmRlbGV0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29tcCA9PT0gbnVsbCB8fCBjb21wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Tb2NrZXRNYW5hZ2VyLmpzLm1hcCIsImltcG9ydCB7IFRyYW5zZm9ybSB9IGZyb20gXCIuLi9QaHlzaWNzL3RyYW5zZm9ybS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgVGV4dCB7XHJcbiAgICB1cGRhdGUoZHQsIGN0eCkge1xyXG4gICAgfVxyXG4gICAgY29uc3RydWN0b3IodGV4dCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJHUkFQSElDU1wiO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSh0aGlzLmVudGl0eSwge1xyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICB6OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgIH1cclxuICAgIGNvcHkodGV4dCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SWQgPSB0ZXh0LmNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gdGV4dC5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dC50ZXh0O1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmN0eC5maWxsVGV4dCh0aGlzLnRleHQsIDIwLCAyMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZSgpIHtcclxuICAgIH1cclxuICAgIHRvSnNvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuZW50aXR5LFxyXG4gICAgICAgICAgICBlbmdpbmVUYWc6IHRoaXMuZW5naW5lVGFnLFxyXG4gICAgICAgICAgICBjb21wb25lbnRJZDogdGhpcy5jb21wb25lbnRJZCxcclxuICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0LFxyXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnZpc2libGUsXHJcbiAgICAgICAgICAgIGFsaXZlOiB0aGlzLmFsaXZlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0LmpzLm1hcCIsImltcG9ydCB7IFRleHQgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL1RleHQuanNcIjtcclxuZXhwb3J0IGNsYXNzIExhYmVsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IG5ldyBUZXh0KFwidGVzdFwiKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbdGhpcy50ZXh0XTtcclxuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IFwiTGFiZWxcIjtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1MYWJlbC5qcy5tYXAiLCJpbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiLi4vZW5naW5lL3NyYy9jb3JlL2VuZ2luZS5qc1wiO1xyXG5pbXBvcnQgeyBHcmFwaGljc0NvbmZpZyB9IGZyb20gXCIuLi9lbmdpbmUvc3JjL2NvcmUvY29uZmlnLmpzXCI7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3NjZW5lcy9lbnRpdGllcy9QbGF5ZXIuanNcIjtcclxuaW1wb3J0IHsgVGVtcGxhciB9IGZyb20gXCIuL3NjZW5lcy9lbnRpdGllcy9UZW1wbGFyLmpzXCI7XHJcbmltcG9ydCB7IE1haW5DYW1lcmEgfSBmcm9tIFwiLi9zY2VuZXMvZW50aXRpZXMvTWFpbkNhbWVyYS5qc1wiO1xyXG5pbXBvcnQgeyBFbmdpbmVUeXBlIH0gZnJvbSBcIi4uL2VuZ2luZS9zcmMvY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuaW1wb3J0IHsgU29ja2V0TWFuYWdlciB9IGZyb20gXCIuLi9lbmdpbmUvc3JjL2NvcmUvbWFuYWdlcnMvU29ja2V0TWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuL3NjZW5lcy9lbnRpdGllcy9MYWJlbC5qc1wiO1xyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgIFxyXG4gICAgdmFyIHNvY2tldDogU29ja2V0ID0gaW8oKVxyXG5cclxuICAgIGxldCBDT05GSUc6IFBoYXNlci5UeXBlcy5Db3JlLkdhbWVDb25maWcgPSB7XHJcbiAgICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgICAgdGl0bGU6ICd0ZXN0JyxcclxuICAgICAgICBwYXJlbnQ6ICdnYW1lJyxcclxuICAgICAgICBzY2VuZTogW1xyXG4gICAgICAgICAgICBuZXcgV2FpdGluZ1NjZW5lKHNvY2tldClcclxuICAgICAgICBdLFxyXG4gICAgICAgIHNjYWxlOiB7XHJcbiAgICAgICAgICAgIG1vZGU6IFBoYXNlci5TY2FsZS5DRU5URVJfQk9USCxcclxuICAgICAgICAgICAgd2lkdGg6IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aCAtICh3aW5kb3cub3V0ZXJXaWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoKSxcclxuICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0IC0gKHdpbmRvdy5vdXRlckhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodClcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjM2FiYTNhXCIsXHJcbiAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXHJcblxyXG4gICAgICAgIGRvbToge1xyXG4gICAgICAgICAgICBjcmVhdGVDb250YWluZXI6IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAgICAgc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKT0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCcpXHJcbiAgICAgICAgICAgIHZhciByb29tSWQ6IHN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZVxyXG4gICAgICAgICAgICB2YXIgcm9vbUFycjogc3RyaW5nW10gID0gcm9vbUlkLnNwbGl0KFwiL1wiKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyb29tQXJyW3Jvb21BcnIubGVuZ3RoLTFdKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyb29tSWQpXHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiQWRkUGxheWVyXCIsIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiUGxheWVyTmFtZVwiKSwgcm9vbUFycltyb29tQXJyLmxlbmd0aC0xXSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSlcclxuICAgICAgICBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Rpc2Nvbm5lY3RlZCcpXHJcbiAgICAgICAgfSlcclxuICAgIHZhciBnYW1lOiBQaGFzZXIuR2FtZSA9IG5ldyBQaGFzZXIuR2FtZShDT05GSUcpXHJcbiAgICAqL1xyXG4gICAgY2xhc3MgVGVzdCB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gXCJ0ZXN0XCI7XHJcbiAgICAgICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuZW50aXRpZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lQ29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRpdGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcy5zZXQoaSwgZW50aXRpZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IGVuZ2luZSA9IG5ldyBFbmdpbmUoe1xyXG4gICAgICAgIGVuZ2luZVR5cGU6IEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5ULFxyXG4gICAgICAgIGdyYXBoaWNzQ29uZmlnOiBuZXcgR3JhcGhpY3NDb25maWcoXCJ0ZXN0XCIsIFwiMTkzYXNcIiwgeyBcImJhY2tncm91bmQtY29sb3JcIjogXCJ3aGl0ZVwiLCBcIndpZHRoXCI6IFwiMTAwJVwiLCBcImhlaWdodFwiOiBcIjEwMCVcIiB9KSxcclxuICAgICAgICBzY2VuZUNvbmZpZzogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzY2VuZTogbmV3IFRlc3QoW10pLFxyXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFtdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIHNjcmlwdGluZ0NvbmZpZzoge30sXHJcbiAgICAgICAgY29sbGlzaW9uQ29uZmlnOiB7fVxyXG4gICAgfSk7XHJcbiAgICBsZXQgbWFwID0gbmV3IE1hcCgpO1xyXG4gICAgbWFwLnNldChcIlRlbXBsYXJcIiwgKCkgPT4geyByZXR1cm4gbmV3IFRlbXBsYXIoKTsgfSk7XHJcbiAgICBtYXAuc2V0KFwiTWFpbkNhbWVyYVwiLCAoKSA9PiB7IGNvbnNvbGUubG9nKFwiY2FtZXJhIG1hZGVcIik7IHJldHVybiBuZXcgTWFpbkNhbWVyYSgpOyB9KTtcclxuICAgIG1hcC5zZXQoXCJQbGF5ZXJcIiwgKCkgPT4geyByZXR1cm4gbmV3IFBsYXllcigpOyB9KTtcclxuICAgIG1hcC5zZXQoXCJMYWJlbFwiLCAoKSA9PiB7IHJldHVybiBuZXcgTGFiZWwoKTsgfSk7XHJcbiAgICBlbmdpbmUuc3lzdGVtcy5wdXNoKG5ldyBTb2NrZXRNYW5hZ2VyKGVuZ2luZS5zY2VuZU1hbmFnZXIsIHtcclxuICAgICAgICBlbnRpdHlGYWN0b3J5TWFwOiBtYXAsXHJcbiAgICAgICAgc29ja2V0RXZlbnRNYXA6IChzb2NrZXQpID0+IHtcclxuICAgICAgICAgICAgc29ja2V0Lm9uKFwiY2xpZW50SW5pdGlhbGl6ZVwiLCAoZW50aXRpZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2xpZW50SW5pdGlhbGl6ZSBhY3RpdmF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRpdHlTZW50IG9mIGVudGl0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdldFNjZW5lID0gZW5naW5lLnNjZW5lTWFuYWdlci5zY2VuZXMuZ2V0KGVudGl0eVNlbnQuc2NlbmVJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldFNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdFbnRpdHlGYWN0b3J5ID0gbWFwLmdldChlbnRpdHlTZW50LmVudGl0eUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0VudGl0eUZhY3RvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdFbnRpdHkgPSBuZXdFbnRpdHlGYWN0b3J5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFbnRpdHkuaWQgPSBlbnRpdHlTZW50LmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RW50aXR5LnNjZW5lID0gZW5naW5lLnNjZW5lTWFuYWdlci5zY2VuZXMuZ2V0KGVudGl0eVNlbnQuc2NlbmVJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0VudGl0eS5jb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RW50aXR5LmNvbXBvbmVudHNbaV0uY29weShlbnRpdHlTZW50LmNvbXBvbmVudHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0U2NlbmUuZW50aXRpZXMuc2V0KG5ld0VudGl0eS5pZCwgbmV3RW50aXR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWRkZWQgXCIgKyBuZXdFbnRpdHkuY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgZW50aXR5OyBDbGFzcyBuYW1lOiBcIiArIGVudGl0eVNlbnQuZW50aXR5Q2xhc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNjZW5lIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbmdpbmUuc3RhcnQoNDAwMCk7XHJcbiAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGUgb2YgZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gMFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmlkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA9IGUuaWRcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZW50IGl0ZW1zIGlzIFwiICsgZW50aXR5IClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZW5naW5lLnNjZW5lTWFuYWdlci5nZXRDdXJyZW50U2NlbmUoKS5hZGRFbnRpdHkoZW5naW5lLnNjZW5lTWFuYWdlci5nZXRDdXJyZW50U2NlbmUoKSxlICwgZS5pZClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzb2NrZXQub24oXCJjb25uZWN0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29ubmVjdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvb21JZCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcclxuICAgICAgICAgICAgICAgIHZhciByb29tQXJyID0gcm9vbUlkLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiam9pbmVkXCIsIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiUGxheWVyTmFtZVwiKSwgcm9vbUFycltyb29tQXJyLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZW1pdHRpbmdcIik7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuZW1pdChcImNsaWVudEluaXRpYWxpemVcIik7XHJcbiAgICAgICAgICAgICAgICAvL2VuZ2luZS5zdGFydCgyMDAwKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc29ja2V0Lm9uKFwidXBkYXRlXCIsIChlbnRpdGllcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5U2VudCBvZiBlbnRpdGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBnZXRTY2VuZSA9IGVuZ2luZS5zY2VuZU1hbmFnZXIuc2NlbmVzLmdldChlbnRpdHlTZW50LnNjZW5lSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChnZXRTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudGl0eVNlbnQuY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZ2luZSA9IGdldFNjZW5lLmVuZ2luZUNvbXBvbmVudHMuZ2V0KGVudGl0eVNlbnQuY29tcG9uZW50c1tpXS5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXAgPSBlbmdpbmUgPT09IG51bGwgfHwgZW5naW5lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbmdpbmUuZ2V0KGVudGl0eVNlbnQuY29tcG9uZW50c1tpXS5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAuY29weShlbnRpdHlTZW50LmNvbXBvbmVudHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTY2VuZSBub3QgZm91bmRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KSk7XHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJFbmdpbmVUeXBlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwiYWRkU29ja2V0RW50aXR5Iiwic2NlbmUiLCJlbnRpdHkiLCJpZCIsInVuaXF1ZUlkIiwiY29tcCIsImVudGl0aWVzIiwic2V0IiwiY29tcG9uZW50cyIsImVuZ2luZUNvbXBvbmVudHMiLCJlbmdpbmVUYWciLCJzeXN0ZW0iLCJzY2VuZU1hbmFnZXIiLCJzeXN0ZW1UYWciLCJyZWdpc3RlciIsImNvbnNvbGUiLCJsb2ciLCJhZGRFbnRpdHkiLCJjb21wTGlzdCIsImNvbXBvbmVudElkIiwiY29uc3RydWN0b3IiLCJlbmdpbmVDb25maWciLCJzY2VuZXMiLCJzeXN0ZW1zIiwidGhpcyIsIk1hcCIsImVuZ2luZVR5cGUiLCJTT0NLRVRDTElFTlQiLCJTT0NLRVRTRVJWRVIiLCJpIiwibGVuZ3RoIiwibmV3U2NlbmUiLCJuYW1lIiwic2NlbmVDb25maWdzIiwiY3VycmVudElkeCIsInN3aXRjaFNjZW5lcyIsInN5cyIsInRhZyIsIkVycm9yIiwiZ2V0Q3VycmVudFNjZW5lIiwiY3VyciIsInN0YXRpYyIsIkV2ZW50SGFuZGxlciIsImV2ZW50Q29uZmlnIiwia2V5Ym9hcmQiLCJtb3VzZSIsImRlbGV0ZWQiLCJldmVudHMiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJwdXNoIiwidW5kZWZpbmVkIiwidW5yZWdpc3RlciIsImFsaXZlIiwidXBkYXRlIiwiZHQiLCJzaXplIiwia2V5cyIsImxpc3RlbmFibGUiLCJldmVudE1hcCIsImUiLCJmdW5jIiwicG9wIiwiZGVsZXRlIiwiUHJpb3JpdHlRdWV1ZSIsIml0ZW1zIiwiY2xlYXIiLCJzd2FwIiwiaWR4MSIsImlkeDIiLCJ0bXAiLCJlbnF1ZXVlIiwiaXRlbSIsInByaW9yaXR5IiwiZGF0YSIsImlkeCIsInBhcmVudElkeCIsIk1hdGgiLCJmbG9vciIsImRlcXVldWUiLCJwb3BwZWQiLCJsYXN0IiwibGVmdCIsInJpZ2h0IiwiY2hpbGRJZHgiLCJQYWludGVyU3RyYXRlZ3kiLCJxdWV1ZSIsInJlbmRlciIsInJlbmRlcmluZ0FyciIsImNhbWVyYXMiLCJsaXN0IiwicmVnaXN0ZXJTdHJhdGVneSIsImNvbXBvbmVudCIsInRyYW5zZm9ybSIsInBvcyIsInoiLCJHcmFwaGljc0VuZ2luZSIsImdyYXBoaWNzQ29uZmlnIiwiY29udGV4dCIsInJlbmRlcmluZyIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJoZWlnaHQiLCJ3aWR0aCIsImJvZHkiLCJtYXJnaW4iLCJyZW5kZXJTdHJhdGVneSIsImNvbnRleHRJbmZvIiwicmVuZGVyZWQiLCJpbml0aWFsaXplIiwiY3R4IiwiYyIsInNldFNjZW5lIiwiUGh5c2ljc0VuZ2luZSIsImNvbmZpZyIsIlNjcmlwdGluZ0VuZ2luZSIsImNhbGxiYWNrIiwiQ29udGV4dEluZm8iLCJzZXR1cCIsImNhbnZhcyIsImdlbmVyYXRlQ2FudmFzIiwiZ2V0Q29udGV4dCIsImRpdiIsImdlbmVyYXRlRGl2IiwicGFyZW50IiwiY3JlYXRlRWxlbWVudCIsInBvc2l0aW9uIiwiekluZGV4IiwiYmFja2dyb3VuZEltYWdlIiwiYXBwZW5kQ2hpbGQiLCJjYW52YXNJRCIsInBhcnNlU3R5bGUiLCJzZXRBdHRyaWJ1dGUiLCJnZXRDdHgiLCJnZXRDYW52YXMiLCJnZXRFbGVtZW50QnlJZCIsIkhUTUxDYW52YXNFbGVtZW50Iiwic3R5bGVPYmplY3QiLCJjc3NBcnJheSIsImVudHJpZXMiLCJtYXAiLCJrIiwidiIsImpvaW4iLCJpbWFnZSIsIkltYWdlIiwic3JjIiwiQ29sbGlzaW9uU3lzdGVtIiwia2V5MSIsImNvbDEiLCJ2aXNpYmxlIiwia2V5MiIsImNvbDIiLCJjaGVja0NvbGxpc2lvbiIsImNvbGxpZGVzIiwiZGVsZXRlQ29tcG9uZW50IiwiY29sIiwiRW5naW5lIiwiZ2FtZUNvbmZpZyIsIkNMSUVOVE9OTFkiLCJ0aW1lIiwicGh5c2ljc0NvbmZpZyIsInNjcmlwdGluZ0NvbmZpZyIsImNvbGxpc2lvbkNvbmZpZyIsImdyYXBoaWNzIiwic2NlbmVDb25maWciLCJydW5uaW5nIiwic3RhcnQiLCJvbGRNYXAiLCJzZXRUaW1lb3V0Iiwic2VydmVyVXBkYXRlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGltZXN0YW1wIiwiR3JhcGhpY3NDb25maWciLCJiYWNrZ3JvdW5kIiwiVHJhbnNmb3JtIiwieCIsInkiLCJ2ZWwiLCJhY2NlbCIsImNvcHkiLCJ0b0pTT04iLCJTcHJpdGUiLCJlbGVtZW50IiwidmlzaXQiLCJkcmF3SW1hZ2UiLCJSZWN0YW5nbGUiLCJyZWN0YW5nbGUiLCJyIiwicmFuZG9tIiwiZyIsImIiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIk1vdXNlTGlzdGVuZXIiLCJjbGlja01hcCIsImxpc3RlbmVyIiwib25lUHVuY2giLCJTY3JpcHQiLCJzY3JpcHQiLCJjb21wb25lbklkIiwiQm94Q29sbGlkZXIiLCJzIiwib25Db2xsaXNpb24iLCJjb2xsaWRlVHlwZSIsInNoYXBlIiwiZGltIiwicm90IiwicHJldiIsImNvbGxpZGVyIiwicmVjdCIsIlBsYXllciIsImNsYXNzTmFtZSIsInJlbmRlcmVyIiwic3ByaXRlIiwiY29sbCIsIlRlbXBsYXIiLCJDYW1lcmEiLCJzY2FsZSIsImNhbWVyYSIsInRyYW5zbGF0ZSIsImNsZWFyUmVjdCIsInNhdmUiLCJhcnJheSIsIk1haW5DYW1lcmEiLCJQQUNLRVRfVFlQRVMiLCJjcmVhdGUiLCJQQUNLRVRfVFlQRVNfUkVWRVJTRSIsImZvckVhY2giLCJFUlJPUl9QQUNLRVQiLCJ0eXBlIiwid2l0aE5hdGl2ZUJsb2IiLCJCbG9iIiwidG9TdHJpbmciLCJ3aXRoTmF0aXZlQXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsImVuY29kZUJsb2JBc0Jhc2U2NCIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiY29udGVudCIsInJlc3VsdCIsInNwbGl0IiwicmVhZEFzRGF0YVVSTCIsInN1cHBvcnRzQmluYXJ5IiwiaXNWaWV3IiwiYnVmZmVyIiwiY2hhcnMiLCJsb29rdXAiLCJVaW50OEFycmF5IiwiY2hhckNvZGVBdCIsImRlY29kZUJhc2U2NFBhY2tldCIsImJpbmFyeVR5cGUiLCJkZWNvZGVkIiwiYmFzZTY0IiwiZW5jb2RlZDEiLCJlbmNvZGVkMiIsImVuY29kZWQzIiwiZW5jb2RlZDQiLCJidWZmZXJMZW5ndGgiLCJsZW4iLCJwIiwiYXJyYXlidWZmZXIiLCJieXRlcyIsImRlY29kZSIsIm1hcEJpbmFyeSIsImVuY29kZWRQYWNrZXQiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJTRVBBUkFUT1IiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJFbWl0dGVyIiwibWl4aW4iLCJvbiIsImZuIiwiX2NhbGxiYWNrcyIsIm9uY2UiLCJvZmYiLCJhcHBseSIsImFyZ3VtZW50cyIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNiIiwiY2FsbGJhY2tzIiwic3BsaWNlIiwiZW1pdCIsImFyZ3MiLCJBcnJheSIsInNsaWNlIiwiZW1pdFJlc2VydmVkIiwibGlzdGVuZXJzIiwiaGFzTGlzdGVuZXJzIiwiZ2xvYmFsVGhpc1NoaW0iLCJzZWxmIiwiRnVuY3Rpb24iLCJwaWNrIiwiYXR0ciIsInJlZHVjZSIsImFjYyIsIk5BVElWRV9TRVRfVElNRU9VVCIsIk5BVElWRV9DTEVBUl9USU1FT1VUIiwiY2xlYXJUaW1lb3V0IiwiaW5zdGFsbFRpbWVyRnVuY3Rpb25zIiwib3B0cyIsInVzZU5hdGl2ZVRpbWVycyIsInNldFRpbWVvdXRGbiIsImJpbmQiLCJjbGVhclRpbWVvdXRGbiIsIlRyYW5zcG9ydEVycm9yIiwicmVhc29uIiwiZGVzY3JpcHRpb24iLCJzdXBlciIsIlRyYW5zcG9ydCIsIndyaXRhYmxlIiwicXVlcnkiLCJyZWFkeVN0YXRlIiwic29ja2V0Iiwib25FcnJvciIsIm9wZW4iLCJkb09wZW4iLCJjbG9zZSIsImRvQ2xvc2UiLCJvbkNsb3NlIiwic2VuZCIsInBhY2tldHMiLCJ3cml0ZSIsIm9uT3BlbiIsIm9uRGF0YSIsInBhY2tldCIsIm9uUGFja2V0IiwiZGV0YWlscyIsImFscGhhYmV0Iiwic2VlZCIsIm51bSIsImVuY29kZWQiLCJ5ZWFzdCIsIm5vdyIsIkRhdGUiLCJzdHIiLCJlbmNvZGVVUklDb21wb25lbnQiLCJYTUxIdHRwUmVxdWVzdCIsImVyciIsImhhc0NPUlMiLCJYSFIiLCJ4ZG9tYWluIiwiY29uY2F0IiwiZW1wdHkiLCJoYXNYSFIyIiwicmVzcG9uc2VUeXBlIiwiUmVxdWVzdCIsInVyaSIsIm1ldGhvZCIsImFzeW5jIiwieGQiLCJ4c2NoZW1lIiwieHMiLCJ4aHIiLCJleHRyYUhlYWRlcnMiLCJzZXREaXNhYmxlSGVhZGVyQ2hlY2siLCJzZXRSZXF1ZXN0SGVhZGVyIiwid2l0aENyZWRlbnRpYWxzIiwicmVxdWVzdFRpbWVvdXQiLCJ0aW1lb3V0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwic3RhdHVzIiwib25Mb2FkIiwiaW5kZXgiLCJyZXF1ZXN0c0NvdW50IiwicmVxdWVzdHMiLCJjbGVhbnVwIiwiZnJvbUVycm9yIiwiYWJvcnQiLCJyZXNwb25zZVRleHQiLCJ1bmxvYWRIYW5kbGVyIiwiYXR0YWNoRXZlbnQiLCJuZXh0VGljayIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIldlYlNvY2tldCIsImlzUmVhY3ROYXRpdmUiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwidG9Mb3dlckNhc2UiLCJ0cmFuc3BvcnRzIiwid2Vic29ja2V0IiwiZm9yY2VCYXNlNjQiLCJjaGVjayIsInByb3RvY29scyIsImhlYWRlcnMiLCJ3cyIsImFkZEV2ZW50TGlzdGVuZXJzIiwib25vcGVuIiwiYXV0b1VucmVmIiwiX3NvY2tldCIsInVucmVmIiwib25jbG9zZSIsImNsb3NlRXZlbnQiLCJvbm1lc3NhZ2UiLCJldiIsIm9uZXJyb3IiLCJsYXN0UGFja2V0Iiwic2NoZW1hIiwic2VjdXJlIiwicG9ydCIsIk51bWJlciIsInRpbWVzdGFtcFJlcXVlc3RzIiwidGltZXN0YW1wUGFyYW0iLCJiNjQiLCJlbmNvZGVkUXVlcnkiLCJob3N0bmFtZSIsImluZGV4T2YiLCJwYXRoIiwicG9sbGluZyIsImxvY2F0aW9uIiwiaXNTU0wiLCJwcm90b2NvbCIsInBvbGwiLCJwYXVzZSIsIm9uUGF1c2UiLCJ0b3RhbCIsImRvUG9sbCIsImVuY29kZWRQYXlsb2FkIiwiZW5jb2RlZFBhY2tldHMiLCJkZWNvZGVkUGFja2V0IiwiZGVjb2RlUGF5bG9hZCIsImNvdW50IiwiZW5jb2RlUGF5bG9hZCIsImRvV3JpdGUiLCJzaWQiLCJyZXF1ZXN0IiwiYXNzaWduIiwicmVxIiwieGhyU3RhdHVzIiwicG9sbFhociIsInJlIiwicGFydHMiLCJwYXJzZSIsInJlcGxhY2UiLCJtIiwiZXhlYyIsInNvdXJjZSIsImhvc3QiLCJhdXRob3JpdHkiLCJpcHY2dXJpIiwicGF0aE5hbWVzIiwibmFtZXMiLCJxdWVyeUtleSIsIiQwIiwiJDEiLCIkMiIsIlNvY2tldCIsIndyaXRlQnVmZmVyIiwicHJldkJ1ZmZlckxlbiIsImFnZW50IiwidXBncmFkZSIsInJlbWVtYmVyVXBncmFkZSIsInJlamVjdFVuYXV0aG9yaXplZCIsInBlck1lc3NhZ2VEZWZsYXRlIiwidGhyZXNob2xkIiwidHJhbnNwb3J0T3B0aW9ucyIsImNsb3NlT25CZWZvcmV1bmxvYWQiLCJxcyIsInFyeSIsInBhaXJzIiwibCIsInBhaXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ1cGdyYWRlcyIsInBpbmdJbnRlcnZhbCIsInBpbmdUaW1lb3V0IiwicGluZ1RpbWVvdXRUaW1lciIsImJlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIiLCJ0cmFuc3BvcnQiLCJvZmZsaW5lRXZlbnRMaXN0ZW5lciIsImNyZWF0ZVRyYW5zcG9ydCIsIkVJTyIsInByaW9yV2Vic29ja2V0U3VjY2VzcyIsInNoaWZ0Iiwic2V0VHJhbnNwb3J0Iiwib25EcmFpbiIsInByb2JlIiwiZmFpbGVkIiwib25UcmFuc3BvcnRPcGVuIiwibXNnIiwidXBncmFkaW5nIiwiZmx1c2giLCJmcmVlemVUcmFuc3BvcnQiLCJlcnJvciIsIm9uVHJhbnNwb3J0Q2xvc2UiLCJvbnVwZ3JhZGUiLCJ0byIsIm9uSGFuZHNoYWtlIiwiSlNPTiIsInJlc2V0UGluZ1RpbWVvdXQiLCJzZW5kUGFja2V0IiwiY29kZSIsImZpbHRlclVwZ3JhZGVzIiwibWF4UGF5bG9hZCIsImdldFdyaXRhYmxlUGFja2V0cyIsInBheWxvYWRTaXplIiwidXRmOExlbmd0aCIsImNlaWwiLCJieXRlTGVuZ3RoIiwib3B0aW9ucyIsImNvbXByZXNzIiwiY2xlYW51cEFuZENsb3NlIiwid2FpdEZvclVwZ3JhZGUiLCJmaWx0ZXJlZFVwZ3JhZGVzIiwiaiIsIndpdGhOYXRpdmVGaWxlIiwiRmlsZSIsImlzQmluYXJ5IiwiaGFzQmluYXJ5IiwiaXNBcnJheSIsImRlY29uc3RydWN0UGFja2V0IiwiYnVmZmVycyIsInBhY2tldERhdGEiLCJwYWNrIiwiX2RlY29uc3RydWN0UGFja2V0IiwiYXR0YWNobWVudHMiLCJwbGFjZWhvbGRlciIsIl9wbGFjZWhvbGRlciIsIm5ld0RhdGEiLCJyZWNvbnN0cnVjdFBhY2tldCIsIl9yZWNvbnN0cnVjdFBhY2tldCIsIlBhY2tldFR5cGUiLCJFbmNvZGVyIiwicmVwbGFjZXIiLCJlbmNvZGUiLCJFVkVOVCIsIkFDSyIsImVuY29kZUFzU3RyaW5nIiwiQklOQVJZX0VWRU5UIiwiQklOQVJZX0FDSyIsImVuY29kZUFzQmluYXJ5IiwibnNwIiwic3RyaW5naWZ5IiwiZGVjb25zdHJ1Y3Rpb24iLCJ1bnNoaWZ0IiwiRGVjb2RlciIsInJldml2ZXIiLCJhZGQiLCJyZWNvbnN0cnVjdG9yIiwiZGVjb2RlU3RyaW5nIiwiQmluYXJ5UmVjb25zdHJ1Y3RvciIsInRha2VCaW5hcnlEYXRhIiwiYnVmIiwibmV4dCIsInBheWxvYWQiLCJ0cnlQYXJzZSIsInN1YnN0ciIsImlzUGF5bG9hZFZhbGlkIiwiQ09OTkVDVCIsIkRJU0NPTk5FQ1QiLCJDT05ORUNUX0VSUk9SIiwiZGVzdHJveSIsImZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24iLCJyZWNvblBhY2siLCJiaW5EYXRhIiwiUkVTRVJWRURfRVZFTlRTIiwiZnJlZXplIiwiY29ubmVjdCIsImNvbm5lY3RfZXJyb3IiLCJkaXNjb25uZWN0IiwiZGlzY29ubmVjdGluZyIsIm5ld0xpc3RlbmVyIiwiaW8iLCJjb25uZWN0ZWQiLCJyZWNlaXZlQnVmZmVyIiwic2VuZEJ1ZmZlciIsImlkcyIsImFja3MiLCJmbGFncyIsImF1dGgiLCJfYXV0b0Nvbm5lY3QiLCJkaXNjb25uZWN0ZWQiLCJzdWJFdmVudHMiLCJzdWJzIiwib25wYWNrZXQiLCJhY3RpdmUiLCJfcmVhZHlTdGF0ZSIsImFjayIsIl9yZWdpc3RlckFja0NhbGxiYWNrIiwiaXNUcmFuc3BvcnRXcml0YWJsZSIsImVuZ2luZSIsInZvbGF0aWxlIiwibm90aWZ5T3V0Z29pbmdMaXN0ZW5lcnMiLCJ0aW1lciIsIl9wYWNrZXQiLCJvbmNvbm5lY3QiLCJvbmV2ZW50Iiwib25hY2siLCJvbmRpc2Nvbm5lY3QiLCJtZXNzYWdlIiwiZW1pdEV2ZW50IiwiX2FueUxpc3RlbmVycyIsInNlbnQiLCJlbWl0QnVmZmVyZWQiLCJzdWJEZXN0cm95Iiwib25BbnkiLCJwcmVwZW5kQW55Iiwib2ZmQW55IiwibGlzdGVuZXJzQW55Iiwib25BbnlPdXRnb2luZyIsIl9hbnlPdXRnb2luZ0xpc3RlbmVycyIsInByZXBlbmRBbnlPdXRnb2luZyIsIm9mZkFueU91dGdvaW5nIiwibGlzdGVuZXJzQW55T3V0Z29pbmciLCJCYWNrb2ZmIiwibXMiLCJtaW4iLCJtYXgiLCJmYWN0b3IiLCJqaXR0ZXIiLCJhdHRlbXB0cyIsImR1cmF0aW9uIiwicG93IiwicmFuZCIsImRldmlhdGlvbiIsInJlc2V0Iiwic2V0TWluIiwic2V0TWF4Iiwic2V0Sml0dGVyIiwiTWFuYWdlciIsIl9hIiwibnNwcyIsInJlY29ubmVjdGlvbiIsInJlY29ubmVjdGlvbkF0dGVtcHRzIiwiSW5maW5pdHkiLCJyZWNvbm5lY3Rpb25EZWxheSIsInJlY29ubmVjdGlvbkRlbGF5TWF4IiwicmFuZG9taXphdGlvbkZhY3RvciIsImJhY2tvZmYiLCJfcGFyc2VyIiwicGFyc2VyIiwiZW5jb2RlciIsImRlY29kZXIiLCJhdXRvQ29ubmVjdCIsIl9yZWNvbm5lY3Rpb24iLCJfcmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJfcmVjb25uZWN0aW9uRGVsYXkiLCJfcmFuZG9taXphdGlvbkZhY3RvciIsIl9yZWNvbm5lY3Rpb25EZWxheU1heCIsIl90aW1lb3V0IiwibWF5YmVSZWNvbm5lY3RPbk9wZW4iLCJfcmVjb25uZWN0aW5nIiwicmVjb25uZWN0Iiwic2tpcFJlY29ubmVjdCIsIm9wZW5TdWJEZXN0cm95IiwiZXJyb3JTdWIiLCJvbnBpbmciLCJvbmRhdGEiLCJvbmRlY29kZWQiLCJfZGVzdHJveSIsIl9jbG9zZSIsImRlbGF5Iiwib25yZWNvbm5lY3QiLCJhdHRlbXB0IiwiY2FjaGUiLCJwYXJzZWQiLCJsb2MiLCJ0ZXN0IiwiaHJlZiIsInVybCIsInNhbWVOYW1lc3BhY2UiLCJmb3JjZU5ldyIsIm11bHRpcGxleCIsIlNvY2tldE1hbmFnZXIiLCJzb2NrZXRFdmVudE1hcCIsIlRleHQiLCJ0ZXh0IiwiZmlsbFRleHQiLCJ0b0pzb24iLCJMYWJlbCIsImVudGl0eUZhY3RvcnlNYXAiLCJlbnRpdHlTZW50IiwiZ2V0U2NlbmUiLCJzY2VuZUlkIiwibmV3RW50aXR5RmFjdG9yeSIsImVudGl0eUNsYXNzIiwibmV3RW50aXR5Iiwicm9vbUFyciIsInBhdGhuYW1lIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==