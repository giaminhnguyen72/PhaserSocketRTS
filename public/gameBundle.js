(()=>{"use strict";var t,e={d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},s={};function i(t,e){let s=r.getUniqueId();e.id=s,e.scene=t,t.entities.set(s,e);for(let s of e.components){let i=t.engineComponents.get(s.engineTag);if(s.entity=e.id,i){let e=t.sceneManager.systemTag.get(s.engineTag);e&&e.register(s)}else console.log(s.engineTag+"does not exist"),s.componentId=r.getUniqueComponentId()}return console.log("successfully added entity"),e}function n(t,e){let s=r.getUniqueId();e.id=s,e.scene=t,t.entities.set(s,e);for(let s of e.components){let i=t.engineComponents.get(s.engineTag);if(s.entity=e.id,i){let e=t.sceneManager.systemTag.get(s.engineTag);e&&e.register(s)}else console.log(s.engineTag+"does not exist"),s.componentId=r.getUniqueComponentId()}return console.log("successfully added entity"),e}function o(t,e){if(null==e.id||null==e.id)throw new Error("Entity id is undefined");if(e.scene=t,t.entities.set(e.id,e),t.newEntityQueue){if(!t.newEntityQueue.has(e.id)){for(let s of e.components)if(t.engineComponents.get(s.engineTag)){let e=t.sceneManager.systemTag.get(s.engineTag);e&&e.register(s)}else console.log(s.engineTag+" tagged System is not found");console.log("successfully added entitys")}return e}for(let s of e.components)if(t.engineComponents.get(s.engineTag)){let e=t.sceneManager.systemTag.get(s.engineTag);e&&e.register(s)}else console.log(s.engineTag+" tagged System is not found");return console.log("successfully added entitys"),e}e.r(s),e.d(s,{Decoder:()=>Ft,Encoder:()=>Kt,PacketType:()=>Ht,protocol:()=>Ut}),function(t){t[t.SOCKETCLIENT=0]="SOCKETCLIENT",t[t.SOCKETSERVER=1]="SOCKETSERVER",t[t.CLIENTONLY=2]="CLIENTONLY"}(t||(t={}));class r{constructor(e,s=[],o){this.systems=o,this.systemTag=new Map,r.sceneManager=this,this.engineConfig=e;let h=e.engineType;h==t.SOCKETCLIENT?(this.addEntity=i,r.EngineType=t.SOCKETCLIENT):h==t.SOCKETSERVER?(this.addEntity=n,r.EngineType=t.SOCKETSERVER):(this.addEntity=n,r.EngineType=t.CLIENTONLY);for(let t=0;t<s.length;t++){let e=s[t];e.sceneManager=this,e.engineComponents=new Map,e.addEntity=this.addEntity,console.log("In Scene Manager"),r.scenes.set(e.name,e)}this.sceneConfigs=s,r.currentIdx=this.sceneConfigs[0].name,this.systems=o}switchScenes(t){let e=r.scenes.get(t);if(e)for(var s of this.systems)if(!e.engineComponents.get(s.tag))throw Error("error in start method")}getCurrentScene(){let t=r.scenes.get(r.currentIdx);if(t)return t;throw Error("Cant get current scene")}static getInstance(){return r.sceneManager}static getUniqueId(){if(r.EngineType==t.SOCKETCLIENT){let t=r.id-1;return r.id--,t}{let t=r.id+1;return r.id++,t}}static getUniqueComponentId(){if(r.EngineType==t.SOCKETCLIENT){let t=r.componentId-1;return r.componentId--,t}{let t=r.componentId+1;return r.componentId++,t}}}r.scenes=new Map,r.id=0,r.componentId=0,r.EngineType=t.CLIENTONLY;class h{constructor(t={keyboard:!1,mouse:!1}){this.tag="EVENTHANDLER",this.deleted=[],this.components=new Map,this.events=[],this.eventConfig=t,window.addEventListener("click",(t=>{this.events.push("click")})),window.addEventListener("keydown",(t=>{this.events.push(t.key)}))}registerListener(){}registerEmitter(){}getConfig(){return this.eventConfig}register(t){if(null==t.componentId||null==t.componentId){let e=r.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}console.log("Event Handler registered")}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){console.log("Event Handler"),console.log("Event  Handler Components:"+this.components.size),this.components.size;let e=[...this.components.keys()];for(let s of e)this.components.get(s).update(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}this.events=[]}}const a="GRAPHICS";class c{constructor(){this.items=[],this.size=0}clear(){this.items=[],this.size=0}swap(t,e){var s=this.items[t];this.items[t]=this.items[e],this.items[e]=s}enqueue(t,e){this.items.push({data:t,priority:e});let s=this.items.length-1;for(var i=Math.floor((s-1)/2);s>0&&this.items[s].priority>this.items[i].priority;)this.swap(s,i),s=i,i=Math.floor((s-1)/2);this.size++}dequeue(){if(0==this.size)return;if(1==this.size){this.size--;let t=this.items[0].data;return this.items.pop(),t}console.log(this.items);let t=this.items[0];this.size--,console.log("Unpopped "+this.size);let e=this.items.pop();if(console.log("Popped "+this.size),console.log(e),console.log(),e){this.items[0]=e;for(let t=0;t<this.items.length;t++);}console.log("Size is"+this.size);let s=0;for(;s<=this.size-1;){let t=2*s+1,e=2*s+2;if(t<=this.size-1&&e<=this.size-1){let i=this.items[t].priority>this.items[e].priority?t:e;if(!(this.items[i].priority>this.items[s].priority))break;this.swap(s,i),s=i}else{if(!(t<=this.size-1))break;if(!(this.items[t].priority>this.items[s].priority))break;this.swap(s,t),s=t}}return t.data}}class l{constructor(){this.queue=new c}render(t){let e=[],s=this.queue.size;for(let t=0;t<s;t++){let t=this.queue.dequeue();e.push(t)}for(let s=t.length-1;s>=0;s--){let i=t[s];console.log("Size is "+this.queue.size),i.render(e,s)}}deregisterStrategy(t){}registerStrategy(t){this.queue.enqueue(t,t.transform.z)}clear(){this.queue.clear(),console.log("Cleared queue length is "+this.queue.size)}}class p{constructor(t,e){this.tag=a,this.rendering=[],this.graphicsConfig=t,this.components=new Map,this.deleted=[],document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.body.style.height="100%",document.body.style.width="100%",document.body.style.margin="0",this.renderStrategy=new l,this.contextInfo=e}register(t){if(null==t.componentId||null==t.componentId){console.log("Registering undefined id in Ggraphics");let e=r.getUniqueComponentId();t.componentId=e,t.system=this,t.context=this.contextInfo,1==t.rendered&&(this.rendering.push(t),console.log("Pushing to rendering")),t.initialize(),this.components.set(e,t)}else console.log("Graphics Registering id"+t.componentId),t.system=this,t.context=this.contextInfo,1==t.rendered&&(this.rendering.push(t),console.log("Pushing to rendering")),t.initialize(),this.components.set(t.componentId,t)}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e),console.log(e.entity+" s Component with id "+e.componentId+"is popped"))}update(t){this.contextInfo.ctx,console.log("Graphics engine running"),console.log("Graphics Components: "+this.components.size);for(let e of this.components){let s=e[1];s.update(t),0==s.rendered&&(this.renderStrategy.registerStrategy(s),console.log("Registered Strategy"))}for(console.log("Rendering Components: "+this.rendering.length),this.renderStrategy.render(this.rendering);this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}}setScene(t){t.engineComponents.get(this.tag)}}class d{constructor(t){this.tag="PHYSICS",this.deleted=[],this.components=new Map,this.config=t}register(t){if(null==t.componentId||null==t.componentId){let e=r.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}else t.system=this,this.components.set(t.componentId,t)}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e),console.log(e.entity+" s Component with id "+e.componentId+"is popped"))}update(t){console.log("Physics engine running"),console.log("Physics Components: "+this.components.size);for(let e of this.components)e[1].update(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}}}class u{constructor(t){this.tag="SCRIPTING",this.deleted=[],this.components=new Map,this.engineType=t}register(t){if(null==t.componentId||null==t.componentId){let e=r.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}else t.componentId=t.componentId,t.system=this,this.components.set(t.componentId,t)}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){console.log("Scripting engine running"),console.log("Scripting Components: "+this.components.size);for(let e of this.components)e[1].engineType==this.engineType&&e[1].callback(t);for(;this.deleted.length>0;){let t=this.deleted.pop();this.components.delete(null==t?void 0:t.componentId)}}}class g{constructor(t){this.graphicsConfig=t,this.graphicsConfig=t,document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.body.style.height="100%",document.body.style.width="100%",document.body.style.margin="0",this.setup(),this.canvas=this.generateCanvas(),this.ctx=this.canvas.getContext("2d"),this.div=this.generateDiv(this.graphicsConfig.parent)}generateDiv(t){let e=document.createElement("div");return e.id=t,e.style.height="100%",e.style.width="100%",e.style.zIndex="0",e.style.display="flex",e.style.justifyContent="center",e.appendChild(this.canvas),document.body.appendChild(e),console.log("test"),e}generateCanvas(){let t=document.createElement("CANVAS");return t.id=this.graphicsConfig.canvasID,console.log(this.parseStyle(this.graphicsConfig.style)),console.log("Before"),t.setAttribute("style",this.parseStyle(this.graphicsConfig.style)),t}getCtx(){return this.getCanvas().getContext("2d")}getCanvas(){let t=document.getElementById(this.graphicsConfig.canvasID);if(t instanceof HTMLCanvasElement)return t;throw Error("engineCanvas should be a reserved id for DOM Components")}parseStyle(t){let e=Object.entries(t).map((([t,e])=>t+":"+e+";"));return console.log(this.graphicsConfig.parent),e.join(" ")}setup(){if(this.graphicsConfig.background){let t=new Image;t.src=this.graphicsConfig.background,t.style.position="absolute",t.style.zIndex="-1",t.style.width="100%",t.style.height="100%",document.body.appendChild(t)}}}class m{constructor(t){this.deleted=[],this.system=t}registerComponent(t){}update(t){for(var[e,s]of this.system.components)if(s.visible)for(var[i,n]of this.system.components)n.visible&&s.checkCollision(n)&&s!=n?s.collides(n):n.alive||this.deleted.push(n)}}class f{constructor(t){this.tag="COLLISION",this.components=new Map,this.config=t,this.deleted=[],t.bounds&&(this.bounds=t.bounds),this.collisionStrategy=new m(this)}register(t){if(null==t.componentId||null==t.componentId){let e=r.getUniqueComponentId();t.componentId=e,t.system=this,this.components.set(e,t)}else t.system=this,this.components.set(t.componentId,t);this.collisionStrategy.registerComponent(t)}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){for(console.log("Collision System Running"),console.log("Collision Components: "+this.components.size),this.collisionStrategy.update(t);this.deleted.length>0;){let t=this.deleted.pop();t&&this.deleteComponent(t)}}deleteComponent(t){t.componentId&&this.components.delete(t.componentId)}}class y{constructor(e={engineType:t.CLIENTONLY},s){if(this.canvasID="engineCanvas",this.systems=[],this.time=0,this.engineConfig=e,e.graphicsConfig&&(this.contextInfo=new g(e.graphicsConfig)),this.engineConfig.eventConfig&&this.contextInfo&&this.systems.push(new h(this.engineConfig.eventConfig)),this.engineConfig.physicsConfig&&this.systems.push(new d(this.engineConfig.physicsConfig)),this.engineConfig.scriptingConfig&&this.systems.push(new u(this.engineConfig.engineType)),s)for(let t of s)this.systems.push(t);if(this.engineConfig.collisionConfig&&this.systems.push(new f(this.engineConfig.collisionConfig)),this.engineConfig.graphicsConfig&&this.contextInfo&&(this.graphics=new p(this.engineConfig.graphicsConfig,this.contextInfo),this.systems.push(this.graphics)),s)for(let t of s)this.systems.push(t);this.sceneManager=new r(this.engineConfig,this.engineConfig.sceneConfig,this.systems),this.running=!0,this.running=!1}start(e){this.running=!0,console.log("Startng Engin ");let s=this.sceneManager.getCurrentScene();for(let t of this.systems){let e=this.sceneManager.getCurrentScene().engineComponents.set(t.tag,t.components);if(s.engineComponents.set(t.tag,t.components),this.sceneManager.systemTag.set(t.tag,t),!e)throw Error("error in start method")}let i=s.entities;s.entities=new Map;for(let t of i)t[1].id,s.addEntity(s,t[1]);this.engineConfig.engineType==t.CLIENTONLY||this.engineConfig.engineType==t.SOCKETCLIENT?this.update(e):setTimeout((()=>{this.running&&this.serverUpdate(e),console.log("Timeout runout")}),e)}update(t){for(let e of this.systems)e.update(t);this.time+=t,console.log(this.time),window.requestAnimationFrame((e=>{this.time,this.update(t),this.time=e}))}serverUpdate(t){console.log("updating");for(let e of this.systems)e.update(t);this.time+=t,console.log(this.time),setTimeout((()=>{this.running&&this.serverUpdate(t)}),t)}}class v{constructor(t="engineDiv",e="engineCanvas",s={},i,n=1e3,o=500){this.width=n,this.height=o,this.parent=t,this.canvasID=e,this.style=s,this.background=i}}class b{constructor(t,e={x:0,y:0,z:0},s={x:0,y:0,z:0},i={x:0,y:0,z:0}){this.visible=!0,this.alive=!0,this.engineTag="PHYSICS",this.entity=t,this.pos=e,this.vel=s,this.accel=i}copy(t){this.pos.x=t.pos.x,this.pos.y=t.pos.y,this.pos.z=t.pos.z,this.vel.x=t.vel.x,this.vel.x=t.vel.x,this.vel.x=t.vel.x,this.accel.x=t.accel.x,this.accel.x=t.accel.x,this.accel.x=t.accel.x,this.entity=t.entity,this.componentId=t.componentId,this.visible=t.visible,this.alive=t.alive}update(t){console.log("Position is: "+this.pos.x+" and "+this.pos.y),this.vel.x=this.vel.x+this.accel.x*t,this.vel.y=this.vel.y+this.accel.y*t,this.vel.z=this.vel.z+this.accel.z*t,this.pos.x=this.pos.x+this.vel.x*t,this.pos.y=this.pos.y+this.vel.y*t,this.pos.z=this.pos.z+this.vel.z*t}toJSON(){return{pos:this.pos,vel:this.vel,accel:this.accel,entity:this.entity,componentId:this.componentId,visible:this.visible,alive:this.alive,engineTag:"PHYSICS"}}}function w(t){return t.pos.x-t.dim.length/2}function C(t){return t.pos.y-t.dim.height/2}class x{constructor(t,e,s){this.engineTag="GRAPHICS",this.rendered=!1,this.visible=!0,this.alive=!0,this.entity=t,this.src=s,this.shape=e,this.transform=this.shape.pos}copy(t){this.componentId=t.componentId,this.entity=t.entity,this.shape.dim.height=t.shape.dim.height,this.shape.dim.length=t.shape.dim.length,this.shape.pos.x=t.shape.pos.x,this.shape.pos.y=t.shape.pos.y,this.shape.pos.z=t.shape.pos.z,this.shape.rot=t.shape.rot,this.visible=t.visible,this.transform.x=t.transform.x,this.transform.y=t.transform.y,this.transform.z=t.transform.z}visit(t){}render(){if(this.context.ctx){let t=w(this.shape),e=C(this.shape);this.context.ctx.drawImage(this.image,t,e,this.shape.dim.length,this.shape.dim.height)}}update(t){}initialize(){this.image=new Image,this.image.src=this.src}setSrc(t){console.log("Source changed"),this.src=t,this.image.src=t}toJSON(){return{entity:this.entity,componentId:this.componentId,engineTag:this.engineTag,transform:this.transform,visible:this.visible,alive:this.alive,src:this.src,shape:this.shape,renderred:this.rendered}}}class E{constructor(t){this.engineTag="EVENTHANDLER",this.visible=!0,this.alive=!0,this.events=new Map,Object.entries(t).map((([t,e])=>{this.events.set(t,e)}))}execute(t){let e=this.events.get(t.eventName);e&&e(t)}getEventType(){return"MOUSE"}copy(t){this.entity=t.entity,this.componentId=t.componentId,this.visible=t.visible,this.alive=t.alive}initialize(t){t.registerListener(this)}update(t,e){console.log("In mouse Listener")}toJSON(){return{entity:this.entity,engineTag:"EVENTHANDLER",componentId:this.componentId,visible:this.visible,alive:this.alive}}getEvents(){return this.events}}class T{constructor(t){this.listeners=new Set,this.events=[],this.visible=!0,this.alive=!0,this.engineTag="EVENTHANDLER",this.engineType=t}initialize(e){if(e.registerEmitter(this),this.engineType!=t.SOCKETSERVER){const t=document.querySelector("canvas");t&&(window.addEventListener("click",(e=>{let s=t.getBoundingClientRect(),i=e.x/s.width*t.width,n=e.y/s.height*t.height;this.events.push({pos:{x:i,y:n,z:0},eventName:"click"})})),window.addEventListener("dblclick",(t=>{this.events.push({pos:{x:t.x,y:t.y,z:0},eventName:"dblclick"})})))}}addListener(t){this.listeners.add(t)}emit(t){for(let e of this.listeners)e.execute(t)}getEventType(){return"MOUSE"}update(t,e){for(let t=this.events.length-1;t>=0;t--)this.emit(this.events[t]),this.events.pop()}copy(t){this.alive=t.alive,this.visible=t.alive}toJSON(){return{visible:this.visible,alive:this.alive}}}class k{constructor(e,s=t.CLIENTONLY){this.engineTag="SCRIPTING",this.visible=!0,this.alive=!0,this.callback=e,this.engineType=s}copy(t){}update(t,e){this.callback(t)}toJSON(){return{entity:this.entity,engineTag:this.engineTag,componenId:this.componentId,callback:this.callback}}}class I{constructor(t=-1,e={length:20,height:20},s={x:0,y:0,z:0},i){this.engineTag="COLLISION",this.visible=!0,this.alive=!0,this.entity=t,this.collideType="Box",this.shape={pos:s,dim:e,rot:0},this.prev={x:s.x,y:s.y,z:s.z},this.boundingBox=this.shape,this.onCollision=i}copy(t){t.entity&&(this.entity=t.entity),this.prev.x=t.prev.x,this.prev.y=t.prev.y,this.prev.z=t.prev.z,this.alive=t.alive,this.collideType=t.collideType,this.componentId=this.componentId,this.engineTag=this.engineTag,this.shape.dim.height=t.shape.dim.height,this.shape.dim.length=t.shape.dim.length,this.shape.pos.x=t.shape.pos.x,this.shape.pos.y=t.shape.pos.y,this.shape.pos.z=t.shape.pos.z,this.shape.rot=t.shape.rot,this.visible=t.visible}checkCollision(t){if(t instanceof I){let e=t.shape,s=this.shape;if(0==e.rot&&0==s.rot){let t=e.pos.x-e.dim.length/2,i=e.pos.y-e.dim.height/2,n=s.pos.x-s.dim.length/2,o=s.pos.y-s.dim.height/2;return t+e.dim.length>n&&t<n+s.dim.length&&i+e.dim.height>o&&i<o+s.dim.height}}return!1}collides(t){this.onCollision(t)}update(t,e){this.prev.x=this.shape.pos.x,this.prev.y=this.shape.pos.y,this.prev.z=this.shape.pos.z}toJSON(){return{entity:this.entity,engineTag:this.engineTag,componentId:this.componentId,prev:this.prev,collideType:this.collideType,shape:this.shape,boundingBox:this.boundingBox,visible:this.visible,alive:this.alive}}}class S{constructor(e={x:200*Math.random(),y:200*Math.random(),z:0},s={x:2*Math.random()-1,y:2*Math.random()-1,z:0}){this.className="Player";let i=new I(-1,{length:64,height:64},e,(t=>{})),n=new x(-1,i.shape,"/images/Knight_Forward.png"),o=new b(-1,e,s),r=new k((t=>{o.pos.x<0&&(o.pos.x=0,o.vel.x*=-1),o.pos.x+i.shape.dim.length>300&&(o.pos.x=150,o.vel.x*=-1),o.pos.y<0&&(o.pos.y=0,o.vel.y*=-1),o.pos.y+ +i.shape.dim.height>300&&(o.pos.y=150,o.vel.y*=-1)}),t.SOCKETSERVER),h=new E({click:t=>{console.log("Click")}});this.components=[o,n,i,r,h]}}class O{constructor(t){this.className="Templar",this.transform=new b(-1,{x:20*Math.random(),y:30*Math.random(),z:20},{x:1,y:0,z:0}),this.sprite=new x(-1,{pos:this.transform.pos,dim:{length:64,height:64},rot:0},"/images/Templar.png"),this.components=[this.sprite],t&&(this.transform.pos.x=t.x,this.transform.pos.y=t.y)}}class N{constructor(t=-1,e=-1,s=-1,i={x:0,y:0,z:-1},n={x:1,y:1}){this.visible=!0,this.alive=!0,this.engineTag="GRAPHICS",this.rendered=!0,this.height=s,this.width=e,this.pos=i,this.transform={x:0,y:0,z:0},this.entity=t,this.scale=n}copy(t){this.entity=t.entity,this.componentId=t.componentId,this.width=t.width,this.height=t.height,this.visible=t.visible,this.alive=t.alive,this.scale.x=t.scale.x,this.scale.y=t.scale.y,this.rendered=t.rendered}initialize(){this.height<0&&(this.height=-1*this.height*this.context.canvas.height),this.width<0&&(this.width=-1*this.width*this.context.canvas.width),this.rendered&&(this.context.canvas.height=this.height,this.context.canvas.width=this.width)}update(t){this.context.ctx,this.pos.x+=this.transform.x,this.pos.y+=this.transform.y}render(t){this.context.ctx.translate(this.transform.x,this.transform.y),this.context.ctx.clearRect(-1*this.pos.x,-1*this.pos.y,this.width,this.height);let e=t;for(let s of e)s!=this&&s.render(t,-1);this.transform.x=0,this.transform.y=0,this.context.ctx.save()}toJSON(){return{entity:this.entity,componentId:this.componentId,width:this.width,height:this.height,visible:this.visible,alive:this.alive,scale:this.scale,rendered:this.rendered,pos:this.pos}}}class _{constructor(t){this.visible=!0,this.alive=!0,this.engineTag="EVENTHANDLER",this.events=new Map,Object.entries(t).map((([t,e])=>{this.events.set(t,e)}))}getEvents(){return this.events}execute(t){let e=this.events.get(t.eventName);e&&e(t)}getEventType(){return"KEYBOARD"}initialize(t){t.registerListener(this)}copy(t){this.entity=t.entity,this.alive=t.alive,this.visible=t.visible,this.componentId=t.componentId}update(t,e){}toJSON(){return{entity:this.entity,alive:this.alive,visible:this.visible,componentId:this.componentId}}}class R{constructor(t){this.listeners=new Set,this.events=[],this.visible=!0,this.alive=!0,this.engineTag="EVENTHANDLER",this.engineType=t}initialize(e){e.registerEmitter(this),this.engineType!=t.SOCKETSERVER&&window.addEventListener("keydown",(t=>{this.events.push({eventName:"keydown",key:t.key})}))}addListener(t){this.listeners.add(t)}emit(t){for(let e of this.listeners)e.execute(t)}getEventType(){return"KEYBOARD"}update(t,e){for(let t=this.events.length-1;t>=0;t--)this.emit(this.events[t]),this.events.pop()}copy(t){this.alive=t.alive,this.visible=t.alive}toJSON(){return{visible:this.visible,alive:this.alive}}}class L{constructor(){this.camera=new N(-1,1e3,500),this.className="MainCamera",this.components=[this.camera,new _({keydown:t=>{"w"==t.key?(this.camera.transform.y-=1,console.log("W is pressed")):"a"==t.key?this.camera.transform.x-=1:"d"==t.key?this.camera.transform.x+=1:this.camera.transform.y+=1}})]}}const A=Object.create(null);A.open="0",A.close="1",A.ping="2",A.pong="3",A.message="4",A.upgrade="5",A.noop="6";const z=Object.create(null);Object.keys(A).forEach((t=>{z[A[t]]=t}));const B={type:"error",data:"parser error"},M="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),q="function"==typeof ArrayBuffer,P=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,D=({type:t,data:e},s,i)=>M&&e instanceof Blob?s?i(e):j(e,i):q&&(e instanceof ArrayBuffer||P(e))?s?i(e):j(new Blob([e]),i):i(A[t]+(e||"")),j=(t,e)=>{const s=new FileReader;return s.onload=function(){const t=s.result.split(",")[1];e("b"+(t||""))},s.readAsDataURL(t)};function U(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let H;function K(t,e){return M&&t.data instanceof Blob?t.data.arrayBuffer().then(U).then(e):q&&(t.data instanceof ArrayBuffer||P(t.data))?e(U(t.data)):void D(t,!1,(t=>{H||(H=new TextEncoder),e(H.encode(t))}))}const V="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)V["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;const F="function"==typeof ArrayBuffer,Y=(t,e)=>{if("string"!=typeof t)return{type:"message",data:Q(t,e)};const s=t.charAt(0);return"b"===s?{type:"message",data:J(t.substring(1),e)}:z[s]?t.length>1?{type:z[s],data:t.substring(1)}:{type:z[s]}:B},J=(t,e)=>{if(F){const s=(t=>{let e,s,i,n,o,r=.75*t.length,h=t.length,a=0;"="===t[t.length-1]&&(r--,"="===t[t.length-2]&&r--);const c=new ArrayBuffer(r),l=new Uint8Array(c);for(e=0;e<h;e+=4)s=V[t.charCodeAt(e)],i=V[t.charCodeAt(e+1)],n=V[t.charCodeAt(e+2)],o=V[t.charCodeAt(e+3)],l[a++]=s<<2|i>>4,l[a++]=(15&i)<<4|n>>2,l[a++]=(3&n)<<6|63&o;return c})(t);return Q(s,e)}return{base64:!0,data:t}},Q=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,W=String.fromCharCode(30);let $;function G(t){if(t)return function(t){for(var e in G.prototype)t[e]=G.prototype[e];return t}(t)}G.prototype.on=G.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},G.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},G.prototype.off=G.prototype.removeListener=G.prototype.removeAllListeners=G.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<i.length;n++)if((s=i[n])===e||s.fn===e){i.splice(n,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},G.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(s){i=0;for(var n=(s=s.slice(0)).length;i<n;++i)s[i].apply(this,e)}return this},G.prototype.emitReserved=G.prototype.emit,G.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},G.prototype.hasListeners=function(t){return!!this.listeners(t).length};const X="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Z(t,...e){return e.reduce(((e,s)=>(t.hasOwnProperty(s)&&(e[s]=t[s]),e)),{})}const tt=X.setTimeout,et=X.clearTimeout;function st(t,e){e.useNativeTimers?(t.setTimeoutFn=tt.bind(X),t.clearTimeoutFn=et.bind(X)):(t.setTimeoutFn=X.setTimeout.bind(X),t.clearTimeoutFn=X.clearTimeout.bind(X))}class it extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class nt extends G{constructor(t){super(),this.writable=!1,st(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,s){return super.emitReserved("error",new it(t,e,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=Y(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}(t);return e.length?"?"+e:""}}const ot="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),rt=64,ht={};let at,ct=0,lt=0;function pt(t){let e="";do{e=ot[t%rt]+e,t=Math.floor(t/rt)}while(t>0);return e}function dt(){const t=pt(+new Date);return t!==at?(ct=0,at=t):t+"."+pt(ct++)}for(;lt<rt;lt++)ht[ot[lt]]=lt;let ut=!1;try{ut="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const gt=ut;function mt(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||gt))return new XMLHttpRequest}catch(t){}if(!e)try{return new(X[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function ft(){}const yt=null!=new mt({xdomain:!1}).responseType;class vt extends G{constructor(t,e){super(),st(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=void 0!==e.data?e.data:null,this.create()}create(){var t;const e=Z(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;const s=this.xhr=new mt(e);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&s.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{s.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var t;3===s.readyState&&(null===(t=this.opts.cookieJar)||void 0===t||t.parseCookies(s)),4===s.readyState&&(200===s.status||1223===s.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof s.status?s.status:0)}),0))},s.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=vt.requestsCount++,vt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=ft,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete vt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function bt(){for(let t in vt.requests)vt.requests.hasOwnProperty(t)&&vt.requests[t].abort()}vt.requestsCount=0,vt.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",bt):"function"==typeof addEventListener&&addEventListener("onpagehide"in X?"pagehide":"unload",bt,!1));const wt="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Ct=X.WebSocket||X.MozWebSocket,xt="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();function Et(t,e){return"message"===t.type&&"string"!=typeof t.data&&e[0]>=48&&e[0]<=54}const Tt={websocket:class extends nt{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,s=xt?{}:Z(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=xt?new Ct(t,e,s):e?new Ct(t,e):new Ct(t)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],i=e===t.length-1;D(s,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(t){}i&&wt((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=dt()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!Ct}},webtransport:class extends nt{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const e=t.readable.getReader();let s;this.writer=t.writable.getWriter();const i=()=>{e.read().then((({done:t,value:e})=>{t||(s||1!==e.byteLength||54!==e[0]?(this.onPacket(function(t,e,s){$||($=new TextDecoder);const i=e||t[0]<48||t[0]>54;return Y(i?t:$.decode(t),"arraybuffer")}(e,s)),s=!1):s=!0,i())})).catch((t=>{}))};i();const n=this.query.sid?`0{"sid":"${this.query.sid}"}`:"0";this.writer.write((new TextEncoder).encode(n)).then((()=>this.onOpen()))}))})))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],i=e===t.length-1;K(s,(t=>{Et(s,t)&&this.writer.write(Uint8Array.of(54)),this.writer.write(t).then((()=>{i&&wt((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}))}}doClose(){var t;null===(t=this.transport)||void 0===t||t.close()}},polling:class extends nt{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const e="https:"===location.protocol;let s=location.port;s||(s=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port}const e=t&&t.forceBase64;this.supportsBinary=yt&&!e,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const s=t.split(W),i=[];for(let t=0;t<s.length;t++){const n=Y(s[t],e);if(i.push(n),"error"===n.type)break}return i})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const s=t.length,i=new Array(s);let n=0;t.forEach(((t,o)=>{D(t,!1,(t=>{i[o]=t,++n===s&&e(i.join(W))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=dt()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new vt(this.uri(),t)}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},kt=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,It=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function St(t){const e=t,s=t.indexOf("["),i=t.indexOf("]");-1!=s&&-1!=i&&(t=t.substring(0,s)+t.substring(s,i).replace(/:/g,";")+t.substring(i,t.length));let n=kt.exec(t||""),o={},r=14;for(;r--;)o[It[r]]=n[r]||"";return-1!=s&&-1!=i&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const s=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||s.splice(0,1),"/"==e.slice(-1)&&s.splice(s.length-1,1),s}(0,o.path),o.queryKey=function(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,i){e&&(s[e]=i)})),s}(0,o.query),o}class Ot extends G{constructor(t,e={}){super(),this.writeBuffer=[],t&&"object"==typeof t&&(e=t,t=null),t?(t=St(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=St(e.host).host),st(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},s=t.split("&");for(let t=0,i=s.length;t<i;t++){let i=s[t].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Tt[t](s)}open(){let t;if(this.opts.rememberUpgrade&&Ot.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),s=!1;Ot.priorWebsocketSuccess=!1;const i=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!s)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Ot.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{s||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function n(){s||(s=!0,c(),e.close(),e=null)}const o=t=>{const s=new Error("probe error: "+t);s.transport=e.name,n(),this.emitReserved("upgradeError",s)};function r(){o("transport closed")}function h(){o("socket closed")}function a(t){e&&t.name!==e.name&&n()}const c=()=>{e.removeListener("open",i),e.removeListener("error",o),e.removeListener("close",r),this.off("close",h),this.off("upgrading",a)};e.once("open",i),e.once("error",o),e.once("close",r),this.once("close",h),this.once("upgrading",a),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{s||e.open()}),200):e.open()}onOpen(){if(this.readyState="open",Ot.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(t+="string"==typeof(e=i)?function(t){let e=0,s=0;for(let i=0,n=t.length;i<n;i++)e=t.charCodeAt(i),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(i++,s+=4);return s}(e):Math.ceil(1.33*(e.byteLength||e.size))),s>0&&t>this.maxPayload)return this.writeBuffer.slice(0,s);t+=2}var e;return this.writeBuffer}write(t,e,s){return this.sendPacket("message",t,e,s),this}send(t,e,s){return this.sendPacket("message",t,e,s),this}sendPacket(t,e,s,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof s&&(i=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const n={type:t,data:e,options:s};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?s():t()})):this.upgrading?s():t()),this}onError(t){Ot.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let s=0;const i=t.length;for(;s<i;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}Ot.protocol=4,Ot.protocol;const Nt="function"==typeof ArrayBuffer,_t=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Rt=Object.prototype.toString,Lt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Rt.call(Blob),At="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Rt.call(File);function zt(t){return Nt&&(t instanceof ArrayBuffer||_t(t))||Lt&&t instanceof Blob||At&&t instanceof File}function Bt(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,s=t.length;e<s;e++)if(Bt(t[e]))return!0;return!1}if(zt(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return Bt(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&Bt(t[e]))return!0;return!1}function Mt(t){const e=[],s=t.data,i=t;return i.data=qt(s,e),i.attachments=e.length,{packet:i,buffers:e}}function qt(t,e){if(!t)return t;if(zt(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}if(Array.isArray(t)){const s=new Array(t.length);for(let i=0;i<t.length;i++)s[i]=qt(t[i],e);return s}if("object"==typeof t&&!(t instanceof Date)){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=qt(t[i],e));return s}return t}function Pt(t,e){return t.data=Dt(t.data,e),delete t.attachments,t}function Dt(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=Dt(t[s],e);else if("object"==typeof t)for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=Dt(t[s],e));return t}const jt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ut=5;var Ht;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(Ht||(Ht={}));class Kt{constructor(t){this.replacer=t}encode(t){return t.type!==Ht.EVENT&&t.type!==Ht.ACK||!Bt(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Ht.EVENT?Ht.BINARY_EVENT:Ht.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==Ht.BINARY_EVENT&&t.type!==Ht.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=Mt(t),s=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(s),i}}function Vt(t){return"[object Object]"===Object.prototype.toString.call(t)}class Ft extends G{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const s=e.type===Ht.BINARY_EVENT;s||e.type===Ht.BINARY_ACK?(e.type=s?Ht.EVENT:Ht.ACK,this.reconstructor=new Yt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!zt(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===Ht[s.type])throw new Error("unknown packet type "+s.type);if(s.type===Ht.BINARY_EVENT||s.type===Ht.BINARY_ACK){const i=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const n=t.substring(i,e);if(n!=Number(n)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(n)}if("/"===t.charAt(e+1)){const i=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);s.nsp=t.substring(i,e)}else s.nsp="/";const i=t.charAt(e+1);if(""!==i&&Number(i)==i){const i=e+1;for(;++e;){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}s.id=Number(t.substring(i,e+1))}if(t.charAt(++e)){const i=this.tryParse(t.substr(e));if(!Ft.isPayloadValid(s.type,i))throw new Error("invalid payload");s.data=i}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case Ht.CONNECT:return Vt(e);case Ht.DISCONNECT:return void 0===e;case Ht.CONNECT_ERROR:return"string"==typeof e||Vt(e);case Ht.EVENT:case Ht.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===jt.indexOf(e[0]));case Ht.ACK:case Ht.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Yt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=Pt(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Jt(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const Qt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Wt extends G{constructor(t,e,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Jt(t,"open",this.onopen.bind(this)),Jt(t,"packet",this.onpacket.bind(this)),Jt(t,"error",this.onerror.bind(this)),Jt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(Qt.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const s={type:Ht.EVENT,data:e,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,i=e.pop();this._registerAckCallback(t,i),s.id=t}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,e){var s;const i=null!==(s=this.flags.timeout)&&void 0!==s?s:this._opts.ackTimeout;if(void 0===i)return void(this.acks[t]=e);const n=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),i);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(n),e.apply(this,[null,...t])}}emitWithAck(t,...e){const s=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((i,n)=>{e.push(((t,e)=>s?t?n(t):i(e):i(t))),this.emit(t,...e)}))}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...i)=>{if(s===this._queue[0])return null!==t?s.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...i)),s.pending=!1,this._drainQueue()})),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ht.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ht.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ht.EVENT:case Ht.BINARY_EVENT:this.onevent(t);break;case Ht.ACK:case Ht.BINARY_ACK:this.onack(t);break;case Ht.DISCONNECT:this.ondisconnect();break;case Ht.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let s=!1;return function(...i){s||(s=!0,e.packet({type:Ht.ACK,id:t,data:i}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ht.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}}function $t(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}$t.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-s:t+s}return 0|Math.min(t,this.max)},$t.prototype.reset=function(){this.attempts=0},$t.prototype.setMin=function(t){this.ms=t},$t.prototype.setMax=function(t){this.max=t},$t.prototype.setJitter=function(t){this.jitter=t};class Gt extends G{constructor(t,e){var i;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,st(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=e.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new $t({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ot(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=Jt(e,"open",(function(){s.onopen(),t&&t()})),n=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},o=Jt(e,"error",n);if(!1!==this._timeout){const t=this._timeout,s=this.setTimeoutFn((()=>{i(),n(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Jt(t,"ping",this.onping.bind(this)),Jt(t,"data",this.ondata.bind(this)),Jt(t,"error",this.onerror.bind(this)),Jt(t,"close",this.onclose.bind(this)),Jt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){wt((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Wt(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const t of e)if(this.nsps[t].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Xt={};function Zt(t,e){"object"==typeof t&&(e=t,t=void 0);const s=function(t,e="",s){let i=t;s=s||"undefined"!=typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==s?s.protocol+"//"+t:"https://"+t),i=St(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const n=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+n+":"+i.port+e,i.href=i.protocol+"://"+n+(s&&s.port===i.port?"":":"+i.port),i}(t,(e=e||{}).path||"/socket.io"),i=s.source,n=s.id,o=s.path,r=Xt[n]&&o in Xt[n].nsps;let h;return e.forceNew||e["force new connection"]||!1===e.multiplex||r?h=new Gt(i,e):(Xt[n]||(Xt[n]=new Gt(i,e)),h=Xt[n]),s.query&&!e.query&&(e.query=s.queryKey),h.socket(s.path,e)}Object.assign(Zt,{Manager:Gt,Socket:Wt,io:Zt,connect:Zt});class te{constructor(t,e){this.tag="EVENTHANDLER",this.emitters=new Map,this.unregistered=new Map,this.listeners=[],this.deleted=[],this.components=new Map,this.config=e,this.sceneManager=t,te.socket=Zt(),e.socketEventMap&&e.socketEventMap(te.socket),window.addEventListener("click",(t=>{te.socket.emit("click")})),window.addEventListener("keydown",(t=>{te.socket.emit("keydown",t.key)}))}getConfig(){return this.config}registerListener(t){let e=this.emitters.get(t.getEventType());e?e.addListener(t):this.listeners.push(t)}registerEmitter(t){this.emitters.set(t.getEventType(),t)}register(t){if(null==t.componentId||null==t.componentId){let e=r.getUniqueComponentId();t.componentId=e,t.system=this,t.initialize(this),this.components.set(e,t)}else t.system=this,this.components.set(t.componentId,t),t.initialize(this);console.log("Socket Manager registered")}unregister(t){let e=this.components.get(t);e&&(e.alive=!1,this.deleted.push(e))}update(t){console.log("Client Socket Handler"),console.log("Client Socket Handler Components:"+this.components.size);for(let e of this.emitters)e[1].update(t);for(let t=this.listeners.length-1;t>=0;t--){let e=this.emitters.get(this.listeners[t].getEventType());e&&(e.addListener(this.listeners[t]),this.listeners[t]=this.listeners[this.listeners.length-1],this.listeners.pop())}}}class ee{update(t,e){}constructor(t){this.engineTag="GRAPHICS",this.visible=!0,this.alive=!0,this.rendered=!1,this.transform={x:100,y:100,z:0},this.text=t}copy(t){this.componentId=t.componentId,this.entity=t.entity,this.text=t.text,this.transform.x=this.transform.x,this.transform.y=this.transform.y}render(){this.context&&this.context.ctx.fillText(this.text,this.transform.x,this.transform.y)}initialize(){}toJson(){return{entity:this.entity,engineTag:this.engineTag,componentId:this.componentId,text:this.text,visible:this.visible,alive:this.alive,transform:this.transform}}}class se{constructor(){this.text=new ee("test"),this.components=[this.text],this.className="Label"}}class ie{constructor(t,e,s,i){this.visible=!0,this.alive=!0,this.engineTag=a,this.state=0,this.time=0,this.rendered=!1,this.path=t,this.transform=e.pos,this.shape=e,this.delay=s}render(){if(this.context.ctx){let t=w(this.shape);console.log("Drawn with State "+this.state);let e=C(this.shape);this.context.ctx.drawImage(this.image,this.shape.dim.length*this.state,0,this.shape.dim.length,this.shape.dim.height,t,e,this.shape.dim.length,this.shape.dim.height)}else console.log("Context is not injected")}initialize(){this.image=new Image,this.image.src=this.path,this.state=0}update(t,e){if(this.time+=t,console.log("Updating Spritesheet"),this.time>this.delay){console.log("Time is greater than delay");let t=Math.floor(this.time/this.delay),e=Math.floor(this.image.width/this.shape.dim.length);console.log("Image width is "+this.image.width),console.log("State change is "+t),this.state=(1+this.state)%e,this.time=this.time%this.delay}}copy(t){var e,s;this.entity=t.entity,this.visible=t.visible,this.alive=t.alive,this.componentId=t.componentId,this.path=t.path,this.delay=t.delay,this.rendered=t.rendered,this.transform.x=t.transform.x,this.transform.y=t.transform.y,this.transform.z=t.transform.z,e=this.shape,s=t.shape,e.dim.height=s.dim.height,e.dim.length=s.dim.length,e.pos.x=s.pos.x,e.pos.y=s.pos.y,e.pos.z=s.pos.z,e.rot=s.rot}toJSON(){return{entity:this.entity,componentId:this.componentId,engineTag:this.engineTag,transform:this.transform,visible:this.visible,alive:this.alive,src:this.path,shape:this.shape,delay:this.delay,state:this.state,time:this.time,path:this.path,rendered:this.rendered}}}class ne{constructor(){this.components=[new ie("/images/SwordSpriteSheet.png",{dim:{length:32,height:32},pos:{x:20,y:20,z:0},rot:0},3,32)],this.className="SWORDANIM"}}class oe{constructor(t,e,s="",i=(()=>{})){this.rendered=!0,this.transform={x:0,y:0,z:0},this.visible=!0,this.alive=!0,this.engineTag=a,this.id=t,this.style=e,this.src=s,this.onClick=i}unmount(){throw new Error("Method not implemented.")}update(t,e){}copy(t){throw new Error("Method not implemented.")}render(t,e){this.alive||(this.system.rendering[e]=this.system.rendering[this.system.rendering.length-1],this.system.rendering.pop()),this.visible||(this.context.div.appendChild(this.element),this.visible=!0)}initialize(){let t=document.createElement("BUTTON");this.element=t,this.element.style.cssText=this.style,this.element.onclick=this.onClick,this.element.id=this.id,this.childImage=new Image,this.childImage.src=this.src,this.element.appendChild(this.childImage)}}class re{constructor(t,e,...s){this.rendered=!0,this.transform={x:0,y:0,z:0},this.visible=!1,this.alive=!0,this.engineTag=a,this.id=t,this.style=e,this.children=s}unmount(){this.element.remove(),this.system.unregister(this.componentId);for(let t=0;t<this.children.length;t++){if(!this.children[t].componentId)throw new Error;this.system.unregister(this.children[t].componentId)}}render(t,e){if(this.alive)this.visible||(this.context.div.appendChild(this.element),this.visible=!0);else{let t=this.system.rendering[e];this.system.rendering[e]=this.system.rendering[this.system.rendering.length-1],this.system.rendering[this.system.rendering.length-1]=t,this.system.rendering.pop(),this.unmount()}}initialize(){this.element=document.createElement("div"),this.element.style.cssText=this.style,this.element.id=this.id;for(let t=0;t<this.children.length;t++)this.children[t].entity=this.entity,this.children[t].visible=!0,this.system.register(this.children[t]),this.element.appendChild(this.children[t].element)}update(t,e){if(0==this.alive)for(let t=0;t<this.children.length;t++)this.children[t].alive=!1}copy(t){throw new Error("Method not implemented.")}}class he{unmount(){throw new Error("Method not implemented.")}render(t,e){this.alive||(this.system.rendering[e]=this.system.rendering[this.system.rendering.length-1],this.system.rendering.pop(),this.element.remove()),this.visible||(this.context.div.appendChild(this.element),this.visible=!0)}initialize(){this.element=document.createElement(this.htmlTag),this.element.style.cssText=this.style,this.element.id=this.id,this.element.textContent=this.text}update(t,e){}copy(t){throw new Error("Method not implemented.")}constructor(t,e,s,i=""){this.rendered=!0,this.transform={x:0,y:0,z:0},this.visible=!0,this.alive=!0,this.engineTag=a,this.style=e,this.id=t,this.htmlTag=s,this.text=i}}class ae{constructor(){this.className="DIV";let t=new re("backgroundDiv","position:fixed;background-color:#1a1818;height: 60%; width: 60%;z-index: 4;top: 0;left: 0; bottom:0; right:0;margin:auto;opacity:0.6;border-radius:15px"),e=this.generateButton("0","/images/Templar.png","Templar"),s=this.generateButton("1","/images/Knight_Forward.png","Knight"),i=this.generateButton("2","/images/Archer.png","Archer"),n=this.generateButton("3","/images/Priest.png","Priest"),o=this.generateButton("4","/images/Rogue.png","Rogue"),r=new re("identifier","display:flex;justify-content:center;align-items:center;position: fixed;background-color:#1a1818;opacity:0.2; height: 60%; width: 60%;z-index: 5;top: 0;left: 0; bottom:0; right:0;margin:auto;opacity:0.6;border-radius:15px",e,s,n,i,o);this.components=[t,r]}generateButton(t,e,s){let i="buttonDiv"+t,n=new oe(s+t,"display:flex;justify-content:center;align-items:center;background-color: #1a1818",e,(()=>{!function(t,e){let s=t.entities.get(e);if(s){t.entities.delete(e);for(let t of s.components)console.log("Component"),console.log(t),console.log("System"),console.log(t.system),console.log("Component id "),console.log(t.componentId),t.system.unregister(t.componentId)}}(this.scene,this.id)})),o=new he(s+"label","","h5",s);return new re(i,"display:flex;position:relative;flex-direction:column;justify-content:center;align-items: center;background-color:#1a1818;height: 100%; width: 100%;z-index: 4;border-radius:15px",n,o)}}class ce{constructor(t,e){this.emissionQueue=[],this.listenQueue=new Map,this.listenerLock=!1,this.visible=!0,this.alive=!0,this.engineTag="EVENTHANDLER",this.socketMap=t,this.engineType=e,this.events=new Map}initialize(t){t.registerEmitter(this),t.registerListener(this),Object.entries(this.socketMap).map((([t,e])=>{this.events.set(t,e),te.socket.on(t,(e=>{this.events.get(t)&&!this.listenerLock&&this.listenQueue.set(t,{event:t,data:e})}))}))}addListener(t){let e=t.getEvents();for(let t of e)te.socket.on(t[0],t[1])}emit(t){te.socket.emit(t.event,t.data)}update(t,e){for(let t=this.emissionQueue.length-1;t>=0;t--)this.emit(this.emissionQueue[t]),this.emissionQueue.pop();this.listenerLock=!0;for(let t of this.listenQueue){let e=this.events.get(t[0]);if(!e)throw new Error;e(t[1].data)}this.listenQueue.clear(),this.listenerLock=!1}queueEvent(t){this.emissionQueue.push(t)}copy(t){this.visible=t.visible,this.alive=t.alive,this.engineType=t.engineType}getEventType(){return"SocketServer"}execute(t){if(t){let e=this.events.get(t.event);e&&e(t.data)}}getEvents(){let t=new Map;return Object.entries(this.socketMap).map((([e,s])=>{t.set(e,s)})),t}toJSON(){let e=this.engineType==t.SOCKETCLIENT?t.SOCKETSERVER:t.SOCKETCLIENT;return{visible:this.visible,alive:this.alive,engineType:e}}}class le{constructor(t){this.getQuad=new Map,this.parentNode=new pe(t)}query(t){return this.parentNode.query(t)}clear(){this.parentNode.clear()}insert(t){let e=this.parentNode.insert(t);return this.getQuad.set(t,e),e}remove(t){let e=this.getQuad.get(t);if(!e)throw new Error;e.remove(t),this.getQuad.delete(t)}toString(){return this.parentNode.toString()}}class pe{constructor(t,e=0){this.children=[],this.items=[],this.depth=0,this.maxDepth=3,this.area=t,this.depth=e,this.resize(t)}query(t){let e=[];return this.queryHelper(t,e),e}queryHelper(t,e){for(let s=0;s<this.items.length;s++)ue(t,this.items[s])&&e.push(this.items[s]);for(let s=0;s<this.children.length;s++)de(t,this.children[s].area)?this.children[s].getItemList(e):ue(this.children[s].area,t)&&this.children[s].queryHelper(t,e)}getItemList(t){for(let e of this.items)t.push(e);for(let e=0;e<this.children.length;e++)this.children[e].getItemList(t)}remove(t){for(let e=this.items.length-1;e>=0;e--)if(this.items[e]==t)return this.items[e]=this.items[this.items.length-1],this.items.pop(),!0;for(let e of this.children)if(e.remove(t))return!0;return!1}resize(t){this.clear(),this.area=t,this.depth+1<this.maxDepth&&(this.children.push(new pe({pos:{x:t.pos.x-t.dim.length/4,y:t.pos.y+t.dim.height/4},dim:{length:t.dim.length/2,height:t.dim.height/2}},this.depth+1)),this.children.push(new pe({pos:{x:t.pos.x-t.dim.length/4,y:t.pos.y-t.dim.height/4},dim:{length:t.dim.length/2,height:t.dim.height/2}},this.depth+1)),this.children.push(new pe({pos:{x:t.pos.x+t.dim.length/4,y:t.pos.y+t.dim.height/4},dim:{length:t.dim.length/2,height:t.dim.height/2}},this.depth+1)),this.children.push(new pe({pos:{x:t.pos.x+t.dim.length/4,y:t.pos.y-t.dim.height/4},dim:{length:t.dim.length/2,height:t.dim.height/2}},this.depth+1)))}clear(){this.items.length=0;for(let t=this.children.length-1;t>=0;t--)this.children[t].clear(),this.children.pop()}size(){let t=this.items.length;for(let e=0;e<4;e++)t+=this.children[e].size();return t}insert(t){for(let e=0;e<this.children.length;e++)if(de(this.children[e].area,t)&&this.depth+1<this.maxDepth)return this.children[e].insert(t);return this.items.push(t),this}toString(){let t="";for(let e=0;e<this.depth;e++)t+="     ";let e=""+t;e+=`Quad Position is ${this.area.pos.x},${this.area.pos.y} with area ${this.area.dim.height} x ${this.area.dim.height} \n`,e+=t,e+="Quad has "+this.children.length+" children at depth "+this.depth+"\n",e+=t,e+="Quad has "+this.items.length+" items\n",e+=t;for(let t of this.items)e+=JSON.stringify(t),e+="\n";for(let s of this.children)e+=t+"\n",e+=s;return e}}function de(t,e){let s=e.pos.x-e.dim.length/2,i=e.pos.y-e.dim.height/2,n=t.pos.x-t.dim.length/2,o=t.pos.y-t.dim.height/2;return s>=n&&s+e.dim.length<n+t.dim.length&&i>=o&&i+e.dim.height<o+t.dim.height}function ue(t,e){let s=t.pos.x-t.dim.length/2,i=t.pos.y-t.dim.height/2,n=e.pos.x-e.dim.length/2,o=e.pos.y-e.dim.height/2;return s<n+e.dim.length&&s+t.dim.length>n&&i<o+e.dim.height&&i+t.dim.height>o}class ge{update(t,e){}constructor(t,e="#000000",s=0){this.engineTag="GRAPHICS",this.borderOutline=0,this.rendered=!1,this.visible=!0,this.alive=!0,this.shape=t,this.transform=t.pos,this.color=e,this.borderOutline=s}copy(t){this.entity=t.entity,this.componentId=t.componentId,this.transform.x=t.transform.x,this.transform.y=t.transform.y,this.transform.z=t.transform.z,this.color=t.color,this.visible=t.visible,this.alive=t.alive}initialize(){}render(){this.context.ctx&&(this.context.ctx.fillStyle=this.color,this.context.ctx.fillRect(this.shape.pos.x-this.shape.dim.length/2,this.shape.pos.y-this.shape.dim.height/2,this.shape.dim.length,this.shape.dim.height),this.borderOutline>0&&this.context.ctx.clearRect(this.shape.pos.x-(this.shape.dim.length-this.borderOutline)/2,this.shape.pos.y-(this.shape.dim.height-this.borderOutline)/2,this.shape.dim.length-this.borderOutline,this.shape.dim.height-this.borderOutline))}}class me{constructor(t,e){this.components=[],this.className="RECTANGLE";let s=new ge({pos:t,dim:e,rot:0});this.rectangle=s,this.pos=s.shape.pos,this.dim=s.shape.dim,this.components.push(s)}}class fe{constructor(e){this.something=0,this.components=[],this.className="World";let s=new le({pos:{x:500,y:250},dim:{height:500,length:1e3}}),i=[s.parentNode],n=new Map;for(;i.length>0;){let t=i.pop();if(t){for(let e=0;e<(null==t?void 0:t.children.length);e++)i.push(t.children[e]);let e=new ge({pos:{x:t.area.pos.x,y:t.area.pos.y,z:-t.depth},dim:{height:t.area.dim.height-4*Math.abs(t.depth),length:t.area.dim.length-4*Math.abs(t.depth)},rot:0},ye(),10);this.components.push(e),n.set(t,e)}}let r=new E({click:t=>{if(console.log("Position x is "+t.pos.x),console.log("Position y is "+t.pos.y),console.log("Name is "+t.eventName),this.something++,this.scene){let e={x:t.pos.x,y:t.pos.y,z:-20},i={length:30*Math.random()+1,height:30*Math.random()+1},o=new me(e,i);this.scene.addEntity(this.scene,o);let r=s.insert(o.rectangle.shape),h=n.get(r);h&&(o.rectangle.color=h.color)}},dblclick:t=>{}}),h=new Map;h.set("Templar",(()=>new O)),h.set("MainCamera",(()=>(console.log("camera made"),new L))),h.set("Player",(()=>new S)),h.set("Label",(()=>new se)),h.set("SWORDANIM",(()=>new ne)),this.components.push(new T(e),r,new R(e),new ce({update:t=>{if(this.scene){let e=t;for(let t of e){let e=this.scene;if(!e)throw new Error("Scene not found");if(e.entities.get(t.id))for(let s=0;s<t.components.length;s++){let i=e.engineComponents.get(t.components[s].engineTag),n=null==i?void 0:i.get(t.components[s].componentId);n&&n.copy(t.components[s])}else{console.log("Adding new Entity");let s=h.get(t.entityClass);if(s){let i=s();i.id=t.id,i.scene=e;for(let e=0;e<i.components.length;e++)i.components[e].copy(t.components[e]);o(e,i)}}}}}},t.SOCKETCLIENT))}}function ye(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}window.onload=()=>{let e=new y({engineType:t.SOCKETCLIENT,graphicsConfig:new v("test","193as",{"display:flex;background-color":"white",width:"100%",height:"100%","z-index":"0"}),sceneConfig:[new class{constructor(t){this.name="test",this.time=0,this.entities=new Map,this.engineComponents=new Map;for(let e=0;e<t.length;e++)this.entities.set(e,t[e])}}([new L,new O,new ae,new fe(t.SOCKETCLIENT)])],scriptingConfig:{}}),s=new Map;s.set("Templar",(()=>new O)),s.set("MainCamera",(()=>(console.log("camera made"),new L))),s.set("Player",(()=>new S)),s.set("Label",(()=>new se)),s.set("SWORDANIM",(()=>new ne)),e.systems.push(new te(e.sceneManager,{entityFactoryMap:s,socketEventMap:t=>{t.on("connect",(()=>{console.log("connected");let e=window.location.pathname.split("/");t.emit("joined",window.sessionStorage.getItem("PlayerName"),e[e.length-1]),console.log("emitting"),t.emit("clientInitialize")}))}})),e.start(10)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb25zdGFudHMvZW5naW5lVHlwZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2VuZ2luZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2VuZ2luZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb3JlL3NjZW5lVXRpbHMuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvcmUvbWFuYWdlcnMvU2NlbmVNYW5hZ2VyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9zeXN0ZW1zL2V2ZW50cy9FdmVudEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9zdHJ1Y3RzL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3R5cGVzL2NvbXBvbmVudHMvZ3JhcGhpY3MvUmVuZGVyaW5nU3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3N5c3RlbXMvZ3JhcGhpY3MvR3JhcGhpY0VuZ2luZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvc3lzdGVtcy9waHlzaWNzL1BoeXNpY3NFbmdpbmUuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3N5c3RlbXMvc2NyaXB0aW5nL1NjcmlwdGluZ0VuZ2luZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29yZS9jb250ZXh0LmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy90eXBlcy9jb21wb25lbnRzL2NvbGxpc2lvbi9Db2xsaXNpb25TdHJhdGVneS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvc3lzdGVtcy9Db2xsaXNpb24vQ29sbGlzaW9uU3lzdGVtLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb3JlL2VuZ2luZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29yZS9jb25maWcuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvUGh5c2ljcy90cmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3R5cGVzL2NvbXBvbmVudHMvY29sbGlzaW9uL3NoYXBlLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL1Nwcml0ZS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9FdmVudC9MaXN0ZW5lci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9TY3JpcHQvU2NyaXB0LmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL0NvbGxpc2lvbi9Db2xsaWRlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L0dhbWVGcm9udGVuZC9zY2VuZXMvZW50aXRpZXMvUGxheWVyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvR2FtZUZyb250ZW5kL3NjZW5lcy9lbnRpdGllcy9UZW1wbGFyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL0NhbWVyYS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9FdmVudC9LZXlib2FyZC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L0dhbWVGcm9udGVuZC9zY2VuZXMvZW50aXRpZXMvTWFpbkNhbWVyYS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vY29tbW9ucy5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vZW5jb2RlUGFja2V0LmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvZXNtL2NvbnRyaWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2J1aWxkL2VzbS9kZWNvZGVQYWNrZXQuYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Bzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXIvaW5kZXgubWpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9nbG9iYWxUaGlzLmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3V0aWwuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9wYXJzZXFzLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL3llYXN0LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL2hhcy1jb3JzLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS90cmFuc3BvcnRzL3htbGh0dHByZXF1ZXN0LmJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvcG9sbGluZy5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJzb2NrZXQtY29uc3RydWN0b3IuYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJzb2NrZXQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvd2VidHJhbnNwb3J0LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS90cmFuc3BvcnRzL2luZGV4LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL3BhcnNldXJpLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9zb2NrZXQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2luZGV4LmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2J1aWxkL2VzbS9pcy1iaW5hcnkuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvYnVpbGQvZXNtL2JpbmFyeS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL29uLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9zb2NrZXQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvYnVpbGQvZXNtL2NvbnRyaWIvYmFja28yLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9tYW5hZ2VyLmpzIiwid2VicGFjazovL2VuZ2luZS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vdXJsLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb3JlL21hbmFnZXJzL1NvY2tldE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvVGV4dC5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L0dhbWVGcm9udGVuZC9zY2VuZXMvZW50aXRpZXMvTGFiZWwuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvU3ByaXRlc2hlZXQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9HYW1lRnJvbnRlbmQvc2NlbmVzL2VudGl0aWVzL1N3b3JkQW5pbS5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9Eb21FbGVtZW50L0J1dHRvbi5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9Eb21FbGVtZW50L0Rpdi5qcyIsIndlYnBhY2s6Ly9lbmdpbmUvLi9kaXN0L2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9Eb21FbGVtZW50L1RleHQuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9HYW1lRnJvbnRlbmQvc2NlbmVzL2VudGl0aWVzL0RpdlVJLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL0V2ZW50L1NvY2tldFNlcnZlckVtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL3N0cnVjdHMvUXVhZHRyZWUuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvUmVjdGFuZ2xlLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvR2FtZUZyb250ZW5kL3NjZW5lcy9lbnRpdGllcy9SZWN0YW5nbGVFbnRpdHkuanMiLCJ3ZWJwYWNrOi8vZW5naW5lLy4vZGlzdC9HYW1lRnJvbnRlbmQvc2NlbmVzL2VudGl0aWVzL1dvcmxkLmpzIiwid2VicGFjazovL2VuZ2luZS8uL2Rpc3QvR2FtZUZyb250ZW5kL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJleHBvcnQgdmFyIEVuZ2luZVR5cGU7XHJcbihmdW5jdGlvbiAoRW5naW5lVHlwZSkge1xyXG4gICAgRW5naW5lVHlwZVtFbmdpbmVUeXBlW1wiU09DS0VUQ0xJRU5UXCJdID0gMF0gPSBcIlNPQ0tFVENMSUVOVFwiO1xyXG4gICAgRW5naW5lVHlwZVtFbmdpbmVUeXBlW1wiU09DS0VUU0VSVkVSXCJdID0gMV0gPSBcIlNPQ0tFVFNFUlZFUlwiO1xyXG4gICAgRW5naW5lVHlwZVtFbmdpbmVUeXBlW1wiQ0xJRU5UT05MWVwiXSA9IDJdID0gXCJDTElFTlRPTkxZXCI7XHJcbn0pKEVuZ2luZVR5cGUgfHwgKEVuZ2luZVR5cGUgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmdpbmVUeXBlLmpzLm1hcCIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuLy9hZGRpblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkU29ja2V0RW50aXR5KHNjZW5lLCBlbnRpdHkpIHtcclxuICAgIGxldCB1bmlxdWVJZCA9IFNjZW5lTWFuYWdlci5nZXRVbmlxdWVJZCgpO1xyXG4gICAgZW50aXR5LmlkID0gdW5pcXVlSWQ7XHJcbiAgICBlbnRpdHkuc2NlbmUgPSBzY2VuZTtcclxuICAgIHNjZW5lLmVudGl0aWVzLnNldCh1bmlxdWVJZCwgZW50aXR5KTtcclxuICAgIGZvciAobGV0IGNvbXAgb2YgZW50aXR5LmNvbXBvbmVudHMpIHtcclxuICAgICAgICBsZXQgY29tcExpc3QgPSBzY2VuZS5lbmdpbmVDb21wb25lbnRzLmdldChjb21wLmVuZ2luZVRhZyk7XHJcbiAgICAgICAgY29tcC5lbnRpdHkgPSBlbnRpdHkuaWQ7XHJcbiAgICAgICAgaWYgKGNvbXBMaXN0KSB7XHJcbiAgICAgICAgICAgIGxldCBzeXN0ZW0gPSBzY2VuZS5zY2VuZU1hbmFnZXIuc3lzdGVtVGFnLmdldChjb21wLmVuZ2luZVRhZyk7XHJcbiAgICAgICAgICAgIGlmIChzeXN0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHN5c3RlbS5yZWdpc3Rlcihjb21wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY29tcC5lbmdpbmVUYWcgKyBcImRvZXMgbm90IGV4aXN0XCIpO1xyXG4gICAgICAgICAgICBjb21wLmNvbXBvbmVudElkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUNvbXBvbmVudElkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJzdWNjZXNzZnVsbHkgYWRkZWQgZW50aXR5XCIpO1xyXG4gICAgcmV0dXJuIGVudGl0eTtcclxufVxyXG4vL2FkZGluZyBlbnRpdHkgb24gc2VydmVyXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRFbnRpdHkoc2NlbmUsIGVudGl0eSkge1xyXG4gICAgbGV0IHVuaXF1ZUlkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUlkKCk7XHJcbiAgICBlbnRpdHkuaWQgPSB1bmlxdWVJZDtcclxuICAgIGVudGl0eS5zY2VuZSA9IHNjZW5lO1xyXG4gICAgc2NlbmUuZW50aXRpZXMuc2V0KHVuaXF1ZUlkLCBlbnRpdHkpO1xyXG4gICAgZm9yIChsZXQgY29tcCBvZiBlbnRpdHkuY29tcG9uZW50cykge1xyXG4gICAgICAgIGxldCBjb21wTGlzdCA9IHNjZW5lLmVuZ2luZUNvbXBvbmVudHMuZ2V0KGNvbXAuZW5naW5lVGFnKTtcclxuICAgICAgICBjb21wLmVudGl0eSA9IGVudGl0eS5pZDtcclxuICAgICAgICBpZiAoY29tcExpc3QpIHtcclxuICAgICAgICAgICAgbGV0IHN5c3RlbSA9IHNjZW5lLnNjZW5lTWFuYWdlci5zeXN0ZW1UYWcuZ2V0KGNvbXAuZW5naW5lVGFnKTtcclxuICAgICAgICAgICAgaWYgKHN5c3RlbSkge1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtLnJlZ2lzdGVyKGNvbXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb21wLmVuZ2luZVRhZyArIFwiZG9lcyBub3QgZXhpc3RcIik7XHJcbiAgICAgICAgICAgIGNvbXAuY29tcG9uZW50SWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NmdWxseSBhZGRlZCBlbnRpdHlcIik7XHJcbiAgICByZXR1cm4gZW50aXR5O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXJBZGQoc2NlbmUsIGVudGl0eSkge1xyXG4gICAgaWYgKGVudGl0eS5pZCA9PSBudWxsIHx8IGVudGl0eS5pZCA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbnRpdHkgaWQgaXMgdW5kZWZpbmVkXCIpO1xyXG4gICAgfVxyXG4gICAgZW50aXR5LnNjZW5lID0gc2NlbmU7XHJcbiAgICBzY2VuZS5lbnRpdGllcy5zZXQoZW50aXR5LmlkLCBlbnRpdHkpO1xyXG4gICAgaWYgKHNjZW5lLm5ld0VudGl0eVF1ZXVlKSB7XHJcbiAgICAgICAgbGV0IGlzSW5RdWV1ZSA9IHNjZW5lLm5ld0VudGl0eVF1ZXVlLmhhcyhlbnRpdHkuaWQpO1xyXG4gICAgICAgIGlmICghaXNJblF1ZXVlKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGNvbXAgb2YgZW50aXR5LmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb21wTGlzdCA9IHNjZW5lLmVuZ2luZUNvbXBvbmVudHMuZ2V0KGNvbXAuZW5naW5lVGFnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzeXN0ZW0gPSBzY2VuZS5zY2VuZU1hbmFnZXIuc3lzdGVtVGFnLmdldChjb21wLmVuZ2luZVRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN5c3RlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW0ucmVnaXN0ZXIoY29tcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29tcC5lbmdpbmVUYWcgKyBcIiB0YWdnZWQgU3lzdGVtIGlzIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NmdWxseSBhZGRlZCBlbnRpdHlzXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZW50aXR5O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiBlbnRpdHkuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBsZXQgY29tcExpc3QgPSBzY2VuZS5lbmdpbmVDb21wb25lbnRzLmdldChjb21wLmVuZ2luZVRhZyk7XHJcbiAgICAgICAgICAgIGlmIChjb21wTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN5c3RlbSA9IHNjZW5lLnNjZW5lTWFuYWdlci5zeXN0ZW1UYWcuZ2V0KGNvbXAuZW5naW5lVGFnKTtcclxuICAgICAgICAgICAgICAgIGlmIChzeXN0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzeXN0ZW0ucmVnaXN0ZXIoY29tcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb21wLmVuZ2luZVRhZyArIFwiIHRhZ2dlZCBTeXN0ZW0gaXMgbm90IGZvdW5kXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc2Z1bGx5IGFkZGVkIGVudGl0eXNcIik7XHJcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRW50aXR5KHNjZW5lLCBpZCkge1xyXG4gICAgbGV0IGVudGl0eSA9IHNjZW5lLmVudGl0aWVzLmdldChpZCk7XHJcbiAgICBpZiAoZW50aXR5KSB7XHJcbiAgICAgICAgc2NlbmUuZW50aXRpZXMuZGVsZXRlKGlkKTtcclxuICAgICAgICBmb3IgKGxldCBjIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcG9uZW50XCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTeXN0ZW1cIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGMuc3lzdGVtKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb21wb25lbnQgaWQgXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjLmNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgYy5zeXN0ZW0udW5yZWdpc3RlcihjLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZW50aXR5O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRpdHkoc2NlbmUsIGlkKSB7XHJcbiAgICByZXR1cm4gc2NlbmUuZW50aXRpZXMuZ2V0KGlkKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KHNjZW5lLCBjb21wKSB7XHJcbiAgICBjb21wLmNvbXBvbmVudElkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUNvbXBvbmVudElkKCk7XHJcbiAgICByZXR1cm4gY29tcDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW50aXR5KHBhY2tldCkge1xyXG4gICAgcmV0dXJuIHBhY2tldDtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2VuZVV0aWxzLmpzLm1hcCIsImltcG9ydCB7IGFkZEVudGl0eSwgYWRkU29ja2V0RW50aXR5IH0gZnJvbSBcIi4uL3NjZW5lVXRpbHMuanNcIjtcclxuaW1wb3J0IHsgRW5naW5lVHlwZSB9IGZyb20gXCIuLi8uLi9jb25zdGFudHMvZW5naW5lVHlwZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgU2NlbmVNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZUNvbmZpZywgc2NlbmVzID0gW10sIHN5c3RlbXMpIHtcclxuICAgICAgICB0aGlzLnN5c3RlbXMgPSBzeXN0ZW1zO1xyXG4gICAgICAgIHRoaXMuc3lzdGVtVGFnID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIFNjZW5lTWFuYWdlci5zY2VuZU1hbmFnZXIgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZW5naW5lQ29uZmlnID0gZW5naW5lQ29uZmlnO1xyXG4gICAgICAgIGxldCBlbmdpbmVUeXBlID0gZW5naW5lQ29uZmlnLmVuZ2luZVR5cGU7XHJcbiAgICAgICAgaWYgKGVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5TT0NLRVRDTElFTlQpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRFbnRpdHkgPSBhZGRTb2NrZXRFbnRpdHk7XHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5FbmdpbmVUeXBlID0gRW5naW5lVHlwZS5TT0NLRVRDTElFTlQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5TT0NLRVRTRVJWRVIpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRFbnRpdHkgPSBhZGRFbnRpdHk7XHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5FbmdpbmVUeXBlID0gRW5naW5lVHlwZS5TT0NLRVRTRVJWRVI7XHJcbiAgICAgICAgICAgIC8vc3lzdGVtcy5wdXNoKG5ldyBTb2NrZXRTZXJ2ZXJNYW5hZ2VyKHRoaXMpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRFbnRpdHkgPSBhZGRFbnRpdHk7XHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5FbmdpbmVUeXBlID0gRW5naW5lVHlwZS5DTElFTlRPTkxZO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjZW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbmV3Q29uZmlnID0gc2NlbmVzW2ldO1xyXG4gICAgICAgICAgICBsZXQgbmV3U2NlbmUgPSBuZXdDb25maWc7XHJcbiAgICAgICAgICAgIG5ld1NjZW5lLnNjZW5lTWFuYWdlciA9IHRoaXM7XHJcbiAgICAgICAgICAgIG5ld1NjZW5lLmVuZ2luZUNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIG5ld1NjZW5lLmFkZEVudGl0eSA9IHRoaXMuYWRkRW50aXR5O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkluIFNjZW5lIE1hbmFnZXJcIik7XHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5zY2VuZXMuc2V0KG5ld1NjZW5lLm5hbWUsIG5ld1NjZW5lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2VuZUNvbmZpZ3MgPSBzY2VuZXM7XHJcbiAgICAgICAgU2NlbmVNYW5hZ2VyLmN1cnJlbnRJZHggPSB0aGlzLnNjZW5lQ29uZmlnc1swXS5uYW1lO1xyXG4gICAgICAgIHRoaXMuc3lzdGVtcyA9IHN5c3RlbXM7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2hTY2VuZXMoa2V5KSB7XHJcbiAgICAgICAgbGV0IHNjZW5lID0gU2NlbmVNYW5hZ2VyLnNjZW5lcy5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoc2NlbmUpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgc3lzIG9mIHRoaXMuc3lzdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXAgPSBzY2VuZS5lbmdpbmVDb21wb25lbnRzLmdldChzeXMudGFnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wKSB7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcImVycm9yIGluIHN0YXJ0IG1ldGhvZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldEN1cnJlbnRTY2VuZSgpIHtcclxuICAgICAgICBsZXQgY3VyciA9IFNjZW5lTWFuYWdlci5zY2VuZXMuZ2V0KFNjZW5lTWFuYWdlci5jdXJyZW50SWR4KTtcclxuICAgICAgICBpZiAoY3Vycikge1xyXG4gICAgICAgICAgICByZXR1cm4gY3VycjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ2FudCBnZXQgY3VycmVudCBzY2VuZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIFNjZW5lTWFuYWdlci5zY2VuZU1hbmFnZXI7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0VW5pcXVlSWQoKSB7XHJcbiAgICAgICAgaWYgKFNjZW5lTWFuYWdlci5FbmdpbmVUeXBlID09IEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5UKSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IFNjZW5lTWFuYWdlci5pZCAtIDE7XHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5pZC0tO1xyXG4gICAgICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSBTY2VuZU1hbmFnZXIuaWQgKyAxO1xyXG4gICAgICAgICAgICBTY2VuZU1hbmFnZXIuaWQrKztcclxuICAgICAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRVbmlxdWVDb21wb25lbnRJZCgpIHtcclxuICAgICAgICBpZiAoU2NlbmVNYW5hZ2VyLkVuZ2luZVR5cGUgPT0gRW5naW5lVHlwZS5TT0NLRVRDTElFTlQpIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gU2NlbmVNYW5hZ2VyLmNvbXBvbmVudElkIC0gMTtcclxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLmNvbXBvbmVudElkLS07XHJcbiAgICAgICAgICAgIHJldHVybiBpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBpZCA9IFNjZW5lTWFuYWdlci5jb21wb25lbnRJZCArIDE7XHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5jb21wb25lbnRJZCsrO1xyXG4gICAgICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblNjZW5lTWFuYWdlci5zY2VuZXMgPSBuZXcgTWFwKCk7XHJcblNjZW5lTWFuYWdlci5pZCA9IDA7XHJcblNjZW5lTWFuYWdlci5jb21wb25lbnRJZCA9IDA7XHJcblNjZW5lTWFuYWdlci5FbmdpbmVUeXBlID0gRW5naW5lVHlwZS5DTElFTlRPTkxZO1xyXG5jbGFzcyBEZWZhdWx0U2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJzY2VuZVwiO1xyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmVuZ2luZUNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NlbmVNYW5hZ2VyLmpzLm1hcCIsImltcG9ydCB7IFNjZW5lTWFuYWdlciB9IGZyb20gXCIuLi8uLi9jb3JlL21hbmFnZXJzL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5leHBvcnQgY2xhc3MgRXZlbnRIYW5kbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGV2ZW50Q29uZmlnID0ge1xyXG4gICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICBtb3VzZTogZmFsc2VcclxuICAgIH0pIHtcclxuICAgICAgICB0aGlzLnRhZyA9IFwiRVZFTlRIQU5ETEVSXCI7XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5ldmVudENvbmZpZyA9IGV2ZW50Q29uZmlnO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goXCJjbGlja1wiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goZXZlbnQua2V5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyTGlzdGVuZXIoKSB7XHJcbiAgICB9XHJcbiAgICByZWdpc3RlckVtaXR0ZXIoKSB7XHJcbiAgICB9XHJcbiAgICBnZXRDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRDb25maWc7XHJcbiAgICB9XHJcbiAgICByZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgaWYgKGNvbXAuY29tcG9uZW50SWQgPT0gdW5kZWZpbmVkIHx8IGNvbXAuY29tcG9uZW50SWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKTtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGlkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoaWQsIGNvbXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkV2ZW50IEhhbmRsZXIgcmVnaXN0ZXJlZFwiKTtcclxuICAgIH1cclxuICAgIHVucmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGxldCBkZWxldGVkID0gdGhpcy5jb21wb25lbnRzLmdldChjb21wKTtcclxuICAgICAgICBpZiAoZGVsZXRlZCkge1xyXG4gICAgICAgICAgICBkZWxldGVkLmFsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKGRlbGV0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXZlbnQgSGFuZGxlclwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkV2ZW50ICBIYW5kbGVyIENvbXBvbmVudHM6XCIgKyB0aGlzLmNvbXBvbmVudHMuc2l6ZSk7XHJcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMuY29tcG9uZW50cy5zaXplO1xyXG4gICAgICAgIGxldCBrZXlzID0gWy4uLnRoaXMuY29tcG9uZW50cy5rZXlzKCldO1xyXG4gICAgICAgIGZvciAobGV0IGNvbXAgb2Yga2V5cykge1xyXG4gICAgICAgICAgICBsZXQgbGlzdGVuYWJsZSA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgICAgIC8vbGV0IGV2ZW50TWFwID0gbGlzdGVuYWJsZS5ldmVudE1hcFxyXG4gICAgICAgICAgICAvL2ZvciAobGV0IGUgb2YgdGhpcy5ldmVudHMpIHtcclxuICAgICAgICAgICAgLy8gICBpZiAoZXZlbnRNYXApIHtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBmdW5jID0gZXZlbnRNYXAuZ2V0KGUpXHJcbiAgICAgICAgICAgIC8vICAgaWYgKGZ1bmMpIHtcclxuICAgICAgICAgICAgLy8gICAgIGZ1bmMoKVxyXG4gICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgLy99XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgbGlzdGVuYWJsZS51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmRlbGV0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29tcCA9PT0gbnVsbCB8fCBjb21wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudEhhbmRsZXIuanMubWFwIiwiZXhwb3J0IGNvbnN0IFBIWVNJQ1NfVEFHID0gXCJQSFlTSUNTXCI7XHJcbmV4cG9ydCBjb25zdCBHUkFQSElDU19UQUcgPSBcIkdSQVBISUNTXCI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudFR5cGUuanMubWFwIiwiZXhwb3J0IGNsYXNzIFByaW9yaXR5UXVldWUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgdGhpcy5zaXplID0gMDtcclxuICAgIH1cclxuICAgIHN3YXAoaWR4MSwgaWR4Mikge1xyXG4gICAgICAgIHZhciB0bXAgPSB0aGlzLml0ZW1zW2lkeDFdO1xyXG4gICAgICAgIHRoaXMuaXRlbXNbaWR4MV0gPSB0aGlzLml0ZW1zW2lkeDJdO1xyXG4gICAgICAgIHRoaXMuaXRlbXNbaWR4Ml0gPSB0bXA7XHJcbiAgICB9XHJcbiAgICAvLyBBZGQgYW4gaXRlbSB0byB0aGUgcXVldWVcclxuICAgIGVucXVldWUoaXRlbSwgcHJpb3JpdHkpIHtcclxuICAgICAgICB0aGlzLml0ZW1zLnB1c2goe1xyXG4gICAgICAgICAgICBkYXRhOiBpdGVtLFxyXG4gICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHlcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgaWR4ID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIHZhciBwYXJlbnRJZHggPSBNYXRoLmZsb29yKChpZHggLSAxKSAvIDIpO1xyXG4gICAgICAgIHdoaWxlIChpZHggPiAwICYmIHRoaXMuaXRlbXNbaWR4XS5wcmlvcml0eSA+IHRoaXMuaXRlbXNbcGFyZW50SWR4XS5wcmlvcml0eSkge1xyXG4gICAgICAgICAgICB0aGlzLnN3YXAoaWR4LCBwYXJlbnRJZHgpO1xyXG4gICAgICAgICAgICBpZHggPSBwYXJlbnRJZHg7XHJcbiAgICAgICAgICAgIHBhcmVudElkeCA9IE1hdGguZmxvb3IoKGlkeCAtIDEpIC8gMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2l6ZSsrO1xyXG4gICAgfVxyXG4gICAgLy8gUmVtb3ZlIGFuZCByZXR1cm4gdGhlIGhpZ2hlc3QgcHJpb3JpdHkgaXRlbSBmcm9tIHRoZSBxdWV1ZVxyXG4gICAgZGVxdWV1ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zaXplID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZS0tO1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuaXRlbXNbMF0uZGF0YTtcclxuICAgICAgICAgICAgdGhpcy5pdGVtcy5wb3AoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaXRlbXMpO1xyXG4gICAgICAgIGxldCBwb3BwZWQgPSB0aGlzLml0ZW1zWzBdO1xyXG4gICAgICAgIHRoaXMuc2l6ZS0tO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVW5wb3BwZWQgXCIgKyB0aGlzLnNpemUpO1xyXG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5pdGVtcy5wb3AoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBvcHBlZCBcIiArIHRoaXMuc2l6ZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2cobGFzdCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coKTtcclxuICAgICAgICBpZiAobGFzdCkge1xyXG4gICAgICAgICAgICB0aGlzLml0ZW1zWzBdID0gbGFzdDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiSW5sYXN0XCIgKyB0aGlzLml0ZW1zW2ldLmRhdGEpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTaXplIGlzXCIgKyB0aGlzLnNpemUpO1xyXG4gICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgIHdoaWxlIChpZHggPD0gdGhpcy5zaXplIC0gMSkge1xyXG4gICAgICAgICAgICBsZXQgbGVmdCA9IDIgKiBpZHggKyAxO1xyXG4gICAgICAgICAgICBsZXQgcmlnaHQgPSAyICogaWR4ICsgMjtcclxuICAgICAgICAgICAgaWYgKGxlZnQgPD0gdGhpcy5zaXplIC0gMSAmJiByaWdodCA8PSB0aGlzLnNpemUgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRJZHggPSB0aGlzLml0ZW1zW2xlZnRdLnByaW9yaXR5ID4gdGhpcy5pdGVtc1tyaWdodF0ucHJpb3JpdHkgPyBsZWZ0IDogcmlnaHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pdGVtc1tjaGlsZElkeF0ucHJpb3JpdHkgPiB0aGlzLml0ZW1zW2lkeF0ucHJpb3JpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN3YXAoaWR4LCBjaGlsZElkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gY2hpbGRJZHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiZmlyc3QgYnJlYWtcIilcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChsZWZ0IDw9IHRoaXMuc2l6ZSAtIDEpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLml0ZW1zW2xlZnRdLnByaW9yaXR5ID4gdGhpcy5pdGVtc1tpZHhdLnByaW9yaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwKGlkeCwgbGVmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gbGVmdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTZWNvbmQgYnJlYWtcIilcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJUaGlyZCBicmVha1wiKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBvcHBlZC5kYXRhO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByaW9yaXR5UXVldWUuanMubWFwIiwiaW1wb3J0IHsgUHJpb3JpdHlRdWV1ZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9lbmdpbmUvc3JjL3N0cnVjdHMvUHJpb3JpdHlRdWV1ZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgUGFpbnRlclN0cmF0ZWd5IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucXVldWUgPSBuZXcgUHJpb3JpdHlRdWV1ZSgpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKHJlbmRlcmluZ0Fycikge1xyXG4gICAgICAgIGxldCBsaXN0ID0gW107XHJcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLnF1ZXVlLnNpemU7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGogPSAwO1xyXG4gICAgICAgICAgICBsZXQgZGVxdWV1ZWQgPSB0aGlzLnF1ZXVlLmRlcXVldWUoKTtcclxuICAgICAgICAgICAgbGlzdC5wdXNoKGRlcXVldWVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHJlbmRlcmluZ0Fyci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICBsZXQgY2FtZXJhID0gcmVuZGVyaW5nQXJyW2ldO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNpemUgaXMgXCIgKyB0aGlzLnF1ZXVlLnNpemUpO1xyXG4gICAgICAgICAgICBjYW1lcmEucmVuZGVyKGxpc3QsIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRlcmVnaXN0ZXJTdHJhdGVneShpZCkge1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJTdHJhdGVneShjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLnF1ZXVlLmVucXVldWUoY29tcG9uZW50LCBjb21wb25lbnQudHJhbnNmb3JtLnopO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5jbGVhcigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2xlYXJlZCBxdWV1ZSBsZW5ndGggaXMgXCIgKyB0aGlzLnF1ZXVlLnNpemUpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlcmluZ1N0cmF0ZWd5LmpzLm1hcCIsImltcG9ydCB7IEdSQVBISUNTX1RBRyB9IGZyb20gXCIuLi8uLi9jb25zdGFudHMvY29tcG9uZW50VHlwZS5qc1wiO1xyXG5pbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuaW1wb3J0IHsgUGFpbnRlclN0cmF0ZWd5IH0gZnJvbSBcIi4uLy4uL3R5cGVzL2NvbXBvbmVudHMvZ3JhcGhpY3MvUmVuZGVyaW5nU3RyYXRlZ3kuanNcIjtcclxuZXhwb3J0IGNsYXNzIEdyYXBoaWNzRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGdyYXBoaWNzQ29uZmlnLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy50YWcgPSBHUkFQSElDU19UQUc7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJpbmcgPSBbXTtcclxuICAgICAgICB0aGlzLmdyYXBoaWNzQ29uZmlnID0gZ3JhcGhpY3NDb25maWc7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZGVsZXRlZCA9IFtdO1xyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gXCIwXCI7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJTdHJhdGVneSA9IG5ldyBQYWludGVyU3RyYXRlZ3koKTtcclxuICAgICAgICB0aGlzLmNvbnRleHRJbmZvID0gY29udGV4dDtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBpZiAoY29tcC5jb21wb25lbnRJZCA9PSB1bmRlZmluZWQgfHwgY29tcC5jb21wb25lbnRJZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVnaXN0ZXJpbmcgdW5kZWZpbmVkIGlkIGluIEdncmFwaGljc1wiKTtcclxuICAgICAgICAgICAgbGV0IGlkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUNvbXBvbmVudElkKCk7XHJcbiAgICAgICAgICAgIGNvbXAuY29tcG9uZW50SWQgPSBpZDtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICBjb21wLmNvbnRleHQgPSB0aGlzLmNvbnRleHRJbmZvO1xyXG4gICAgICAgICAgICBpZiAoY29tcC5yZW5kZXJlZCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmluZy5wdXNoKGNvbXApO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQdXNoaW5nIHRvIHJlbmRlcmluZ1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21wLmluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChpZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdyYXBoaWNzIFJlZ2lzdGVyaW5nIGlkXCIgKyBjb21wLmNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICBjb21wLmNvbnRleHQgPSB0aGlzLmNvbnRleHRJbmZvO1xyXG4gICAgICAgICAgICBpZiAoY29tcC5yZW5kZXJlZCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmluZy5wdXNoKGNvbXApO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJQdXNoaW5nIHRvIHJlbmRlcmluZ1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21wLmluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChjb21wLmNvbXBvbmVudElkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1bnJlZ2lzdGVyKGlkKSB7XHJcbiAgICAgICAgbGV0IGRlbGV0ZWQgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KGlkKTtcclxuICAgICAgICBpZiAoZGVsZXRlZCkge1xyXG4gICAgICAgICAgICBkZWxldGVkLmFsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKGRlbGV0ZWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkZWxldGVkLmVudGl0eSArIFwiIHMgQ29tcG9uZW50IHdpdGggaWQgXCIgKyBkZWxldGVkLmNvbXBvbmVudElkICsgXCJpcyBwb3BwZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuY29udGV4dEluZm8uY3R4O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiR3JhcGhpY3MgZW5naW5lIHJ1bm5pbmdcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJHcmFwaGljcyBDb21wb25lbnRzOiBcIiArIHRoaXMuY29tcG9uZW50cy5zaXplKTtcclxuICAgICAgICBmb3IgKGxldCBjIG9mIHRoaXMuY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBsZXQgY29tcCA9IGNbMV07XHJcbiAgICAgICAgICAgIGNvbXAudXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgaWYgKGNvbXAucmVuZGVyZWQgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyU3RyYXRlZ3kucmVnaXN0ZXJTdHJhdGVneShjb21wKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVnaXN0ZXJlZCBTdHJhdGVneVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbmRlcmluZyBDb21wb25lbnRzOiBcIiArIHRoaXMucmVuZGVyaW5nLmxlbmd0aCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJTdHJhdGVneS5yZW5kZXIodGhpcy5yZW5kZXJpbmcpO1xyXG4gICAgICAgIHdoaWxlICh0aGlzLmRlbGV0ZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgY29tcCA9IHRoaXMuZGVsZXRlZC5wb3AoKTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmRlbGV0ZShjb21wID09PSBudWxsIHx8IGNvbXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXAuY29tcG9uZW50SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldFNjZW5lKHNjZW5lKSB7XHJcbiAgICAgICAgbGV0IGdldCA9IHNjZW5lLmVuZ2luZUNvbXBvbmVudHMuZ2V0KHRoaXMudGFnKTtcclxuICAgICAgICBpZiAoZ2V0KSB7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdyYXBoaWNFbmdpbmUuanMubWFwIiwiaW1wb3J0IHsgUEhZU0lDU19UQUcgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzL2NvbXBvbmVudFR5cGUuanNcIjtcclxuaW1wb3J0IHsgU2NlbmVNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2NvcmUvbWFuYWdlcnMvU2NlbmVNYW5hZ2VyLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBQaHlzaWNzRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudGFnID0gUEhZU0lDU19UQUc7XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGlmIChjb21wLmNvbXBvbmVudElkID09IHVuZGVmaW5lZCB8fCBjb21wLmNvbXBvbmVudElkID09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUNvbXBvbmVudElkKCk7XHJcbiAgICAgICAgICAgIGNvbXAuY29tcG9uZW50SWQgPSBpZDtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGlkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChjb21wLmNvbXBvbmVudElkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1bnJlZ2lzdGVyKGNvbXApIHtcclxuICAgICAgICBsZXQgZGVsZXRlZCA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcCk7XHJcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlZC5hbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZWQucHVzaChkZWxldGVkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGVsZXRlZC5lbnRpdHkgKyBcIiBzIENvbXBvbmVudCB3aXRoIGlkIFwiICsgZGVsZXRlZC5jb21wb25lbnRJZCArIFwiaXMgcG9wcGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUGh5c2ljcyBlbmdpbmUgcnVubmluZ1wiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBoeXNpY3MgQ29tcG9uZW50czogXCIgKyB0aGlzLmNvbXBvbmVudHMuc2l6ZSk7XHJcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgY29tcFsxXS51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLmRlbGV0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29tcCA9PT0gbnVsbCB8fCBjb21wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGh5c2ljc0VuZ2luZS5qcy5tYXAiLCJpbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuZXhwb3J0IGNsYXNzIFNjcmlwdGluZ0VuZ2luZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmVUeXBlKSB7XHJcbiAgICAgICAgdGhpcy50YWcgPSBcIlNDUklQVElOR1wiO1xyXG4gICAgICAgIHRoaXMuZGVsZXRlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmVuZ2luZVR5cGUgPSBlbmdpbmVUeXBlO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGlmIChjb21wLmNvbXBvbmVudElkID09IHVuZGVmaW5lZCB8fCBjb21wLmNvbXBvbmVudElkID09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUNvbXBvbmVudElkKCk7XHJcbiAgICAgICAgICAgIGNvbXAuY29tcG9uZW50SWQgPSBpZDtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGlkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbXAuY29tcG9uZW50SWQgPSBjb21wLmNvbXBvbmVudElkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoY29tcC5jb21wb25lbnRJZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdW5yZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgbGV0IGRlbGV0ZWQgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KGNvbXApO1xyXG4gICAgICAgIGlmIChkZWxldGVkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZWQuYWxpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVkLnB1c2goZGVsZXRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTY3JpcHRpbmcgZW5naW5lIHJ1bm5pbmdcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTY3JpcHRpbmcgQ29tcG9uZW50czogXCIgKyB0aGlzLmNvbXBvbmVudHMuc2l6ZSk7XHJcbiAgICAgICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBbMV0uZW5naW5lVHlwZSA9PSB0aGlzLmVuZ2luZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBbMV0uY2FsbGJhY2soZHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlICh0aGlzLmRlbGV0ZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgY29tcCA9IHRoaXMuZGVsZXRlZC5wb3AoKTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmRlbGV0ZShjb21wID09PSBudWxsIHx8IGNvbXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXAuY29tcG9uZW50SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY3JpcHRpbmdFbmdpbmUuanMubWFwIiwiZXhwb3J0IGNsYXNzIENvbnRleHRJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKGdyYXBoaWNzQ29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5ncmFwaGljc0NvbmZpZyA9IGdyYXBoaWNzQ29uZmlnO1xyXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NDb25maWcgPSBncmFwaGljc0NvbmZpZztcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xyXG4gICAgICAgIHRoaXMuc2V0dXAoKTtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMuZ2VuZXJhdGVDYW52YXMoKTtcclxuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICB0aGlzLmRpdiA9IHRoaXMuZ2VuZXJhdGVEaXYodGhpcy5ncmFwaGljc0NvbmZpZy5wYXJlbnQpO1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVEaXYocGFyZW50KSB7XHJcbiAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5pZCA9IHBhcmVudDtcclxuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IFwiMFwiO1xyXG4gICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgICAgICAgZGl2LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJjZW50ZXJcIjtcclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInRlc3RcIik7XHJcbiAgICAgICAgcmV0dXJuIGRpdjtcclxuICAgIH1cclxuICAgIGdlbmVyYXRlQ2FudmFzKCkge1xyXG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQ0FOVkFTXCIpO1xyXG4gICAgICAgIGNhbnZhcy5pZCA9IHRoaXMuZ3JhcGhpY3NDb25maWcuY2FudmFzSUQ7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5wYXJzZVN0eWxlKHRoaXMuZ3JhcGhpY3NDb25maWcuc3R5bGUpKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkJlZm9yZVwiKTtcclxuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdzdHlsZScsIHRoaXMucGFyc2VTdHlsZSh0aGlzLmdyYXBoaWNzQ29uZmlnLnN0eWxlKSk7XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgIH1cclxuICAgIGdldEN0eCgpIHtcclxuICAgICAgICBsZXQgY2FudmFzID0gdGhpcy5nZXRDYW52YXMoKTtcclxuICAgICAgICByZXR1cm4gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIH1cclxuICAgIGdldENhbnZhcygpIHtcclxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5ncmFwaGljc0NvbmZpZy5jYW52YXNJRCk7XHJcbiAgICAgICAgaWYgKGNhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYW52YXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcImVuZ2luZUNhbnZhcyBzaG91bGQgYmUgYSByZXNlcnZlZCBpZCBmb3IgRE9NIENvbXBvbmVudHNcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcGFyc2VTdHlsZShzdHlsZU9iamVjdCkge1xyXG4gICAgICAgIGxldCBjc3NBcnJheSA9IE9iamVjdC5lbnRyaWVzKHN0eWxlT2JqZWN0KS5tYXAoKFtrLCB2XSkgPT4gayArIFwiOlwiICsgdiArIFwiO1wiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdyYXBoaWNzQ29uZmlnLnBhcmVudCk7XHJcbiAgICAgICAgcmV0dXJuIGNzc0FycmF5LmpvaW4oXCIgXCIpO1xyXG4gICAgfVxyXG4gICAgc2V0dXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NDb25maWcuYmFja2dyb3VuZCkge1xyXG4gICAgICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5ncmFwaGljc0NvbmZpZy5iYWNrZ3JvdW5kO1xyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUuekluZGV4ID0gXCItMVwiO1xyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHQuanMubWFwIiwiZXhwb3J0IGNsYXNzIE5haXZlQ29sbGlzaW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHN5c3RlbSkge1xyXG4gICAgICAgIHRoaXMuZGVsZXRlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3lzdGVtID0gc3lzdGVtO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50KSB7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBmb3IgKHZhciBba2V5MSwgY29sMV0gb2YgdGhpcy5zeXN0ZW0uY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICBpZiAoY29sMS52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBba2V5MiwgY29sMl0gb2YgdGhpcy5zeXN0ZW0uY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wyLnZpc2libGUgJiYgY29sMS5jaGVja0NvbGxpc2lvbihjb2wyKSAmJiBjb2wxICE9IGNvbDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sMS5jb2xsaWRlcyhjb2wyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNvbDIuYWxpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVkLnB1c2goY29sMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBTcGF0aWFsSGFzaEdyaWRTdHJhdGVneSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzeXN0ZW0pIHtcclxuICAgICAgICB0aGlzLnN5c3RlbSA9IHN5c3RlbTtcclxuICAgICAgICB0aGlzLmRlbGV0ZWQgPSBbXTtcclxuICAgICAgICB0aGlzLnN5c3RlbS5jb25maWcuYm91bmRzO1xyXG4gICAgICAgIHRoaXMuZ3JpZCA9IG5ldyBTcGF0aWFsSGFzaEdyaWQodGhpcy5zeXN0ZW0uY29uZmlnLmJvdW5kcywgNSwgNSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFNwYXRpYWxIYXNoR3JpZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihib3VuZHMgPSB7IHRvcFg6IDAsIHRvcFk6IDAsIGJvdHRvbVg6IDEwMCwgYm90dG9tWTogMTAwIH0sIHhDZWxscywgeUNlbGxzKSB7XHJcbiAgICAgICAgdGhpcy5ncmlkTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMueENlbGwgPSB4Q2VsbHM7XHJcbiAgICAgICAgdGhpcy55Q2VsbCA9IHlDZWxscztcclxuICAgICAgICB0aGlzLmJvdW5kcyA9IGJvdW5kcztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhDZWxscyAqIHlDZWxsczsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JpZE1hcC5zZXQoaSwgW10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbW92ZShjb2xsaWRlcikge1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGNvbGxpZGVycykge1xyXG4gICAgICAgIHRoaXMuZ3JpZE1hcC5jbGVhcigpO1xyXG4gICAgICAgIGZvciAobGV0IGNvbGxpZGVyIG9mIGNvbGxpZGVycykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZChjb2xsaWRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkKGNvbGxpZGVyKSB7XHJcbiAgICAgICAgY29uc3QgeCA9IGNvbGxpZGVyLmJvdW5kaW5nQm94LnBvcy54O1xyXG4gICAgICAgIGNvbnN0IHkgPSBjb2xsaWRlci5ib3VuZGluZ0JveC5wb3MueTtcclxuICAgICAgICBjb25zdCBsZW4gPSBjb2xsaWRlci5ib3VuZGluZ0JveC5kaW0ubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNvbGxpZGVyLmJvdW5kaW5nQm94LmRpbS5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IGNlbGxJbmRpY2VzID0gdGhpcy5nZXRDZWxsSW5kZXgoY29sbGlkZXIpO1xyXG4gICAgICAgIGZvciAobGV0IGkgb2YgY2VsbEluZGljZXMpIHtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRDZWxsSW5kZXgoY29sbGlkZXIpIHtcclxuICAgICAgICByZXR1cm4gWzEsIDJdO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbGxpc2lvblN0cmF0ZWd5LmpzLm1hcCIsImltcG9ydCB7IFNjZW5lTWFuYWdlciB9IGZyb20gXCIuLi8uLi9jb3JlL21hbmFnZXJzL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgeyBOYWl2ZUNvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi90eXBlcy9jb21wb25lbnRzL2NvbGxpc2lvbi9Db2xsaXNpb25TdHJhdGVneS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uU3lzdGVtIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudGFnID0gXCJDT0xMSVNJT05cIjtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgaWYgKGNvbmZpZy5ib3VuZHMpIHtcclxuICAgICAgICAgICAgdGhpcy5ib3VuZHMgPSBjb25maWcuYm91bmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbGxpc2lvblN0cmF0ZWd5ID0gbmV3IE5haXZlQ29sbGlzaW9uKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGlmIChjb21wLmNvbXBvbmVudElkID09IHVuZGVmaW5lZCB8fCBjb21wLmNvbXBvbmVudElkID09IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IGlkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUNvbXBvbmVudElkKCk7XHJcbiAgICAgICAgICAgIGNvbXAuY29tcG9uZW50SWQgPSBpZDtcclxuICAgICAgICAgICAgY29tcC5zeXN0ZW0gPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMuc2V0KGlkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbXAuc3lzdGVtID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChjb21wLmNvbXBvbmVudElkLCBjb21wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb2xsaXNpb25TdHJhdGVneS5yZWdpc3RlckNvbXBvbmVudChjb21wKTtcclxuICAgIH1cclxuICAgIHVucmVnaXN0ZXIoY29tcCkge1xyXG4gICAgICAgIGxldCBkZWxldGVkID0gdGhpcy5jb21wb25lbnRzLmdldChjb21wKTtcclxuICAgICAgICBpZiAoZGVsZXRlZCkge1xyXG4gICAgICAgICAgICBkZWxldGVkLmFsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlZC5wdXNoKGRlbGV0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29sbGlzaW9uIFN5c3RlbSBSdW5uaW5nXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29sbGlzaW9uIENvbXBvbmVudHM6IFwiICsgdGhpcy5jb21wb25lbnRzLnNpemUpO1xyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uU3RyYXRlZ3kudXBkYXRlKGR0KTtcclxuICAgICAgICB3aGlsZSAodGhpcy5kZWxldGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IHBvcHBlZCA9IHRoaXMuZGVsZXRlZC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKHBvcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDb21wb25lbnQocG9wcGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRlbGV0ZUNvbXBvbmVudChjb2wpIHtcclxuICAgICAgICBpZiAoY29sLmNvbXBvbmVudElkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5kZWxldGUoY29sLmNvbXBvbmVudElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGlzaW9uU3lzdGVtLmpzLm1hcCIsImltcG9ydCB7IEV2ZW50SGFuZGxlciB9IGZyb20gXCIuLi9zeXN0ZW1zL2V2ZW50cy9FdmVudEhhbmRsZXIuanNcIjtcclxuaW1wb3J0IHsgR3JhcGhpY3NFbmdpbmUgfSBmcm9tIFwiLi4vc3lzdGVtcy9ncmFwaGljcy9HcmFwaGljRW5naW5lLmpzXCI7XHJcbmltcG9ydCB7IFBoeXNpY3NFbmdpbmUgfSBmcm9tIFwiLi4vc3lzdGVtcy9waHlzaWNzL1BoeXNpY3NFbmdpbmUuanNcIjtcclxuaW1wb3J0IHsgU2NyaXB0aW5nRW5naW5lIH0gZnJvbSBcIi4uL3N5c3RlbXMvc2NyaXB0aW5nL1NjcmlwdGluZ0VuZ2luZS5qc1wiO1xyXG5pbXBvcnQgeyBDb250ZXh0SW5mbyB9IGZyb20gXCIuL2NvbnRleHQuanNcIjtcclxuaW1wb3J0IHsgU2NlbmVNYW5hZ2VyIH0gZnJvbSBcIi4vbWFuYWdlcnMvU2NlbmVNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IENvbGxpc2lvblN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW1zL0NvbGxpc2lvbi9Db2xsaXNpb25TeXN0ZW0uanNcIjtcclxuaW1wb3J0IHsgRW5naW5lVHlwZSB9IGZyb20gXCIuLi9jb25zdGFudHMvZW5naW5lVHlwZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWVDb25maWcgPSB7XHJcbiAgICAgICAgZW5naW5lVHlwZTogRW5naW5lVHlwZS5DTElFTlRPTkxZLFxyXG4gICAgfSwgc3lzdGVtcykge1xyXG4gICAgICAgIHRoaXMuY2FudmFzSUQgPSBcImVuZ2luZUNhbnZhc1wiO1xyXG4gICAgICAgIHRoaXMuc3lzdGVtcyA9IFtdO1xyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVDb25maWcgPSBnYW1lQ29uZmlnO1xyXG4gICAgICAgIGlmIChnYW1lQ29uZmlnLmdyYXBoaWNzQ29uZmlnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dEluZm8gPSBuZXcgQ29udGV4dEluZm8oZ2FtZUNvbmZpZy5ncmFwaGljc0NvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZUNvbmZpZy5ldmVudENvbmZpZyAmJiB0aGlzLmNvbnRleHRJbmZvKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKG5ldyBFdmVudEhhbmRsZXIodGhpcy5lbmdpbmVDb25maWcuZXZlbnRDb25maWcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lQ29uZmlnLnBoeXNpY3NDb25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2gobmV3IFBoeXNpY3NFbmdpbmUodGhpcy5lbmdpbmVDb25maWcucGh5c2ljc0NvbmZpZykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVDb25maWcuc2NyaXB0aW5nQ29uZmlnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKG5ldyBTY3JpcHRpbmdFbmdpbmUodGhpcy5lbmdpbmVDb25maWcuZW5naW5lVHlwZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3lzdGVtcykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBzeXMgb2Ygc3lzdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2goc3lzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVDb25maWcuY29sbGlzaW9uQ29uZmlnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKG5ldyBDb2xsaXNpb25TeXN0ZW0odGhpcy5lbmdpbmVDb25maWcuY29sbGlzaW9uQ29uZmlnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZUNvbmZpZy5ncmFwaGljc0NvbmZpZyAmJiB0aGlzLmNvbnRleHRJbmZvKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MgPSBuZXcgR3JhcGhpY3NFbmdpbmUodGhpcy5lbmdpbmVDb25maWcuZ3JhcGhpY3NDb25maWcsIHRoaXMuY29udGV4dEluZm8pO1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbXMucHVzaCh0aGlzLmdyYXBoaWNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN5c3RlbXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgc3lzIG9mIHN5c3RlbXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHN5cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2VuZU1hbmFnZXIgPSBuZXcgU2NlbmVNYW5hZ2VyKHRoaXMuZW5naW5lQ29uZmlnLCB0aGlzLmVuZ2luZUNvbmZpZy5zY2VuZUNvbmZpZywgdGhpcy5zeXN0ZW1zKTtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgIFxyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSdcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSdcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIlxyXG4gICAgICAgIHRoaXMuc2V0dXAoKVxyXG4gICAgICAgIHRoaXMuZGl2ID0gdGhpcy5nZW5lcmF0ZURpdih0aGlzLmVuZ2luZUNvbmZpZy5wYXJlbnQpIDtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZVxyXG4gICAgICAgICovXHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgIHBhcnNlU3R5bGUoc3R5bGVPYmplY3Q6IE9iamVjdCk6ICBzdHJpbmcge1xyXG4gICAgICAgIGxldCBjc3NBcnJheTogc3RyaW5nW10gPSBPYmplY3QuZW50cmllcyhzdHlsZU9iamVjdCkubWFwKChbayx2XSkgPT4gayArIFwiOlwiICsgdiArIFwiO1wiKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZW5naW5lQ29uZmlnLnBhcmVudClcclxuICAgICAgICByZXR1cm4gY3NzQXJyYXkuam9pbihcIiBcIilcclxuICAgIH1cclxuICAgICovXHJcbiAgICAvKipcclxuICAgIGdlbmVyYXRlRGl2KHBhcmVudDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGRpdjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIGRpdi5pZCA9IHBhcmVudFxyXG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxyXG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIlxyXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9IFwiMVwiXHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwiL2ltYWdlcy90ZXN0LmpwZ1wiXHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRoaXMuZ2VuZXJhdGVDYW52YXMoKSlcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdilcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0ZXN0XCIpXHJcbiAgICAgICAgcmV0dXJuIGRpdlxyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVDYW52YXMoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQ0FOVkFTXCIpXHJcbiAgICAgICAgY2FudmFzLmlkID0gdGhpcy5jYW52YXNJRFxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGFyc2VTdHlsZSh0aGlzLmVuZ2luZUNvbmZpZy5zdHlsZSkpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJCZWZvcmVcIilcclxuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdzdHlsZScsIHRoaXMucGFyc2VTdHlsZSh0aGlzLmVuZ2luZUNvbmZpZy5zdHlsZSkpXHJcbiAgICAgICAgcmV0dXJuIGNhbnZhc1xyXG4gICAgfVxyXG4gICAgZ2V0Q3R4KCkge1xyXG4gICAgICAgIGxldCBjYW52YXMgPSB0aGlzLmdldENhbnZhcygpXHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIilcclxuICAgIH1cclxuICAgIGdldENhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY2FudmFzSUQpXHJcbiAgICAgICAgaWYgKGNhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYW52YXNcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcImVuZ2luZUNhbnZhcyBzaG91bGQgYmUgYSByZXNlcnZlZCBpZCBmb3IgRE9NIENvbXBvbmVudHNcIilcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgICAqXHJcbiAgICAgXHJcbiAgICBzZXR1cCgpIHtcclxuICAgICAgICBsZXQgY29uZmlnID0gdGhpcy5lbmdpbmVDb25maWdcclxuICAgICAgICBpZiAodHJ1ZSkge1xyXG4gICAgICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKVxyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBcIi9pbWFnZXMvdGVzdC5qcGdcIlxyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS5wb3NpdGlvbiA9XCJhYnNvbHV0ZVwiXHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLnpJbmRleCA9IFwiLTFcIlxyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLmhlaWdodD0gXCIxMDAlXCJcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpXHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICovXHJcbiAgICBzdGFydChkdCkge1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTdGFydG5nIEVuZ2luIFwiKTtcclxuICAgICAgICBsZXQgY3VyciA9IHRoaXMuc2NlbmVNYW5hZ2VyLmdldEN1cnJlbnRTY2VuZSgpO1xyXG4gICAgICAgIGZvciAobGV0IHN5cyBvZiB0aGlzLnN5c3RlbXMpIHtcclxuICAgICAgICAgICAgbGV0IGNvbXAgPSB0aGlzLnNjZW5lTWFuYWdlci5nZXRDdXJyZW50U2NlbmUoKS5lbmdpbmVDb21wb25lbnRzLnNldChzeXMudGFnLCBzeXMuY29tcG9uZW50cyk7XHJcbiAgICAgICAgICAgIGN1cnIuZW5naW5lQ29tcG9uZW50cy5zZXQoc3lzLnRhZywgc3lzLmNvbXBvbmVudHMpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lTWFuYWdlci5zeXN0ZW1UYWcuc2V0KHN5cy50YWcsIHN5cyk7XHJcbiAgICAgICAgICAgIGlmIChjb21wKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcImVycm9yIGluIHN0YXJ0IG1ldGhvZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgb2xkTWFwID0gY3Vyci5lbnRpdGllcztcclxuICAgICAgICBjdXJyLmVudGl0aWVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGZvciAobGV0IGUgb2Ygb2xkTWFwKSB7XHJcbiAgICAgICAgICAgIGlmIChlWzFdLmlkKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyLmFkZEVudGl0eShjdXJyLCBlWzFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnIuYWRkRW50aXR5KGN1cnIsIGVbMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZUNvbmZpZy5lbmdpbmVUeXBlID09IEVuZ2luZVR5cGUuQ0xJRU5UT05MWSB8fCB0aGlzLmVuZ2luZUNvbmZpZy5lbmdpbmVUeXBlID09IEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5UKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyVXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGltZW91dCBydW5vdXRcIik7XHJcbiAgICAgICAgICAgIH0sIGR0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBmb3IgKGxldCBzeXMgb2YgdGhpcy5zeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIHN5cy51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50aW1lKTtcclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aW1lc3RhbXApID0+IHtcclxuICAgICAgICAgICAgbGV0IGRlbHRhVGltZSA9IHRpbWVzdGFtcCAtIHRoaXMudGltZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoZHQpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUgPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzZXJ2ZXJVcGRhdGUoZHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInVwZGF0aW5nXCIpO1xyXG4gICAgICAgIGZvciAobGV0IHN5cyBvZiB0aGlzLnN5c3RlbXMpIHtcclxuICAgICAgICAgICAgc3lzLnVwZGF0ZShkdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGltZSArPSBkdDtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRpbWUpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlclVwZGF0ZShkdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBkdCk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5naW5lLmpzLm1hcCIsIi8qKlxyXG4gKiBEZXNjcmliZXMgdGhlIENTUyBwcm9wZXJ0aWVzIG9mIHRoZSBjYW52YXMgZWxlbWVudFxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBoeXNpY3NDb25maWcge1xyXG59XHJcbmV4cG9ydCBjbGFzcyBHcmFwaGljc0NvbmZpZyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQgPSBcImVuZ2luZURpdlwiLCBjYW52YXNJRCA9IFwiZW5naW5lQ2FudmFzXCIsIHN0eWxlID0ge30sIGJhY2tncm91bmQsIHdpZHRoID0gMTAwMCwgaGVpZ2h0ID0gNTAwKSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIHRoaXMuY2FudmFzSUQgPSBjYW52YXNJRDtcclxuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZDtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgU2NlbmVDb25maWcge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGVudGl0aWVzID0gW10pIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IGVudGl0aWVzO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBFdmVudENvbmZpZyB7XHJcbiAgICBjb25zdHJ1Y3RvcihrZXlib2FyZCwgbW91c2UpIHtcclxuICAgICAgICB0aGlzLmtleWJvYXJkID0ga2V5Ym9hcmQ7XHJcbiAgICAgICAgdGhpcy5tb3VzZSA9IG1vdXNlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBDb2xsaXNpb25Db25maWcge1xyXG59XHJcbmV4cG9ydCBjbGFzcyBTY3JpcHRpbmdDb25maWcge1xyXG59XHJcbmV4cG9ydCBjbGFzcyBTb2NrZXRTZXJ2ZXJDb25maWcge1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXAiLCJleHBvcnQgY2xhc3MgVHJhbnNmb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSwgcG9zID0geyB4OiAwLCB5OiAwLCB6OiAwIH0sIHZlbCA9IHsgeDogMCwgeTogMCwgejogMCB9LCBhY2NlbCA9IHsgeDogMCwgeTogMCwgejogMCB9KSB7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiUEhZU0lDU1wiO1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xyXG4gICAgICAgIHRoaXMudmVsID0gdmVsO1xyXG4gICAgICAgIHRoaXMuYWNjZWwgPSBhY2NlbDtcclxuICAgIH1cclxuICAgIGNvcHkodHJhbnNmb3JtKSB7XHJcbiAgICAgICAgdGhpcy5wb3MueCA9IHRyYW5zZm9ybS5wb3MueDtcclxuICAgICAgICB0aGlzLnBvcy55ID0gdHJhbnNmb3JtLnBvcy55O1xyXG4gICAgICAgIHRoaXMucG9zLnogPSB0cmFuc2Zvcm0ucG9zLno7XHJcbiAgICAgICAgdGhpcy52ZWwueCA9IHRyYW5zZm9ybS52ZWwueDtcclxuICAgICAgICB0aGlzLnZlbC54ID0gdHJhbnNmb3JtLnZlbC54O1xyXG4gICAgICAgIHRoaXMudmVsLnggPSB0cmFuc2Zvcm0udmVsLng7XHJcbiAgICAgICAgdGhpcy5hY2NlbC54ID0gdHJhbnNmb3JtLmFjY2VsLng7XHJcbiAgICAgICAgdGhpcy5hY2NlbC54ID0gdHJhbnNmb3JtLmFjY2VsLng7XHJcbiAgICAgICAgdGhpcy5hY2NlbC54ID0gdHJhbnNmb3JtLmFjY2VsLng7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSB0cmFuc2Zvcm0uZW50aXR5O1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SWQgPSB0cmFuc2Zvcm0uY29tcG9uZW50SWQ7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJhbnNmb3JtLnZpc2libGU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRyYW5zZm9ybS5hbGl2ZTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUG9zaXRpb24gaXM6IFwiICsgdGhpcy5wb3MueCArIFwiIGFuZCBcIiArIHRoaXMucG9zLnkpO1xyXG4gICAgICAgIHRoaXMudmVsLnggPSB0aGlzLnZlbC54ICsgdGhpcy5hY2NlbC54ICogZHQ7XHJcbiAgICAgICAgdGhpcy52ZWwueSA9IHRoaXMudmVsLnkgKyB0aGlzLmFjY2VsLnkgKiBkdDtcclxuICAgICAgICB0aGlzLnZlbC56ID0gdGhpcy52ZWwueiArIHRoaXMuYWNjZWwueiAqIGR0O1xyXG4gICAgICAgIHRoaXMucG9zLnggPSB0aGlzLnBvcy54ICsgdGhpcy52ZWwueCAqIGR0O1xyXG4gICAgICAgIHRoaXMucG9zLnkgPSB0aGlzLnBvcy55ICsgdGhpcy52ZWwueSAqIGR0O1xyXG4gICAgICAgIHRoaXMucG9zLnogPSB0aGlzLnBvcy56ICsgdGhpcy52ZWwueiAqIGR0O1xyXG4gICAgfVxyXG4gICAgdG9KU09OKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBvczogdGhpcy5wb3MsXHJcbiAgICAgICAgICAgIHZlbDogdGhpcy52ZWwsXHJcbiAgICAgICAgICAgIGFjY2VsOiB0aGlzLmFjY2VsLFxyXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuZW50aXR5LFxyXG4gICAgICAgICAgICBjb21wb25lbnRJZDogdGhpcy5jb21wb25lbnRJZCxcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZSxcclxuICAgICAgICAgICAgZW5naW5lVGFnOiBcIlBIWVNJQ1NcIlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiByZWN0YW5nbGVDb3B5KHJlY2VpdmVyLCBzZW5kZXIpIHtcclxuICAgIHJlY2VpdmVyLmRpbS5oZWlnaHQgPSBzZW5kZXIuZGltLmhlaWdodDtcclxuICAgIHJlY2VpdmVyLmRpbS5sZW5ndGggPSBzZW5kZXIuZGltLmxlbmd0aDtcclxuICAgIHJlY2VpdmVyLnBvcy54ID0gc2VuZGVyLnBvcy54O1xyXG4gICAgcmVjZWl2ZXIucG9zLnkgPSBzZW5kZXIucG9zLnk7XHJcbiAgICByZWNlaXZlci5wb3MueiA9IHNlbmRlci5wb3MuejtcclxuICAgIHJlY2VpdmVyLnJvdCA9IHNlbmRlci5yb3Q7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvcFgocmVjdGFuZ2xlKSB7XHJcbiAgICByZXR1cm4gcmVjdGFuZ2xlLnBvcy54IC0gcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyAyO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BZKHJlY3RhbmdsZSkge1xyXG4gICAgcmV0dXJuIHJlY3RhbmdsZS5wb3MueSAtIHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gMjtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFwZS5qcy5tYXAiLCJpbXBvcnQgeyBnZXRUb3BYLCBnZXRUb3BZIH0gZnJvbSBcIi4uLy4uL3R5cGVzL2NvbXBvbmVudHMvY29sbGlzaW9uL3NoYXBlLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBTcHJpdGUge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5LCBzaGFwZSwgc3JjKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIkdSQVBISUNTXCI7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5zcmMgPSBzcmM7XHJcbiAgICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy5zaGFwZS5wb3M7XHJcbiAgICB9XHJcbiAgICBjb3B5KGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudElkID0gZWxlbWVudC5jb21wb25lbnRJZDtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGVsZW1lbnQuZW50aXR5O1xyXG4gICAgICAgIHRoaXMuc2hhcGUuZGltLmhlaWdodCA9IGVsZW1lbnQuc2hhcGUuZGltLmhlaWdodDtcclxuICAgICAgICB0aGlzLnNoYXBlLmRpbS5sZW5ndGggPSBlbGVtZW50LnNoYXBlLmRpbS5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5zaGFwZS5wb3MueCA9IGVsZW1lbnQuc2hhcGUucG9zLng7XHJcbiAgICAgICAgdGhpcy5zaGFwZS5wb3MueSA9IGVsZW1lbnQuc2hhcGUucG9zLnk7XHJcbiAgICAgICAgdGhpcy5zaGFwZS5wb3MueiA9IGVsZW1lbnQuc2hhcGUucG9zLno7XHJcbiAgICAgICAgdGhpcy5zaGFwZS5yb3QgPSBlbGVtZW50LnNoYXBlLnJvdDtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBlbGVtZW50LnZpc2libGU7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ueCA9IGVsZW1lbnQudHJhbnNmb3JtLng7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ueSA9IGVsZW1lbnQudHJhbnNmb3JtLnk7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ueiA9IGVsZW1lbnQudHJhbnNmb3JtLno7XHJcbiAgICB9XHJcbiAgICB2aXNpdChlbGVtZW50KSB7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5jdHgpIHtcclxuICAgICAgICAgICAgbGV0IHggPSBnZXRUb3BYKHRoaXMuc2hhcGUpO1xyXG4gICAgICAgICAgICBsZXQgeSA9IGdldFRvcFkodGhpcy5zaGFwZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIHgsIHksIHRoaXMuc2hhcGUuZGltLmxlbmd0aCwgdGhpcy5zaGFwZS5kaW0uaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gdGhpcy5zcmM7XHJcbiAgICB9XHJcbiAgICBzZXRTcmMoc3JjKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTb3VyY2UgY2hhbmdlZFwiKTtcclxuICAgICAgICB0aGlzLnNyYyA9IHNyYztcclxuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IHNyYztcclxuICAgIH1cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuZW50aXR5LFxyXG4gICAgICAgICAgICBjb21wb25lbnRJZDogdGhpcy5jb21wb25lbnRJZCxcclxuICAgICAgICAgICAgZW5naW5lVGFnOiB0aGlzLmVuZ2luZVRhZyxcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0aGlzLnRyYW5zZm9ybSxcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZSxcclxuICAgICAgICAgICAgc3JjOiB0aGlzLnNyYyxcclxuICAgICAgICAgICAgc2hhcGU6IHRoaXMuc2hhcGUsXHJcbiAgICAgICAgICAgIHJlbmRlcnJlZDogdGhpcy5yZW5kZXJlZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlLmpzLm1hcCIsImltcG9ydCB7IEVuZ2luZVR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIE1vdXNlTGlzdGVuZXIge1xyXG4gICAgY29uc3RydWN0b3IoY2xpY2tNYXApIHtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiRVZFTlRIQU5ETEVSXCI7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhjbGlja01hcCkubWFwKChbaywgdl0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuc2V0KGssIHYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZXhlY3V0ZShldmVudCkge1xyXG4gICAgICAgIGxldCBldmVudDEgPSBldmVudDtcclxuICAgICAgICBsZXQgZnVuYyA9IHRoaXMuZXZlbnRzLmdldChldmVudC5ldmVudE5hbWUpO1xyXG4gICAgICAgIGlmIChmdW5jKSB7XHJcbiAgICAgICAgICAgIGZ1bmMoZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldEV2ZW50VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gXCJNT1VTRVwiO1xyXG4gICAgfVxyXG4gICAgY29weShsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gbGlzdGVuZXIuZW50aXR5O1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SWQgPSBsaXN0ZW5lci5jb21wb25lbnRJZDtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBsaXN0ZW5lci52aXNpYmxlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSBsaXN0ZW5lci5hbGl2ZTtcclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoc3lzdGVtKSB7XHJcbiAgICAgICAgc3lzdGVtLnJlZ2lzdGVyTGlzdGVuZXIodGhpcyk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQsIGN0eCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW4gbW91c2UgTGlzdGVuZXJcIik7XHJcbiAgICB9XHJcbiAgICB0b0pTT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW50aXR5OiB0aGlzLmVudGl0eSxcclxuICAgICAgICAgICAgZW5naW5lVGFnOiBcIkVWRU5USEFORExFUlwiLFxyXG4gICAgICAgICAgICBjb21wb25lbnRJZDogdGhpcy5jb21wb25lbnRJZCxcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBnZXRFdmVudHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjbGFzcyBNb3VzZUVtaXR0ZXIge1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJFVkVOVEhBTkRMRVJcIjtcclxuICAgICAgICB0aGlzLmVuZ2luZVR5cGUgPSBlbmdpbmU7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKHN5c3RlbSkge1xyXG4gICAgICAgIHN5c3RlbS5yZWdpc3RlckVtaXR0ZXIodGhpcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lVHlwZSAhPSBFbmdpbmVUeXBlLlNPQ0tFVFNFUlZFUikge1xyXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTtcclxuICAgICAgICAgICAgaWYgKGNhbnZhcykge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgeCA9IGV2ZW50LnggLyByZWN0LndpZHRoICogY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB5ID0gZXZlbnQueSAvIHJlY3QuaGVpZ2h0ICogY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiB7IHg6IHgsIHk6IHksIHo6IDAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lOiBcImNsaWNrXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiB7IHg6IGV2ZW50LngsIHk6IGV2ZW50LnksIHo6IDAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lOiBcImRibGNsaWNrXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkTGlzdGVuZXIoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuYWRkKGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICBlbWl0KGV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgdGhpcy5saXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXIuZXhlY3V0ZShldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0RXZlbnRUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiBcIk1PVVNFXCI7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQsIGN0eCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmV2ZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQodGhpcy5ldmVudHNbaV0pO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb3B5KGNvbXBvbmVudCkge1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSBjb21wb25lbnQuYWxpdmU7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gY29tcG9uZW50LmFsaXZlO1xyXG4gICAgfVxyXG4gICAgdG9KU09OKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHZpc2libGU6IHRoaXMudmlzaWJsZSxcclxuICAgICAgICAgICAgYWxpdmU6IHRoaXMuYWxpdmVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxpc3RlbmVyLmpzLm1hcCIsImltcG9ydCB7IEVuZ2luZVR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIFNjcmlwdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgZW5naW5lVHlwZSA9IEVuZ2luZVR5cGUuQ0xJRU5UT05MWSkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJTQ1JJUFRJTkdcIjtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB0aGlzLmVuZ2luZVR5cGUgPSBlbmdpbmVUeXBlO1xyXG4gICAgfVxyXG4gICAgY29weShzY3JpcHQpIHtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayhkdCk7XHJcbiAgICB9XHJcbiAgICB0b0pTT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW50aXR5OiB0aGlzLmVudGl0eSxcclxuICAgICAgICAgICAgZW5naW5lVGFnOiB0aGlzLmVuZ2luZVRhZyxcclxuICAgICAgICAgICAgY29tcG9uZW5JZDogdGhpcy5jb21wb25lbnRJZCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuY2FsbGJhY2tcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjcmlwdC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XHJcbmV4cG9ydCBjbGFzcyBCb3hDb2xsaWRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHkgPSAtMSwgZGltID0geyBsZW5ndGg6IDIwLCBoZWlnaHQ6IDIwIH0sIHBvcyA9IHsgeDogMCwgeTogMCwgejogMCB9LCBvbkNvbGxpc2lvbikge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJDT0xMSVNJT05cIjtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIHRoaXMuY29sbGlkZVR5cGUgPSBcIkJveFwiO1xyXG4gICAgICAgIHRoaXMuc2hhcGUgPSB7XHJcbiAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICBkaW06IGRpbSxcclxuICAgICAgICAgICAgcm90OiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnByZXYgPSB7XHJcbiAgICAgICAgICAgIHg6IHBvcy54LFxyXG4gICAgICAgICAgICB5OiBwb3MueSxcclxuICAgICAgICAgICAgejogcG9zLnpcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSB0aGlzLnNoYXBlO1xyXG4gICAgICAgIHRoaXMub25Db2xsaXNpb24gPSBvbkNvbGxpc2lvbjtcclxuICAgIH1cclxuICAgIGNvcHkoY29sbGlkZXIpIHtcclxuICAgICAgICBpZiAoY29sbGlkZXIuZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gY29sbGlkZXIuZW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByZXYueCA9IGNvbGxpZGVyLnByZXYueDtcclxuICAgICAgICB0aGlzLnByZXYueSA9IGNvbGxpZGVyLnByZXYueTtcclxuICAgICAgICB0aGlzLnByZXYueiA9IGNvbGxpZGVyLnByZXYuejtcclxuICAgICAgICB0aGlzLmFsaXZlID0gY29sbGlkZXIuYWxpdmU7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlVHlwZSA9IGNvbGxpZGVyLmNvbGxpZGVUeXBlO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SWQgPSB0aGlzLmNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gdGhpcy5lbmdpbmVUYWc7XHJcbiAgICAgICAgdGhpcy5zaGFwZS5kaW0uaGVpZ2h0ID0gY29sbGlkZXIuc2hhcGUuZGltLmhlaWdodDtcclxuICAgICAgICB0aGlzLnNoYXBlLmRpbS5sZW5ndGggPSBjb2xsaWRlci5zaGFwZS5kaW0ubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuc2hhcGUucG9zLnggPSBjb2xsaWRlci5zaGFwZS5wb3MueDtcclxuICAgICAgICB0aGlzLnNoYXBlLnBvcy55ID0gY29sbGlkZXIuc2hhcGUucG9zLnk7XHJcbiAgICAgICAgdGhpcy5zaGFwZS5wb3MueiA9IGNvbGxpZGVyLnNoYXBlLnBvcy56O1xyXG4gICAgICAgIHRoaXMuc2hhcGUucm90ID0gY29sbGlkZXIuc2hhcGUucm90O1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGNvbGxpZGVyLnZpc2libGU7XHJcbiAgICB9XHJcbiAgICBjaGVja0NvbGxpc2lvbihjb2xsaWRlcikge1xyXG4gICAgICAgIGxldCBkb2VzQ29sbGlkZSA9IGZhbHNlO1xyXG4gICAgICAgIGxldCByZXQgPSBmYWxzZTtcclxuICAgICAgICBpZiAoY29sbGlkZXIgaW5zdGFuY2VvZiBCb3hDb2xsaWRlcikge1xyXG4gICAgICAgICAgICBsZXQgcmVjdCA9IGNvbGxpZGVyLnNoYXBlO1xyXG4gICAgICAgICAgICBsZXQgcmVjdGFuZ2xlID0gdGhpcy5zaGFwZTtcclxuICAgICAgICAgICAgaWYgKHJlY3Qucm90ID09IDAgJiYgcmVjdGFuZ2xlLnJvdCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVjdFggPSByZWN0LnBvcy54IC0gcmVjdC5kaW0ubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgICAgIGxldCByZWN0WSA9IHJlY3QucG9zLnkgLSByZWN0LmRpbS5oZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlY3RhbmdsZVggPSByZWN0YW5nbGUucG9zLnggLSByZWN0YW5nbGUuZGltLmxlbmd0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVjdGFuZ2xlWSA9IHJlY3RhbmdsZS5wb3MueSAtIHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgICAgIGlmIChyZWN0WCArIHJlY3QuZGltLmxlbmd0aCA+IHJlY3RhbmdsZVggJiZcclxuICAgICAgICAgICAgICAgICAgICByZWN0WCA8IHJlY3RhbmdsZVggKyByZWN0YW5nbGUuZGltLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlY3RZICsgcmVjdC5kaW0uaGVpZ2h0ID4gcmVjdGFuZ2xlWSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlY3RZIDwgcmVjdGFuZ2xlWSArIHJlY3RhbmdsZS5kaW0uaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbiAgICBjb2xsaWRlcyhjb2xsaWRlcikge1xyXG4gICAgICAgIHRoaXMub25Db2xsaXNpb24oY29sbGlkZXIpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgICAgICB0aGlzLnByZXYueCA9IHRoaXMuc2hhcGUucG9zLng7XHJcbiAgICAgICAgdGhpcy5wcmV2LnkgPSB0aGlzLnNoYXBlLnBvcy55O1xyXG4gICAgICAgIHRoaXMucHJldi56ID0gdGhpcy5zaGFwZS5wb3MuejtcclxuICAgIH1cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuZW50aXR5LFxyXG4gICAgICAgICAgICBlbmdpbmVUYWc6IHRoaXMuZW5naW5lVGFnLFxyXG4gICAgICAgICAgICBjb21wb25lbnRJZDogdGhpcy5jb21wb25lbnRJZCxcclxuICAgICAgICAgICAgcHJldjogdGhpcy5wcmV2LFxyXG4gICAgICAgICAgICBjb2xsaWRlVHlwZTogdGhpcy5jb2xsaWRlVHlwZSxcclxuICAgICAgICAgICAgc2hhcGU6IHRoaXMuc2hhcGUsXHJcbiAgICAgICAgICAgIGJvdW5kaW5nQm94OiB0aGlzLmJvdW5kaW5nQm94LFxyXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnZpc2libGUsXHJcbiAgICAgICAgICAgIGFsaXZlOiB0aGlzLmFsaXZlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gQ29weShjdXJyLCBuZXh0KSB7XHJcbiAgICBjdXJyLnByZXYgPSBuZXh0LnByZXY7XHJcbn1cclxuZXhwb3J0IGNsYXNzIENpcmNsZUNvbGxpZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eSwgcG9zLCBvbkNvbGxpc2lvbikge1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gLTE7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIkNPTExJU0lPTlwiO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlVHlwZSA9IFwiQm94XCI7XHJcbiAgICAgICAgdGhpcy5zaGFwZSA9IHtcclxuICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgIGRpbTogeyBsZW5ndGg6IDIwLCBoZWlnaHQ6IDIwIH0sXHJcbiAgICAgICAgICAgIHJvdDogMFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveCA9IHRoaXMuc2hhcGU7XHJcbiAgICAgICAgdGhpcy5vbkNvbGxpc2lvbiA9IG9uQ29sbGlzaW9uO1xyXG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSB0aGlzLnNoYXBlO1xyXG4gICAgfVxyXG4gICAgY29weSgpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIGNoZWNrQ29sbGlzaW9uKGNvbGxpZGVyKSB7XHJcbiAgICAgICAgdmFyIGRvZXNDb2xsaWRlID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29sbGlkZXMoY29sbGlkZXIpIHtcclxuICAgICAgICB0aGlzLm9uQ29sbGlzaW9uKGNvbGxpZGVyKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGlkZXIuanMubWFwIiwiaW1wb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9QaHlzaWNzL3RyYW5zZm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL1Nwcml0ZS5qc1wiO1xyXG5pbXBvcnQgeyBNb3VzZUxpc3RlbmVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9FdmVudC9MaXN0ZW5lci5qc1wiO1xyXG5pbXBvcnQgeyBTY3JpcHQgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL1NjcmlwdC9TY3JpcHQuanNcIjtcclxuaW1wb3J0IHsgQm94Q29sbGlkZXIgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0NvbGxpc2lvbi9Db2xsaWRlci5qc1wiO1xyXG5pbXBvcnQgeyBFbmdpbmVUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MgPSB7IHg6IE1hdGgucmFuZG9tKCkgKiAyMDAsIHk6IE1hdGgucmFuZG9tKCkgKiAyMDAsIHo6IDAgfSwgdmVsID0geyB4OiBNYXRoLnJhbmRvbSgpICogMiAtIDEsIHk6IE1hdGgucmFuZG9tKCkgKiAyIC0gMSwgejogMCB9KSB7XHJcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBcIlBsYXllclwiO1xyXG4gICAgICAgIGxldCBjb2xsaWRlckNhbGxiYWNrID0gKGNvbGwpID0+IHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBjb2xsaWRlciA9IG5ldyBCb3hDb2xsaWRlcigtMSwgeyBsZW5ndGg6IDY0LCBoZWlnaHQ6IDY0IH0sIHBvcywgY29sbGlkZXJDYWxsYmFjayk7XHJcbiAgICAgICAgbGV0IHNwcml0ZSA9IG5ldyBTcHJpdGUoLTEsIGNvbGxpZGVyLnNoYXBlLCBcIi9pbWFnZXMvS25pZ2h0X0ZvcndhcmQucG5nXCIpO1xyXG4gICAgICAgIGxldCB0cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKC0xLCBwb3MsIHZlbCk7XHJcbiAgICAgICAgbGV0IHNjcmlwdCA9IG5ldyBTY3JpcHQoKGR0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0ucG9zLnggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zLnggPSAwO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtLnZlbC54ICo9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0ucG9zLnggKyBjb2xsaWRlci5zaGFwZS5kaW0ubGVuZ3RoID4gMzAwKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zLnggPSAxNTA7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0udmVsLnggKj0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybS5wb3MueSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5wb3MueSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0udmVsLnkgKj0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybS5wb3MueSArICtjb2xsaWRlci5zaGFwZS5kaW0uaGVpZ2h0ID4gMzAwKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucG9zLnkgPSAxNTA7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0udmVsLnkgKj0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBFbmdpbmVUeXBlLlNPQ0tFVFNFUlZFUik7XHJcbiAgICAgICAgbGV0IGxpc3RlbmVyID0gbmV3IE1vdXNlTGlzdGVuZXIoeyBcImNsaWNrXCI6IChjbGljaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDbGlja1wiKTtcclxuICAgICAgICAgICAgfSB9KTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybSxcclxuICAgICAgICAgICAgc3ByaXRlLFxyXG4gICAgICAgICAgICBjb2xsaWRlcixcclxuICAgICAgICAgICAgc2NyaXB0LFxyXG4gICAgICAgICAgICBsaXN0ZW5lclxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxheWVyLmpzLm1hcCIsImltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvU3ByaXRlLmpzXCI7XHJcbmltcG9ydCB7IFRyYW5zZm9ybSB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvUGh5c2ljcy90cmFuc2Zvcm0uanNcIjtcclxuZXhwb3J0IGNsYXNzIFRlbXBsYXIge1xyXG4gICAgY29uc3RydWN0b3IocG9zKSB7XHJcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBcIlRlbXBsYXJcIjtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oLTEsIHsgeDogTWF0aC5yYW5kb20oKSAqIDIwLCB5OiBNYXRoLnJhbmRvbSgpICogMzAsIHo6IDIwIH0sIHsgeDogMSwgeTogMCwgejogMCB9KTtcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IG5ldyBTcHJpdGUoLTEsIHsgcG9zOiB0aGlzLnRyYW5zZm9ybS5wb3MsIGRpbTogeyBsZW5ndGg6IDY0LCBoZWlnaHQ6IDY0IH0sIHJvdDogMCB9LCBcIi9pbWFnZXMvVGVtcGxhci5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgaWYgKHBvcykge1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3MueCA9IHBvcy54O1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3MueSA9IHBvcy55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZW1wbGFyLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBDYW1lcmEge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5ID0gLTEsIHdpZHRoID0gLTEsIGhlaWdodCA9IC0xLCBjdXJyID0geyB4OiAwLCB5OiAwLCB6OiAtMSB9LCBzY2FsZSA9IHsgeDogMSwgeTogMSB9KSB7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiR1JBUEhJQ1NcIjtcclxuICAgICAgICB0aGlzLnJlbmRlcmVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBjdXJyO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0geyB4OiAwLCB5OiAwLCB6OiAwIH07XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xyXG4gICAgfVxyXG4gICAgY29weShjYW1lcmEpIHtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGNhbWVyYS5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IGNhbWVyYS5jb21wb25lbnRJZDtcclxuICAgICAgICB0aGlzLndpZHRoID0gY2FtZXJhLndpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gY2FtZXJhLmhlaWdodDtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBjYW1lcmEudmlzaWJsZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gY2FtZXJhLmFsaXZlO1xyXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IGNhbWVyYS5zY2FsZS54O1xyXG4gICAgICAgIHRoaXMuc2NhbGUueSA9IGNhbWVyYS5zY2FsZS55O1xyXG4gICAgICAgIHRoaXMucmVuZGVyZWQgPSBjYW1lcmEucmVuZGVyZWQ7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhlaWdodCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmhlaWdodCAqIC0xICogdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLndpZHRoIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aCAqIC0xICogdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQuY3R4O1xyXG4gICAgICAgIHRoaXMucG9zLnggKz0gdGhpcy50cmFuc2Zvcm0ueDtcclxuICAgICAgICB0aGlzLnBvcy55ICs9IHRoaXMudHJhbnNmb3JtLnk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoYXJyYXkpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY3R4LnRyYW5zbGF0ZSh0aGlzLnRyYW5zZm9ybS54LCB0aGlzLnRyYW5zZm9ybS55KTtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY3R4LmNsZWFyUmVjdCgtMSAqIHRoaXMucG9zLngsIC0xICogdGhpcy5wb3MueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIGxldCBpdGVtcyA9IGFycmF5O1xyXG4gICAgICAgIGZvciAobGV0IGkgb2YgaXRlbXMpIHtcclxuICAgICAgICAgICAgaWYgKGkgIT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgaS5yZW5kZXIoYXJyYXksIC0xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS54ID0gMDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS55ID0gMDtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY3R4LnNhdmUoKTtcclxuICAgIH1cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuZW50aXR5LFxyXG4gICAgICAgICAgICBjb21wb25lbnRJZDogdGhpcy5jb21wb25lbnRJZCxcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXHJcbiAgICAgICAgICAgIHZpc2libGU6IHRoaXMudmlzaWJsZSxcclxuICAgICAgICAgICAgYWxpdmU6IHRoaXMuYWxpdmUsXHJcbiAgICAgICAgICAgIHNjYWxlOiB0aGlzLnNjYWxlLFxyXG4gICAgICAgICAgICByZW5kZXJlZDogdGhpcy5yZW5kZXJlZCxcclxuICAgICAgICAgICAgcG9zOiB0aGlzLnBvc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FtZXJhLmpzLm1hcCIsImltcG9ydCB7IEVuZ2luZVR5cGUgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIEtleWJvYXJkTGlzdGVuZXIge1xyXG4gICAgY29uc3RydWN0b3IoY2xpY2tNYXApIHtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJFVkVOVEhBTkRMRVJcIjtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhjbGlja01hcCkubWFwKChbaywgdl0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMuc2V0KGssIHYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0RXZlbnRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50cztcclxuICAgIH1cclxuICAgIGV4ZWN1dGUoZXZlbnQpIHtcclxuICAgICAgICBsZXQgZXZlbnQxID0gZXZlbnQ7XHJcbiAgICAgICAgbGV0IGZ1bmMgPSB0aGlzLmV2ZW50cy5nZXQoZXZlbnQuZXZlbnROYW1lKTtcclxuICAgICAgICBpZiAoZnVuYykge1xyXG4gICAgICAgICAgICBmdW5jKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRFdmVudFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiS0VZQk9BUkRcIjtcclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoc3lzdGVtKSB7XHJcbiAgICAgICAgc3lzdGVtLnJlZ2lzdGVyTGlzdGVuZXIodGhpcyk7XHJcbiAgICB9XHJcbiAgICBjb3B5KGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBsaXN0ZW5lci5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGxpc3RlbmVyLmFsaXZlO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGxpc3RlbmVyLnZpc2libGU7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IGxpc3RlbmVyLmNvbXBvbmVudElkO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgIH1cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuZW50aXR5LFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZSxcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBjb21wb25lbnRJZDogdGhpcy5jb21wb25lbnRJZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIEtleUJvYXJkRW1pdHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IG5ldyBTZXQoKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIkVWRU5USEFORExFUlwiO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVHlwZSA9IGVuZ2luZTtcclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoc3lzdGVtKSB7XHJcbiAgICAgICAgc3lzdGVtLnJlZ2lzdGVyRW1pdHRlcih0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVUeXBlICE9IEVuZ2luZVR5cGUuU09DS0VUU0VSVkVSKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogXCJrZXlkb3duXCIsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBldmVudC5rZXlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGRMaXN0ZW5lcihjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5hZGQoY29tcG9uZW50KTtcclxuICAgIH1cclxuICAgIGVtaXQoZXZlbnQpIHtcclxuICAgICAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycykge1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5leGVjdXRlKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRFdmVudFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiS0VZQk9BUkRcIjtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZXZlbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCh0aGlzLmV2ZW50c1tpXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvcHkoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGNvbXBvbmVudC5hbGl2ZTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBjb21wb25lbnQuYWxpdmU7XHJcbiAgICB9XHJcbiAgICB0b0pTT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2V5Ym9hcmQuanMubWFwIiwiaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9DYW1lcmEuanNcIjtcclxuaW1wb3J0IHsgS2V5Ym9hcmRMaXN0ZW5lciB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvRXZlbnQvS2V5Ym9hcmQuanNcIjtcclxuZXhwb3J0IGNsYXNzIE1haW5DYW1lcmEge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKC0xLCAxMDAwLCA1MDApO1xyXG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gXCJNYWluQ2FtZXJhXCI7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW3RoaXMuY2FtZXJhLCBuZXcgS2V5Ym9hcmRMaXN0ZW5lcih7XHJcbiAgICAgICAgICAgICAgICBcImtleWRvd25cIjogKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PSBcIndcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ueSAtPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlcgaXMgcHJlc3NlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09IFwiYVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS54IC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PSBcImRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ueCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEudHJhbnNmb3JtLnkgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYWluQ2FtZXJhLmpzLm1hcCIsImNvbnN0IFBBQ0tFVF9UWVBFUyA9IE9iamVjdC5jcmVhdGUobnVsbCk7IC8vIG5vIE1hcCA9IG5vIHBvbHlmaWxsXG5QQUNLRVRfVFlQRVNbXCJvcGVuXCJdID0gXCIwXCI7XG5QQUNLRVRfVFlQRVNbXCJjbG9zZVwiXSA9IFwiMVwiO1xuUEFDS0VUX1RZUEVTW1wicGluZ1wiXSA9IFwiMlwiO1xuUEFDS0VUX1RZUEVTW1wicG9uZ1wiXSA9IFwiM1wiO1xuUEFDS0VUX1RZUEVTW1wibWVzc2FnZVwiXSA9IFwiNFwiO1xuUEFDS0VUX1RZUEVTW1widXBncmFkZVwiXSA9IFwiNVwiO1xuUEFDS0VUX1RZUEVTW1wibm9vcFwiXSA9IFwiNlwiO1xuY29uc3QgUEFDS0VUX1RZUEVTX1JFVkVSU0UgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuT2JqZWN0LmtleXMoUEFDS0VUX1RZUEVTKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgUEFDS0VUX1RZUEVTX1JFVkVSU0VbUEFDS0VUX1RZUEVTW2tleV1dID0ga2V5O1xufSk7XG5jb25zdCBFUlJPUl9QQUNLRVQgPSB7IHR5cGU6IFwiZXJyb3JcIiwgZGF0YTogXCJwYXJzZXIgZXJyb3JcIiB9O1xuZXhwb3J0IHsgUEFDS0VUX1RZUEVTLCBQQUNLRVRfVFlQRVNfUkVWRVJTRSwgRVJST1JfUEFDS0VUIH07XG4iLCJpbXBvcnQgeyBQQUNLRVRfVFlQRVMgfSBmcm9tIFwiLi9jb21tb25zLmpzXCI7XG5jb25zdCB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEJsb2IgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEJsb2IpID09PSBcIltvYmplY3QgQmxvYkNvbnN0cnVjdG9yXVwiKTtcbmNvbnN0IHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiO1xuLy8gQXJyYXlCdWZmZXIuaXNWaWV3IG1ldGhvZCBpcyBub3QgZGVmaW5lZCBpbiBJRTEwXG5jb25zdCBpc1ZpZXcgPSBvYmogPT4ge1xuICAgIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKVxuICAgICAgICA6IG9iaiAmJiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuY29uc3QgZW5jb2RlUGFja2V0ID0gKHsgdHlwZSwgZGF0YSB9LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spID0+IHtcbiAgICBpZiAod2l0aE5hdGl2ZUJsb2IgJiYgZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlQmxvYkFzQmFzZTY0KGRhdGEsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiZcbiAgICAgICAgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc1ZpZXcoZGF0YSkpKSB7XG4gICAgICAgIGlmIChzdXBwb3J0c0JpbmFyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZUJsb2JBc0Jhc2U2NChuZXcgQmxvYihbZGF0YV0pLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcGxhaW4gc3RyaW5nXG4gICAgcmV0dXJuIGNhbGxiYWNrKFBBQ0tFVF9UWVBFU1t0eXBlXSArIChkYXRhIHx8IFwiXCIpKTtcbn07XG5jb25zdCBlbmNvZGVCbG9iQXNCYXNlNjQgPSAoZGF0YSwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGZpbGVSZWFkZXIucmVzdWx0LnNwbGl0KFwiLFwiKVsxXTtcbiAgICAgICAgY2FsbGJhY2soXCJiXCIgKyAoY29udGVudCB8fCBcIlwiKSk7XG4gICAgfTtcbiAgICByZXR1cm4gZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGRhdGEpO1xufTtcbmZ1bmN0aW9uIHRvQXJyYXkoZGF0YSkge1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgIH1cbn1cbmxldCBURVhUX0VOQ09ERVI7XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlUGFja2V0VG9CaW5hcnkocGFja2V0LCBjYWxsYmFjaykge1xuICAgIGlmICh3aXRoTmF0aXZlQmxvYiAmJiBwYWNrZXQuZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgcmV0dXJuIHBhY2tldC5kYXRhXG4gICAgICAgICAgICAuYXJyYXlCdWZmZXIoKVxuICAgICAgICAgICAgLnRoZW4odG9BcnJheSlcbiAgICAgICAgICAgIC50aGVuKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyICYmXG4gICAgICAgIChwYWNrZXQuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhwYWNrZXQuZGF0YSkpKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0b0FycmF5KHBhY2tldC5kYXRhKSk7XG4gICAgfVxuICAgIGVuY29kZVBhY2tldChwYWNrZXQsIGZhbHNlLCBlbmNvZGVkID0+IHtcbiAgICAgICAgaWYgKCFURVhUX0VOQ09ERVIpIHtcbiAgICAgICAgICAgIFRFWFRfRU5DT0RFUiA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKFRFWFRfRU5DT0RFUi5lbmNvZGUoZW5jb2RlZCkpO1xuICAgIH0pO1xufVxuZXhwb3J0IHsgZW5jb2RlUGFja2V0IH07XG4iLCIvLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zb2NrZXRpby9iYXNlNjQtYXJyYXlidWZmZXJcbmNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuLy8gVXNlIGEgbG9va3VwIHRhYmxlIHRvIGZpbmQgdGhlIGluZGV4LlxuY29uc3QgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpO1xuZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7XG59XG5leHBvcnQgY29uc3QgZW5jb2RlID0gKGFycmF5YnVmZmVyKSA9PiB7XG4gICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykge1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107XG4gICAgfVxuICAgIGlmIChsZW4gJSAzID09PSAyKSB7XG4gICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nO1xuICAgIH1cbiAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7XG4gICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JztcbiAgICB9XG4gICAgcmV0dXJuIGJhc2U2NDtcbn07XG5leHBvcnQgY29uc3QgZGVjb2RlID0gKGJhc2U2NCkgPT4ge1xuICAgIGxldCBidWZmZXJMZW5ndGggPSBiYXNlNjQubGVuZ3RoICogMC43NSwgbGVuID0gYmFzZTY0Lmxlbmd0aCwgaSwgcCA9IDAsIGVuY29kZWQxLCBlbmNvZGVkMiwgZW5jb2RlZDMsIGVuY29kZWQ0O1xuICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDFdID09PSAnPScpIHtcbiAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDJdID09PSAnPScpIHtcbiAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFycmF5YnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aCksIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBlbmNvZGVkMSA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpKV07XG4gICAgICAgIGVuY29kZWQyID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAxKV07XG4gICAgICAgIGVuY29kZWQzID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAyKV07XG4gICAgICAgIGVuY29kZWQ0ID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAzKV07XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDEgPDwgMikgfCAoZW5jb2RlZDIgPj4gNCk7XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xuICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMyAmIDMpIDw8IDYpIHwgKGVuY29kZWQ0ICYgNjMpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlidWZmZXI7XG59O1xuIiwiaW1wb3J0IHsgRVJST1JfUEFDS0VULCBQQUNLRVRfVFlQRVNfUkVWRVJTRSB9IGZyb20gXCIuL2NvbW1vbnMuanNcIjtcbmltcG9ydCB7IGRlY29kZSB9IGZyb20gXCIuL2NvbnRyaWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzXCI7XG5jb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbmV4cG9ydCBjb25zdCBkZWNvZGVQYWNrZXQgPSAoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgZW5jb2RlZFBhY2tldCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBtYXBCaW5hcnkoZW5jb2RlZFBhY2tldCwgYmluYXJ5VHlwZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IGVuY29kZWRQYWNrZXQuY2hhckF0KDApO1xuICAgIGlmICh0eXBlID09PSBcImJcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBkZWNvZGVCYXNlNjRQYWNrZXQoZW5jb2RlZFBhY2tldC5zdWJzdHJpbmcoMSksIGJpbmFyeVR5cGUpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHBhY2tldFR5cGUgPSBQQUNLRVRfVFlQRVNfUkVWRVJTRVt0eXBlXTtcbiAgICBpZiAoIXBhY2tldFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIEVSUk9SX1BBQ0tFVDtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZWRQYWNrZXQubGVuZ3RoID4gMVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdLFxuICAgICAgICAgICAgZGF0YTogZW5jb2RlZFBhY2tldC5zdWJzdHJpbmcoMSlcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdXG4gICAgICAgIH07XG59O1xuY29uc3QgZGVjb2RlQmFzZTY0UGFja2V0ID0gKGRhdGEsIGJpbmFyeVR5cGUpID0+IHtcbiAgICBpZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGUoZGF0YSk7XG4gICAgICAgIHJldHVybiBtYXBCaW5hcnkoZGVjb2RlZCwgYmluYXJ5VHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyBiYXNlNjQ6IHRydWUsIGRhdGEgfTsgLy8gZmFsbGJhY2sgZm9yIG9sZCBicm93c2Vyc1xuICAgIH1cbn07XG5jb25zdCBtYXBCaW5hcnkgPSAoZGF0YSwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIHN3aXRjaCAoYmluYXJ5VHlwZSkge1xuICAgICAgICBjYXNlIFwiYmxvYlwiOlxuICAgICAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgLy8gZnJvbSBXZWJTb2NrZXQgKyBiaW5hcnlUeXBlIFwiYmxvYlwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIEhUVFAgbG9uZy1wb2xsaW5nIG9yIFdlYlRyYW5zcG9ydFxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmxvYihbZGF0YV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiYXJyYXlidWZmZXJcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIEhUVFAgbG9uZy1wb2xsaW5nIChiYXNlNjQpIG9yIFdlYlNvY2tldCArIGJpbmFyeVR5cGUgXCJhcnJheWJ1ZmZlclwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIFdlYlRyYW5zcG9ydCAoVWludDhBcnJheSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGVuY29kZVBhY2tldCwgZW5jb2RlUGFja2V0VG9CaW5hcnkgfSBmcm9tIFwiLi9lbmNvZGVQYWNrZXQuanNcIjtcbmltcG9ydCB7IGRlY29kZVBhY2tldCB9IGZyb20gXCIuL2RlY29kZVBhY2tldC5qc1wiO1xuY29uc3QgU0VQQVJBVE9SID0gU3RyaW5nLmZyb21DaGFyQ29kZSgzMCk7IC8vIHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EZWxpbWl0ZXIjQVNDSUlfZGVsaW1pdGVkX3RleHRcbmNvbnN0IGVuY29kZVBheWxvYWQgPSAocGFja2V0cywgY2FsbGJhY2spID0+IHtcbiAgICAvLyBzb21lIHBhY2tldHMgbWF5IGJlIGFkZGVkIHRvIHRoZSBhcnJheSB3aGlsZSBlbmNvZGluZywgc28gdGhlIGluaXRpYWwgbGVuZ3RoIG11c3QgYmUgc2F2ZWRcbiAgICBjb25zdCBsZW5ndGggPSBwYWNrZXRzLmxlbmd0aDtcbiAgICBjb25zdCBlbmNvZGVkUGFja2V0cyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgcGFja2V0cy5mb3JFYWNoKChwYWNrZXQsIGkpID0+IHtcbiAgICAgICAgLy8gZm9yY2UgYmFzZTY0IGVuY29kaW5nIGZvciBiaW5hcnkgcGFja2V0c1xuICAgICAgICBlbmNvZGVQYWNrZXQocGFja2V0LCBmYWxzZSwgZW5jb2RlZFBhY2tldCA9PiB7XG4gICAgICAgICAgICBlbmNvZGVkUGFja2V0c1tpXSA9IGVuY29kZWRQYWNrZXQ7XG4gICAgICAgICAgICBpZiAoKytjb3VudCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZW5jb2RlZFBhY2tldHMuam9pbihTRVBBUkFUT1IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVjb2RlUGF5bG9hZCA9IChlbmNvZGVkUGF5bG9hZCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kZWRQYWNrZXRzID0gZW5jb2RlZFBheWxvYWQuc3BsaXQoU0VQQVJBVE9SKTtcbiAgICBjb25zdCBwYWNrZXRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkZWNvZGVkUGFja2V0ID0gZGVjb2RlUGFja2V0KGVuY29kZWRQYWNrZXRzW2ldLCBiaW5hcnlUeXBlKTtcbiAgICAgICAgcGFja2V0cy5wdXNoKGRlY29kZWRQYWNrZXQpO1xuICAgICAgICBpZiAoZGVjb2RlZFBhY2tldC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYWNrZXRzO1xufTtcbmxldCBURVhUX0RFQ09ERVI7XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlUGFja2V0RnJvbUJpbmFyeShkYXRhLCBpc0JpbmFyeSwgYmluYXJ5VHlwZSkge1xuICAgIGlmICghVEVYVF9ERUNPREVSKSB7XG4gICAgICAgIC8vIGxhemlseSBjcmVhdGVkIGZvciBjb21wYXRpYmlsaXR5IHdpdGggb2xkIGJyb3dzZXIgcGxhdGZvcm1zXG4gICAgICAgIFRFWFRfREVDT0RFUiA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgIH1cbiAgICAvLyA0OCA9PT0gXCIwXCIuY2hhckNvZGVBdCgwKSAoT1BFTiBwYWNrZXQgdHlwZSlcbiAgICAvLyA1NCA9PT0gXCI2XCIuY2hhckNvZGVBdCgwKSAoTk9PUCBwYWNrZXQgdHlwZSlcbiAgICBjb25zdCBpc1BsYWluQmluYXJ5ID0gaXNCaW5hcnkgfHwgZGF0YVswXSA8IDQ4IHx8IGRhdGFbMF0gPiA1NDtcbiAgICByZXR1cm4gZGVjb2RlUGFja2V0KGlzUGxhaW5CaW5hcnkgPyBkYXRhIDogVEVYVF9ERUNPREVSLmRlY29kZShkYXRhKSwgYmluYXJ5VHlwZSk7XG59XG5leHBvcnQgY29uc3QgcHJvdG9jb2wgPSA0O1xuZXhwb3J0IHsgZW5jb2RlUGFja2V0LCBlbmNvZGVQYWNrZXRUb0JpbmFyeSwgZW5jb2RlUGF5bG9hZCwgZGVjb2RlUGFja2V0LCBkZWNvZGVQYXlsb2FkIH07XG4iLCIvKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIEVtaXR0ZXIob2JqKSB7XG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xufVxuXG4vKipcbiAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xuICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIExpc3RlbiBvbiB0aGUgZ2l2ZW4gYGV2ZW50YCB3aXRoIGBmbmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub24gPVxuRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxuICAgIC5wdXNoKGZuKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcbiAgZnVuY3Rpb24gb24oKSB7XG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgb24uZm4gPSBmbjtcbiAgdGhpcy5vbihldmVudCwgb24pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICAvLyBhbGxcbiAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gc3BlY2lmaWMgZXZlbnRcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcblxuICAvLyByZW1vdmUgYWxsIGhhbmRsZXJzXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyXG4gIHZhciBjYjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBjYiA9IGNhbGxiYWNrc1tpXTtcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlbW92ZSBldmVudCBzcGVjaWZpYyBhcnJheXMgZm9yIGV2ZW50IHR5cGVzIHRoYXQgbm9cbiAgLy8gb25lIGlzIHN1YnNjcmliZWQgZm9yIHRvIGF2b2lkIG1lbW9yeSBsZWFrLlxuICBpZiAoY2FsbGJhY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtNaXhlZH0gLi4uXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSlcbiAgICAsIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIGlmIChjYWxsYmFja3MpIHtcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgY2FsbGJhY2tzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gYWxpYXMgdXNlZCBmb3IgcmVzZXJ2ZWQgZXZlbnRzIChwcm90ZWN0ZWQgbWV0aG9kKVxuRW1pdHRlci5wcm90b3R5cGUuZW1pdFJlc2VydmVkID0gRW1pdHRlci5wcm90b3R5cGUuZW1pdDtcblxuLyoqXG4gKiBSZXR1cm4gYXJyYXkgb2YgY2FsbGJhY2tzIGZvciBgZXZlbnRgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICByZXR1cm4gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhpcyBlbWl0dGVyIGhhcyBgZXZlbnRgIGhhbmRsZXJzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xuICByZXR1cm4gISEgdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aDtcbn07XG4iLCJleHBvcnQgY29uc3QgZ2xvYmFsVGhpc1NoaW0gPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICB9XG59KSgpO1xuIiwiaW1wb3J0IHsgZ2xvYmFsVGhpc1NoaW0gYXMgZ2xvYmFsVGhpcyB9IGZyb20gXCIuL2dsb2JhbFRoaXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwaWNrKG9iaiwgLi4uYXR0cikge1xuICAgIHJldHVybiBhdHRyLnJlZHVjZSgoYWNjLCBrKSA9PiB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgIGFjY1trXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbi8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHJlYWwgdGltZW91dCBmdW5jdGlvbnMgc28gdGhleSBjYW4gYmUgdXNlZCB3aGVuIG92ZXJyaWRkZW5cbmNvbnN0IE5BVElWRV9TRVRfVElNRU9VVCA9IGdsb2JhbFRoaXMuc2V0VGltZW91dDtcbmNvbnN0IE5BVElWRV9DTEVBUl9USU1FT1VUID0gZ2xvYmFsVGhpcy5jbGVhclRpbWVvdXQ7XG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbFRpbWVyRnVuY3Rpb25zKG9iaiwgb3B0cykge1xuICAgIGlmIChvcHRzLnVzZU5hdGl2ZVRpbWVycykge1xuICAgICAgICBvYmouc2V0VGltZW91dEZuID0gTkFUSVZFX1NFVF9USU1FT1VULmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgICAgIG9iai5jbGVhclRpbWVvdXRGbiA9IE5BVElWRV9DTEVBUl9USU1FT1VULmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvYmouc2V0VGltZW91dEZuID0gZ2xvYmFsVGhpcy5zZXRUaW1lb3V0LmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgICAgIG9iai5jbGVhclRpbWVvdXRGbiA9IGdsb2JhbFRoaXMuY2xlYXJUaW1lb3V0LmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgfVxufVxuLy8gYmFzZTY0IGVuY29kZWQgYnVmZmVycyBhcmUgYWJvdXQgMzMlIGJpZ2dlciAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0KVxuY29uc3QgQkFTRTY0X09WRVJIRUFEID0gMS4zMztcbi8vIHdlIGNvdWxkIGFsc28gaGF2ZSB1c2VkIGBuZXcgQmxvYihbb2JqXSkuc2l6ZWAsIGJ1dCBpdCBpc24ndCBzdXBwb3J0ZWQgaW4gSUU5XG5leHBvcnQgZnVuY3Rpb24gYnl0ZUxlbmd0aChvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdXRmOExlbmd0aChvYmopO1xuICAgIH1cbiAgICAvLyBhcnJheWJ1ZmZlciBvciBibG9iXG4gICAgcmV0dXJuIE1hdGguY2VpbCgob2JqLmJ5dGVMZW5ndGggfHwgb2JqLnNpemUpICogQkFTRTY0X09WRVJIRUFEKTtcbn1cbmZ1bmN0aW9uIHV0ZjhMZW5ndGgoc3RyKSB7XG4gICAgbGV0IGMgPSAwLCBsZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc3RyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgbGVuZ3RoICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDwgMHhkODAwIHx8IGMgPj0gMHhlMDAwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGxlbmd0aCArPSA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZW5ndGg7XG59XG4iLCJpbXBvcnQgeyBkZWNvZGVQYWNrZXQgfSBmcm9tIFwiZW5naW5lLmlvLXBhcnNlclwiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgeyBpbnN0YWxsVGltZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGUgfSBmcm9tIFwiLi9jb250cmliL3BhcnNlcXMuanNcIjtcbmNsYXNzIFRyYW5zcG9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHJlYXNvbiwgZGVzY3JpcHRpb24sIGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIocmVhc29uKTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnR5cGUgPSBcIlRyYW5zcG9ydEVycm9yXCI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydCBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIFRyYW5zcG9ydCBhYnN0cmFjdCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgaW5zdGFsbFRpbWVyRnVuY3Rpb25zKHRoaXMsIG9wdHMpO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gb3B0cy5xdWVyeTtcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBvcHRzLnNvY2tldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVhc29uXG4gICAgICogQHBhcmFtIGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIGNvbnRleHQgLSB0aGUgZXJyb3IgY29udGV4dFxuICAgICAqIEByZXR1cm4ge1RyYW5zcG9ydH0gZm9yIGNoYWluaW5nXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uRXJyb3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkge1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBuZXcgVHJhbnNwb3J0RXJyb3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbnMgdGhlIHRyYW5zcG9ydC5cbiAgICAgKi9cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5pbmdcIjtcbiAgICAgICAgdGhpcy5kb09wZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgdHJhbnNwb3J0LlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBcIm9wZW5pbmdcIiB8fCB0aGlzLnJlYWR5U3RhdGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICB0aGlzLmRvQ2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBtdWx0aXBsZSBwYWNrZXRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFja2V0c1xuICAgICAqL1xuICAgIHNlbmQocGFja2V0cykge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBcIm9wZW5cIikge1xuICAgICAgICAgICAgdGhpcy53cml0ZShwYWNrZXRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoaXMgbWlnaHQgaGFwcGVuIGlmIHRoZSB0cmFuc3BvcnQgd2FzIHNpbGVudGx5IGNsb3NlZCBpbiB0aGUgYmVmb3JldW5sb2FkIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBvcGVuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5cIjtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcIm9wZW5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbkRhdGEoZGF0YSkge1xuICAgICAgICBjb25zdCBwYWNrZXQgPSBkZWNvZGVQYWNrZXQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSk7XG4gICAgICAgIHRoaXMub25QYWNrZXQocGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggYSBkZWNvZGVkIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvblBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsIHBhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGNsb3NlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uQ2xvc2UoZGV0YWlscykge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCBkZXRhaWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGF1c2VzIHRoZSB0cmFuc3BvcnQsIGluIG9yZGVyIG5vdCB0byBsb3NlIHBhY2tldHMgZHVyaW5nIGFuIHVwZ3JhZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb25QYXVzZVxuICAgICAqL1xuICAgIHBhdXNlKG9uUGF1c2UpIHsgfVxuICAgIGNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIChzY2hlbWEgK1xuICAgICAgICAgICAgXCI6Ly9cIiArXG4gICAgICAgICAgICB0aGlzLl9ob3N0bmFtZSgpICtcbiAgICAgICAgICAgIHRoaXMuX3BvcnQoKSArXG4gICAgICAgICAgICB0aGlzLm9wdHMucGF0aCArXG4gICAgICAgICAgICB0aGlzLl9xdWVyeShxdWVyeSkpO1xuICAgIH1cbiAgICBfaG9zdG5hbWUoKSB7XG4gICAgICAgIGNvbnN0IGhvc3RuYW1lID0gdGhpcy5vcHRzLmhvc3RuYW1lO1xuICAgICAgICByZXR1cm4gaG9zdG5hbWUuaW5kZXhPZihcIjpcIikgPT09IC0xID8gaG9zdG5hbWUgOiBcIltcIiArIGhvc3RuYW1lICsgXCJdXCI7XG4gICAgfVxuICAgIF9wb3J0KCkge1xuICAgICAgICBpZiAodGhpcy5vcHRzLnBvcnQgJiZcbiAgICAgICAgICAgICgodGhpcy5vcHRzLnNlY3VyZSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQgIT09IDQ0MykpIHx8XG4gICAgICAgICAgICAgICAgKCF0aGlzLm9wdHMuc2VjdXJlICYmIE51bWJlcih0aGlzLm9wdHMucG9ydCkgIT09IDgwKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjpcIiArIHRoaXMub3B0cy5wb3J0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3F1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRRdWVyeSA9IGVuY29kZShxdWVyeSk7XG4gICAgICAgIHJldHVybiBlbmNvZGVkUXVlcnkubGVuZ3RoID8gXCI/XCIgKyBlbmNvZGVkUXVlcnkgOiBcIlwiO1xuICAgIH1cbn1cbiIsIi8vIGltcG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dhbGtuL3F1ZXJ5c3RyaW5nXG4vKipcbiAqIENvbXBpbGVzIGEgcXVlcnlzdHJpbmdcbiAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKG9iaikge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGxldCBpIGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICBpZiAoc3RyLmxlbmd0aClcbiAgICAgICAgICAgICAgICBzdHIgKz0gJyYnO1xuICAgICAgICAgICAgc3RyICs9IGVuY29kZVVSSUNvbXBvbmVudChpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG4vKipcbiAqIFBhcnNlcyBhIHNpbXBsZSBxdWVyeXN0cmluZyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBxc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUocXMpIHtcbiAgICBsZXQgcXJ5ID0ge307XG4gICAgbGV0IHBhaXJzID0gcXMuc3BsaXQoJyYnKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHBhaXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsZXQgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgIHFyeVtkZWNvZGVVUklDb21wb25lbnQocGFpclswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgIH1cbiAgICByZXR1cm4gcXJ5O1xufVxuIiwiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdW5zaGlmdGlvL3llYXN0XG4ndXNlIHN0cmljdCc7XG5jb25zdCBhbHBoYWJldCA9ICcwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ei1fJy5zcGxpdCgnJyksIGxlbmd0aCA9IDY0LCBtYXAgPSB7fTtcbmxldCBzZWVkID0gMCwgaSA9IDAsIHByZXY7XG4vKipcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBudW1iZXIuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlKG51bSkge1xuICAgIGxldCBlbmNvZGVkID0gJyc7XG4gICAgZG8ge1xuICAgICAgICBlbmNvZGVkID0gYWxwaGFiZXRbbnVtICUgbGVuZ3RoXSArIGVuY29kZWQ7XG4gICAgICAgIG51bSA9IE1hdGguZmxvb3IobnVtIC8gbGVuZ3RoKTtcbiAgICB9IHdoaWxlIChudW0gPiAwKTtcbiAgICByZXR1cm4gZW5jb2RlZDtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBpbnRlZ2VyIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge051bWJlcn0gVGhlIGludGVnZXIgdmFsdWUgcmVwcmVzZW50ZWQgYnkgdGhlIHN0cmluZy5cbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUoc3RyKSB7XG4gICAgbGV0IGRlY29kZWQgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVjb2RlZCA9IGRlY29kZWQgKiBsZW5ndGggKyBtYXBbc3RyLmNoYXJBdChpKV07XG4gICAgfVxuICAgIHJldHVybiBkZWNvZGVkO1xufVxuLyoqXG4gKiBZZWFzdDogQSB0aW55IGdyb3dpbmcgaWQgZ2VuZXJhdG9yLlxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IEEgdW5pcXVlIGlkLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHllYXN0KCkge1xuICAgIGNvbnN0IG5vdyA9IGVuY29kZSgrbmV3IERhdGUoKSk7XG4gICAgaWYgKG5vdyAhPT0gcHJldilcbiAgICAgICAgcmV0dXJuIHNlZWQgPSAwLCBwcmV2ID0gbm93O1xuICAgIHJldHVybiBub3cgKyAnLicgKyBlbmNvZGUoc2VlZCsrKTtcbn1cbi8vXG4vLyBNYXAgZWFjaCBjaGFyYWN0ZXIgdG8gaXRzIGluZGV4LlxuLy9cbmZvciAoOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgbWFwW2FscGhhYmV0W2ldXSA9IGk7XG4iLCIvLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb25lbnQvaGFzLWNvcnNcbmxldCB2YWx1ZSA9IGZhbHNlO1xudHJ5IHtcbiAgICB2YWx1ZSA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG59XG5jYXRjaCAoZXJyKSB7XG4gICAgLy8gaWYgWE1MSHR0cCBzdXBwb3J0IGlzIGRpc2FibGVkIGluIElFIHRoZW4gaXQgd2lsbCB0aHJvd1xuICAgIC8vIHdoZW4gdHJ5aW5nIHRvIGNyZWF0ZVxufVxuZXhwb3J0IGNvbnN0IGhhc0NPUlMgPSB2YWx1ZTtcbiIsIi8vIGJyb3dzZXIgc2hpbSBmb3IgeG1saHR0cHJlcXVlc3QgbW9kdWxlXG5pbXBvcnQgeyBoYXNDT1JTIH0gZnJvbSBcIi4uL2NvbnRyaWIvaGFzLWNvcnMuanNcIjtcbmltcG9ydCB7IGdsb2JhbFRoaXNTaGltIGFzIGdsb2JhbFRoaXMgfSBmcm9tIFwiLi4vZ2xvYmFsVGhpcy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIFhIUihvcHRzKSB7XG4gICAgY29uc3QgeGRvbWFpbiA9IG9wdHMueGRvbWFpbjtcbiAgICAvLyBYTUxIdHRwUmVxdWVzdCBjYW4gYmUgZGlzYWJsZWQgb24gSUVcbiAgICB0cnkge1xuICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICYmICgheGRvbWFpbiB8fCBoYXNDT1JTKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7IH1cbiAgICBpZiAoIXhkb21haW4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZ2xvYmFsVGhpc1tbXCJBY3RpdmVcIl0uY29uY2F0KFwiT2JqZWN0XCIpLmpvaW4oXCJYXCIpXShcIk1pY3Jvc29mdC5YTUxIVFRQXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29va2llSmFyKCkgeyB9XG4iLCJpbXBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi4vdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyB5ZWFzdCB9IGZyb20gXCIuLi9jb250cmliL3llYXN0LmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYXlsb2FkLCBkZWNvZGVQYXlsb2FkIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmltcG9ydCB7IGNyZWF0ZUNvb2tpZUphciwgWEhSIGFzIFhNTEh0dHBSZXF1ZXN0LCB9IGZyb20gXCIuL3htbGh0dHByZXF1ZXN0LmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IGluc3RhbGxUaW1lckZ1bmN0aW9ucywgcGljayB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBnbG9iYWxUaGlzU2hpbSBhcyBnbG9iYWxUaGlzIH0gZnJvbSBcIi4uL2dsb2JhbFRoaXMuanNcIjtcbmZ1bmN0aW9uIGVtcHR5KCkgeyB9XG5jb25zdCBoYXNYSFIyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Qoe1xuICAgICAgICB4ZG9tYWluOiBmYWxzZSxcbiAgICB9KTtcbiAgICByZXR1cm4gbnVsbCAhPSB4aHIucmVzcG9uc2VUeXBlO1xufSkoKTtcbmV4cG9ydCBjbGFzcyBQb2xsaW5nIGV4dGVuZHMgVHJhbnNwb3J0IHtcbiAgICAvKipcbiAgICAgKiBYSFIgUG9sbGluZyBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICAgICogQHBhY2thZ2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgICAgICB0aGlzLnBvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgY29uc3QgaXNTU0wgPSBcImh0dHBzOlwiID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgICAgIGxldCBwb3J0ID0gbG9jYXRpb24ucG9ydDtcbiAgICAgICAgICAgIC8vIHNvbWUgdXNlciBhZ2VudHMgaGF2ZSBlbXB0eSBgbG9jYXRpb24ucG9ydGBcbiAgICAgICAgICAgIGlmICghcG9ydCkge1xuICAgICAgICAgICAgICAgIHBvcnQgPSBpc1NTTCA/IFwiNDQzXCIgOiBcIjgwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnhkID1cbiAgICAgICAgICAgICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgICAgICAgICAgIG9wdHMuaG9zdG5hbWUgIT09IGxvY2F0aW9uLmhvc3RuYW1lKSB8fFxuICAgICAgICAgICAgICAgICAgICBwb3J0ICE9PSBvcHRzLnBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFhIUiBzdXBwb3J0cyBiaW5hcnlcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGZvcmNlQmFzZTY0ID0gb3B0cyAmJiBvcHRzLmZvcmNlQmFzZTY0O1xuICAgICAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gaGFzWEhSMiAmJiAhZm9yY2VCYXNlNjQ7XG4gICAgICAgIGlmICh0aGlzLm9wdHMud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICB0aGlzLmNvb2tpZUphciA9IGNyZWF0ZUNvb2tpZUphcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJwb2xsaW5nXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIHRoZSBzb2NrZXQgKHRyaWdnZXJzIHBvbGxpbmcpLiBXZSB3cml0ZSBhIFBJTkcgbWVzc2FnZSB0byBkZXRlcm1pbmVcbiAgICAgKiB3aGVuIHRoZSB0cmFuc3BvcnQgaXMgb3Blbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBkb09wZW4oKSB7XG4gICAgICAgIHRoaXMucG9sbCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXVzZXMgcG9sbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uUGF1c2UgLSBjYWxsYmFjayB1cG9uIGJ1ZmZlcnMgYXJlIGZsdXNoZWQgYW5kIHRyYW5zcG9ydCBpcyBwYXVzZWRcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIHBhdXNlKG9uUGF1c2UpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJwYXVzaW5nXCI7XG4gICAgICAgIGNvbnN0IHBhdXNlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJwYXVzZWRcIjtcbiAgICAgICAgICAgIG9uUGF1c2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMucG9sbGluZyB8fCAhdGhpcy53cml0YWJsZSkge1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvbGxpbmcpIHtcbiAgICAgICAgICAgICAgICB0b3RhbCsrO1xuICAgICAgICAgICAgICAgIHRoaXMub25jZShcInBvbGxDb21wbGV0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC0tdG90YWwgfHwgcGF1c2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy53cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIHRvdGFsKys7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmNlKFwiZHJhaW5cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAtLXRvdGFsIHx8IHBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBwb2xsaW5nIGN5Y2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwb2xsKCkge1xuICAgICAgICB0aGlzLnBvbGxpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRvUG9sbCgpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbGxcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJsb2FkcyBvbkRhdGEgdG8gZGV0ZWN0IHBheWxvYWRzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uRGF0YShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKHBhY2tldCkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgaXRzIHRoZSBmaXJzdCBtZXNzYWdlIHdlIGNvbnNpZGVyIHRoZSB0cmFuc3BvcnQgb3BlblxuICAgICAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgJiYgcGFja2V0LnR5cGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGl0cyBhIGNsb3NlIHBhY2tldCwgd2UgY2xvc2UgdGhlIG9uZ29pbmcgcmVxdWVzdHNcbiAgICAgICAgICAgIGlmIChcImNsb3NlXCIgPT09IHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlKHsgZGVzY3JpcHRpb246IFwidHJhbnNwb3J0IGNsb3NlZCBieSB0aGUgc2VydmVyXCIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGJ5cGFzcyBvbkRhdGEgYW5kIGhhbmRsZSB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgdGhpcy5vblBhY2tldChwYWNrZXQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBkZWNvZGUgcGF5bG9hZFxuICAgICAgICBkZWNvZGVQYXlsb2FkKGRhdGEsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICAvLyBpZiBhbiBldmVudCBkaWQgbm90IHRyaWdnZXIgY2xvc2luZ1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBnb3QgZGF0YSB3ZSdyZSBub3QgcG9sbGluZ1xuICAgICAgICAgICAgdGhpcy5wb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbGxDb21wbGV0ZVwiKTtcbiAgICAgICAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb2xsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgcG9sbGluZywgc2VuZCBhIGNsb3NlIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBkb0Nsb3NlKCkge1xuICAgICAgICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMud3JpdGUoW3sgdHlwZTogXCJjbG9zZVwiIH1dKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpbiBjYXNlIHdlJ3JlIHRyeWluZyB0byBjbG9zZSB3aGlsZVxuICAgICAgICAgICAgLy8gaGFuZHNoYWtpbmcgaXMgaW4gcHJvZ3Jlc3MgKEdILTE2NClcbiAgICAgICAgICAgIHRoaXMub25jZShcIm9wZW5cIiwgY2xvc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHBhY2tldHMgcGF5bG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhY2tldHMgLSBkYXRhIHBhY2tldHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgd3JpdGUocGFja2V0cykge1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICAgIGVuY29kZVBheWxvYWQocGFja2V0cywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9Xcml0ZShkYXRhLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXJpKCkge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLm9wdHMuc2VjdXJlID8gXCJodHRwc1wiIDogXCJodHRwXCI7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyeSB8fCB7fTtcbiAgICAgICAgLy8gY2FjaGUgYnVzdGluZyBpcyBmb3JjZWRcbiAgICAgICAgaWYgKGZhbHNlICE9PSB0aGlzLm9wdHMudGltZXN0YW1wUmVxdWVzdHMpIHtcbiAgICAgICAgICAgIHF1ZXJ5W3RoaXMub3B0cy50aW1lc3RhbXBQYXJhbV0gPSB5ZWFzdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSAmJiAhcXVlcnkuc2lkKSB7XG4gICAgICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICByZXF1ZXN0KG9wdHMgPSB7fSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKG9wdHMsIHsgeGQ6IHRoaXMueGQsIGNvb2tpZUphcjogdGhpcy5jb29raWVKYXIgfSwgdGhpcy5vcHRzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMudXJpKCksIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsZWQgdXBvbiBmbHVzaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvV3JpdGUoZGF0YSwgZm4pIHtcbiAgICAgICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVxLm9uKFwic3VjY2Vzc1wiLCBmbik7XG4gICAgICAgIHJlcS5vbihcImVycm9yXCIsICh4aHJTdGF0dXMsIGNvbnRleHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInhociBwb3N0IGVycm9yXCIsIHhoclN0YXR1cywgY29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBwb2xsIGN5Y2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkb1BvbGwoKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICAgICAgICByZXEub24oXCJkYXRhXCIsIHRoaXMub25EYXRhLmJpbmQodGhpcykpO1xuICAgICAgICByZXEub24oXCJlcnJvclwiLCAoeGhyU3RhdHVzLCBjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJ4aHIgcG9sbCBlcnJvclwiLCB4aHJTdGF0dXMsIGNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wb2xsWGhyID0gcmVxO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgIHRoaXMubWV0aG9kID0gb3B0cy5tZXRob2QgfHwgXCJHRVRcIjtcbiAgICAgICAgdGhpcy51cmkgPSB1cmk7XG4gICAgICAgIHRoaXMuZGF0YSA9IHVuZGVmaW5lZCAhPT0gb3B0cy5kYXRhID8gb3B0cy5kYXRhIDogbnVsbDtcbiAgICAgICAgdGhpcy5jcmVhdGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgWEhSIG9iamVjdCBhbmQgc2VuZHMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBvcHRzID0gcGljayh0aGlzLm9wdHMsIFwiYWdlbnRcIiwgXCJwZnhcIiwgXCJrZXlcIiwgXCJwYXNzcGhyYXNlXCIsIFwiY2VydFwiLCBcImNhXCIsIFwiY2lwaGVyc1wiLCBcInJlamVjdFVuYXV0aG9yaXplZFwiLCBcImF1dG9VbnJlZlwiKTtcbiAgICAgICAgb3B0cy54ZG9tYWluID0gISF0aGlzLm9wdHMueGQ7XG4gICAgICAgIGNvbnN0IHhociA9ICh0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdChvcHRzKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmksIHRydWUpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0RGlzYWJsZUhlYWRlckNoZWNrICYmIHhoci5zZXREaXNhYmxlSGVhZGVyQ2hlY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5leHRyYUhlYWRlcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihpLCB0aGlzLm9wdHMuZXh0cmFIZWFkZXJzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIGlmIChcIlBPU1RcIiA9PT0gdGhpcy5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLCBcIiovKlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIChfYSA9IHRoaXMub3B0cy5jb29raWVKYXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRDb29raWVzKHhocik7XG4gICAgICAgICAgICAvLyBpZTYgY2hlY2tcbiAgICAgICAgICAgIGlmIChcIndpdGhDcmVkZW50aWFsc1wiIGluIHhocikge1xuICAgICAgICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0aGlzLm9wdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5yZXF1ZXN0VGltZW91dCkge1xuICAgICAgICAgICAgICAgIHhoci50aW1lb3V0ID0gdGhpcy5vcHRzLnJlcXVlc3RUaW1lb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHRoaXMub3B0cy5jb29raWVKYXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXJzZUNvb2tpZXMoeGhyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKDQgIT09IHhoci5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKDIwMCA9PT0geGhyLnN0YXR1cyB8fCAxMjIzID09PSB4aHIuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb2FkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIGBlcnJvcmAgZXZlbnQgaGFuZGxlciB0aGF0J3MgdXNlci1zZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9lcyBub3QgdGhyb3cgaW4gdGhlIHNhbWUgdGljayBhbmQgZ2V0cyBjYXVnaHQgaGVyZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IodHlwZW9mIHhoci5zdGF0dXMgPT09IFwibnVtYmVyXCIgPyB4aHIuc3RhdHVzIDogMCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB4aHIuc2VuZCh0aGlzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIGRlZmVyIHNpbmNlIC5jcmVhdGUoKSBpcyBjYWxsZWQgZGlyZWN0bHkgZnJvbSB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgICAgIC8vIGFuZCB0aHVzIHRoZSAnZXJyb3InIGV2ZW50IGNhbiBvbmx5IGJlIG9ubHkgYm91bmQgKmFmdGVyKiB0aGlzIGV4Y2VwdGlvblxuICAgICAgICAgICAgLy8gb2NjdXJzLiAgVGhlcmVmb3JlLCBhbHNvLCB3ZSBjYW5ub3QgdGhyb3cgaGVyZSBhdCBhbGwuXG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKGUpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5pbmRleCA9IFJlcXVlc3QucmVxdWVzdHNDb3VudCsrO1xuICAgICAgICAgICAgUmVxdWVzdC5yZXF1ZXN0c1t0aGlzLmluZGV4XSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uRXJyb3IoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyLCB0aGlzLnhocik7XG4gICAgICAgIHRoaXMuY2xlYW51cCh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGhvdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjbGVhbnVwKGZyb21FcnJvcikge1xuICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIHRoaXMueGhyIHx8IG51bGwgPT09IHRoaXMueGhyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZW1wdHk7XG4gICAgICAgIGlmIChmcm9tRXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBkZWxldGUgUmVxdWVzdC5yZXF1ZXN0c1t0aGlzLmluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnhociA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGxvYWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMueGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLCBkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFib3J0cyB0aGUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYWNrYWdlXG4gICAgICovXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIH1cbn1cblJlcXVlc3QucmVxdWVzdHNDb3VudCA9IDA7XG5SZXF1ZXN0LnJlcXVlc3RzID0ge307XG4vKipcbiAqIEFib3J0cyBwZW5kaW5nIHJlcXVlc3RzIHdoZW4gdW5sb2FkaW5nIHRoZSB3aW5kb3cuIFRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnRcbiAqIG1lbW9yeSBsZWFrcyAoZS5nLiB3aGVuIHVzaW5nIElFKSBhbmQgdG8gZW5zdXJlIHRoYXQgbm8gc3B1cmlvdXMgZXJyb3IgaXNcbiAqIGVtaXR0ZWQuXG4gKi9cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHR5cGVvZiBhdHRhY2hFdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zdCB0ZXJtaW5hdGlvbkV2ZW50ID0gXCJvbnBhZ2VoaWRlXCIgaW4gZ2xvYmFsVGhpcyA/IFwicGFnZWhpZGVcIiA6IFwidW5sb2FkXCI7XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIodGVybWluYXRpb25FdmVudCwgdW5sb2FkSGFuZGxlciwgZmFsc2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVubG9hZEhhbmRsZXIoKSB7XG4gICAgZm9yIChsZXQgaSBpbiBSZXF1ZXN0LnJlcXVlc3RzKSB7XG4gICAgICAgIGlmIChSZXF1ZXN0LnJlcXVlc3RzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICBSZXF1ZXN0LnJlcXVlc3RzW2ldLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnbG9iYWxUaGlzU2hpbSBhcyBnbG9iYWxUaGlzIH0gZnJvbSBcIi4uL2dsb2JhbFRoaXMuanNcIjtcbmV4cG9ydCBjb25zdCBuZXh0VGljayA9ICgoKSA9PiB7XG4gICAgY29uc3QgaXNQcm9taXNlQXZhaWxhYmxlID0gdHlwZW9mIFByb21pc2UgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgUHJvbWlzZS5yZXNvbHZlID09PSBcImZ1bmN0aW9uXCI7XG4gICAgaWYgKGlzUHJvbWlzZUF2YWlsYWJsZSkge1xuICAgICAgICByZXR1cm4gKGNiKSA9PiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGNiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAoY2IsIHNldFRpbWVvdXRGbikgPT4gc2V0VGltZW91dEZuKGNiLCAwKTtcbiAgICB9XG59KSgpO1xuZXhwb3J0IGNvbnN0IFdlYlNvY2tldCA9IGdsb2JhbFRoaXMuV2ViU29ja2V0IHx8IGdsb2JhbFRoaXMuTW96V2ViU29ja2V0O1xuZXhwb3J0IGNvbnN0IHVzaW5nQnJvd3NlcldlYlNvY2tldCA9IHRydWU7XG5leHBvcnQgY29uc3QgZGVmYXVsdEJpbmFyeVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG4iLCJpbXBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi4vdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyB5ZWFzdCB9IGZyb20gXCIuLi9jb250cmliL3llYXN0LmpzXCI7XG5pbXBvcnQgeyBwaWNrIH0gZnJvbSBcIi4uL3V0aWwuanNcIjtcbmltcG9ydCB7IGRlZmF1bHRCaW5hcnlUeXBlLCBuZXh0VGljaywgdXNpbmdCcm93c2VyV2ViU29ja2V0LCBXZWJTb2NrZXQsIH0gZnJvbSBcIi4vd2Vic29ja2V0LWNvbnN0cnVjdG9yLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYWNrZXQgfSBmcm9tIFwiZW5naW5lLmlvLXBhcnNlclwiO1xuLy8gZGV0ZWN0IFJlYWN0TmF0aXZlIGVudmlyb25tZW50XG5jb25zdCBpc1JlYWN0TmF0aXZlID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIG5hdmlnYXRvci5wcm9kdWN0LnRvTG93ZXJDYXNlKCkgPT09IFwicmVhY3RuYXRpdmVcIjtcbmV4cG9ydCBjbGFzcyBXUyBleHRlbmRzIFRyYW5zcG9ydCB7XG4gICAgLyoqXG4gICAgICogV2ViU29ja2V0IHRyYW5zcG9ydCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gY29ubmVjdGlvbiBvcHRpb25zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIob3B0cyk7XG4gICAgICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSAhb3B0cy5mb3JjZUJhc2U2NDtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIndlYnNvY2tldFwiO1xuICAgIH1cbiAgICBkb09wZW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVjaygpKSB7XG4gICAgICAgICAgICAvLyBsZXQgcHJvYmUgdGltZW91dFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVyaSA9IHRoaXMudXJpKCk7XG4gICAgICAgIGNvbnN0IHByb3RvY29scyA9IHRoaXMub3B0cy5wcm90b2NvbHM7XG4gICAgICAgIC8vIFJlYWN0IE5hdGl2ZSBvbmx5IHN1cHBvcnRzIHRoZSAnaGVhZGVycycgb3B0aW9uLCBhbmQgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgYW55dGhpbmcgZWxzZSBpcyBwYXNzZWRcbiAgICAgICAgY29uc3Qgb3B0cyA9IGlzUmVhY3ROYXRpdmVcbiAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgIDogcGljayh0aGlzLm9wdHMsIFwiYWdlbnRcIiwgXCJwZXJNZXNzYWdlRGVmbGF0ZVwiLCBcInBmeFwiLCBcImtleVwiLCBcInBhc3NwaHJhc2VcIiwgXCJjZXJ0XCIsIFwiY2FcIiwgXCJjaXBoZXJzXCIsIFwicmVqZWN0VW5hdXRob3JpemVkXCIsIFwibG9jYWxBZGRyZXNzXCIsIFwicHJvdG9jb2xWZXJzaW9uXCIsIFwib3JpZ2luXCIsIFwibWF4UGF5bG9hZFwiLCBcImZhbWlseVwiLCBcImNoZWNrU2VydmVySWRlbnRpdHlcIik7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgICAgICBvcHRzLmhlYWRlcnMgPSB0aGlzLm9wdHMuZXh0cmFIZWFkZXJzO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndzID1cbiAgICAgICAgICAgICAgICB1c2luZ0Jyb3dzZXJXZWJTb2NrZXQgJiYgIWlzUmVhY3ROYXRpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBwcm90b2NvbHNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IFdlYlNvY2tldCh1cmkpXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scywgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSB0aGlzLnNvY2tldC5iaW5hcnlUeXBlIHx8IGRlZmF1bHRCaW5hcnlUeXBlO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgZXZlbnQgbGlzdGVuZXJzIHRvIHRoZSBzb2NrZXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndzLl9zb2NrZXQudW5yZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25PcGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9IChjbG9zZUV2ZW50KSA9PiB0aGlzLm9uQ2xvc2Uoe1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwid2Vic29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBjbG9zZUV2ZW50LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXYpID0+IHRoaXMub25EYXRhKGV2LmRhdGEpO1xuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZSkgPT4gdGhpcy5vbkVycm9yKFwid2Vic29ja2V0IGVycm9yXCIsIGUpO1xuICAgIH1cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgLy8gZW5jb2RlUGFja2V0IGVmZmljaWVudCBhcyBpdCB1c2VzIFdTIGZyYW1pbmdcbiAgICAgICAgLy8gbm8gbmVlZCBmb3IgZW5jb2RlUGF5bG9hZFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhY2tldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IHBhY2tldHNbaV07XG4gICAgICAgICAgICBjb25zdCBsYXN0UGFja2V0ID0gaSA9PT0gcGFja2V0cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgZW5jb2RlUGFja2V0KHBhY2tldCwgdGhpcy5zdXBwb3J0c0JpbmFyeSwgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgY3JlYXRlIGEgbmV3IG9iamVjdCAoR0gtNDM3KVxuICAgICAgICAgICAgICAgIGNvbnN0IG9wdHMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzaW5nQnJvd3NlcldlYlNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFja2V0Lm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMuY29tcHJlc3MgPSBwYWNrZXQub3B0aW9ucy5jb21wcmVzcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLnBlck1lc3NhZ2VEZWZsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBkYXRhID8gQnVmZmVyLmJ5dGVMZW5ndGgoZGF0YSkgOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZW4gPCB0aGlzLm9wdHMucGVyTWVzc2FnZURlZmxhdGUudGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5jb21wcmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgd2Vic29ja2V0IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkIGJ1dCB0aGUgYnJvd3NlciBkaWRuJ3RcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgY2hhbmNlIG9mIGluZm9ybWluZyB1cyBhYm91dCBpdCB5ZXQsIGluIHRoYXQgY2FzZSBzZW5kIHdpbGxcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhbiBlcnJvclxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2luZ0Jyb3dzZXJXZWJTb2NrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFR5cGVFcnJvciBpcyB0aHJvd24gd2hlbiBwYXNzaW5nIHRoZSBzZWNvbmQgYXJndW1lbnQgb24gU2FmYXJpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndzLnNlbmQoZGF0YSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RQYWNrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFrZSBkcmFpblxuICAgICAgICAgICAgICAgICAgICAvLyBkZWZlciB0byBuZXh0IHRpY2sgdG8gYWxsb3cgU29ja2V0IHRvIGNsZWFyIHdyaXRlQnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRvQ2xvc2UoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy53cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy53cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXJpKCkge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLm9wdHMuc2VjdXJlID8gXCJ3c3NcIiA6IFwid3NcIjtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICAgICAgICAvLyBhcHBlbmQgdGltZXN0YW1wIHRvIFVSSVxuICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVzdGFtcFJlcXVlc3RzKSB7XG4gICAgICAgICAgICBxdWVyeVt0aGlzLm9wdHMudGltZXN0YW1wUGFyYW1dID0geWVhc3QoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb21tdW5pY2F0ZSBiaW5hcnkgc3VwcG9ydCBjYXBhYmlsaXRpZXNcbiAgICAgICAgaWYgKCF0aGlzLnN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBkZXRlY3Rpb24gZm9yIFdlYlNvY2tldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHdoZXRoZXIgdGhpcyB0cmFuc3BvcnQgaXMgYXZhaWxhYmxlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY2hlY2soKSB7XG4gICAgICAgIHJldHVybiAhIVdlYlNvY2tldDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi4vdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyBuZXh0VGljayB9IGZyb20gXCIuL3dlYnNvY2tldC1jb25zdHJ1Y3Rvci5qc1wiO1xuaW1wb3J0IHsgZW5jb2RlUGFja2V0VG9CaW5hcnksIGRlY29kZVBhY2tldEZyb21CaW5hcnksIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmZ1bmN0aW9uIHNob3VsZEluY2x1ZGVCaW5hcnlIZWFkZXIocGFja2V0LCBlbmNvZGVkKSB7XG4gICAgLy8gNDggPT09IFwiMFwiLmNoYXJDb2RlQXQoMCkgKE9QRU4gcGFja2V0IHR5cGUpXG4gICAgLy8gNTQgPT09IFwiNlwiLmNoYXJDb2RlQXQoMCkgKE5PT1AgcGFja2V0IHR5cGUpXG4gICAgcmV0dXJuIChwYWNrZXQudHlwZSA9PT0gXCJtZXNzYWdlXCIgJiZcbiAgICAgICAgdHlwZW9mIHBhY2tldC5kYXRhICE9PSBcInN0cmluZ1wiICYmXG4gICAgICAgIGVuY29kZWRbMF0gPj0gNDggJiZcbiAgICAgICAgZW5jb2RlZFswXSA8PSA1NCk7XG59XG5leHBvcnQgY2xhc3MgV1QgZXh0ZW5kcyBUcmFuc3BvcnQge1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJ3ZWJ0cmFuc3BvcnRcIjtcbiAgICB9XG4gICAgZG9PcGVuKCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmICh0eXBlb2YgV2ViVHJhbnNwb3J0ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gbmV3IFdlYlRyYW5zcG9ydCh0aGlzLmNyZWF0ZVVyaShcImh0dHBzXCIpLCB0aGlzLm9wdHMudHJhbnNwb3J0T3B0aW9uc1t0aGlzLm5hbWVdKTtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2VkXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJ3ZWJ0cmFuc3BvcnQgZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIG5vdGU6IHdlIGNvdWxkIGhhdmUgdXNlZCBhc3luYy9hd2FpdCwgYnV0IHRoYXQgd291bGQgcmVxdWlyZSBzb21lIGFkZGl0aW9uYWwgcG9seWZpbGxzXG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnJlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY3JlYXRlQmlkaXJlY3Rpb25hbFN0cmVhbSgpLnRoZW4oKHN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5yZWFkYWJsZS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlciA9IHN0cmVhbS53cml0YWJsZS5nZXRXcml0ZXIoKTtcbiAgICAgICAgICAgICAgICBsZXQgYmluYXJ5RmxhZztcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZWFkKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCh7IGRvbmUsIHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFiaW5hcnlGbGFnICYmIHZhbHVlLmJ5dGVMZW5ndGggPT09IDEgJiYgdmFsdWVbMF0gPT09IDU0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluYXJ5RmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGV4cG9zZSBiaW5hcnl0eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblBhY2tldChkZWNvZGVQYWNrZXRGcm9tQmluYXJ5KHZhbHVlLCBiaW5hcnlGbGFnLCBcImFycmF5YnVmZmVyXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5hcnlGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kc2hha2UgPSB0aGlzLnF1ZXJ5LnNpZCA/IGAwe1wic2lkXCI6XCIke3RoaXMucXVlcnkuc2lkfVwifWAgOiBcIjBcIjtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlclxuICAgICAgICAgICAgICAgICAgICAud3JpdGUobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGhhbmRzaGFrZSkpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMub25PcGVuKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYWNrZXQgPSBwYWNrZXRzW2ldO1xuICAgICAgICAgICAgY29uc3QgbGFzdFBhY2tldCA9IGkgPT09IHBhY2tldHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGVuY29kZVBhY2tldFRvQmluYXJ5KHBhY2tldCwgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkSW5jbHVkZUJpbmFyeUhlYWRlcihwYWNrZXQsIGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3JpdGVyLndyaXRlKFVpbnQ4QXJyYXkub2YoNTQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZXIud3JpdGUoZGF0YSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0UGFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuc2V0VGltZW91dEZuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9DbG9zZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLnRyYW5zcG9ydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9sbGluZyB9IGZyb20gXCIuL3BvbGxpbmcuanNcIjtcbmltcG9ydCB7IFdTIH0gZnJvbSBcIi4vd2Vic29ja2V0LmpzXCI7XG5pbXBvcnQgeyBXVCB9IGZyb20gXCIuL3dlYnRyYW5zcG9ydC5qc1wiO1xuZXhwb3J0IGNvbnN0IHRyYW5zcG9ydHMgPSB7XG4gICAgd2Vic29ja2V0OiBXUyxcbiAgICB3ZWJ0cmFuc3BvcnQ6IFdULFxuICAgIHBvbGxpbmc6IFBvbGxpbmcsXG59O1xuIiwiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2Fsa24vcGFyc2V1cmlcbi8qKlxuICogUGFyc2VzIGEgVVJJXG4gKlxuICogTm90ZTogd2UgY291bGQgYWxzbyBoYXZlIHVzZWQgdGhlIGJ1aWx0LWluIFVSTCBvYmplY3QsIGJ1dCBpdCBpc24ndCBzdXBwb3J0ZWQgb24gYWxsIHBsYXRmb3Jtcy5cbiAqXG4gKiBTZWU6XG4gKiAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9VUkxcbiAqIC0gaHR0cHM6Ly9jYW5pdXNlLmNvbS91cmxcbiAqIC0gaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzM5ODYjYXBwZW5kaXgtQlxuICpcbiAqIEhpc3Rvcnkgb2YgdGhlIHBhcnNlKCkgbWV0aG9kOlxuICogLSBmaXJzdCBjb21taXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9zb2NrZXRpby9zb2NrZXQuaW8tY2xpZW50L2NvbW1pdC80ZWUxZDVkOTRiMzkwNmE5YzA1MmI0NTlmMWE4MThiMTVmMzhmOTFjXG4gKiAtIGV4cG9ydCBpbnRvIGl0cyBvd24gbW9kdWxlOiBodHRwczovL2dpdGh1Yi5jb20vc29ja2V0aW8vZW5naW5lLmlvLWNsaWVudC9jb21taXQvZGUyYzU2MWU0NTY0ZWZlYjc4ZjFiZGIxYmEzOWVmODFiMjgyMmNiM1xuICogLSByZWltcG9ydDogaHR0cHM6Ly9naXRodWIuY29tL3NvY2tldGlvL2VuZ2luZS5pby1jbGllbnQvY29tbWl0L2RmMzIyNzdjM2Y2ZDYyMmVlYzVlZDA5ZjQ5M2NhZTNmMzM5MWQyNDJcbiAqXG4gKiBAYXV0aG9yIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPiAoTUlUIGxpY2Vuc2UpXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuY29uc3QgcmUgPSAvXig/Oig/IVteOkBcXC8/I10rOlteOkBcXC9dKkApKGh0dHB8aHR0cHN8d3N8d3NzKTpcXC9cXC8pPygoPzooKFteOkBcXC8/I10qKSg/OjooW146QFxcLz8jXSopKT8pP0ApPygoPzpbYS1mMC05XXswLDR9Oil7Miw3fVthLWYwLTldezAsNH18W146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcbmNvbnN0IHBhcnRzID0gW1xuICAgICdzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ1xuXTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgICBjb25zdCBzcmMgPSBzdHIsIGIgPSBzdHIuaW5kZXhPZignWycpLCBlID0gc3RyLmluZGV4T2YoJ10nKTtcbiAgICBpZiAoYiAhPSAtMSAmJiBlICE9IC0xKSB7XG4gICAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgYikgKyBzdHIuc3Vic3RyaW5nKGIsIGUpLnJlcGxhY2UoLzovZywgJzsnKSArIHN0ci5zdWJzdHJpbmcoZSwgc3RyLmxlbmd0aCk7XG4gICAgfVxuICAgIGxldCBtID0gcmUuZXhlYyhzdHIgfHwgJycpLCB1cmkgPSB7fSwgaSA9IDE0O1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdXJpW3BhcnRzW2ldXSA9IG1baV0gfHwgJyc7XG4gICAgfVxuICAgIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcbiAgICAgICAgdXJpLnNvdXJjZSA9IHNyYztcbiAgICAgICAgdXJpLmhvc3QgPSB1cmkuaG9zdC5zdWJzdHJpbmcoMSwgdXJpLmhvc3QubGVuZ3RoIC0gMSkucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuYXV0aG9yaXR5ID0gdXJpLmF1dGhvcml0eS5yZXBsYWNlKCdbJywgJycpLnJlcGxhY2UoJ10nLCAnJykucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuaXB2NnVyaSA9IHRydWU7XG4gICAgfVxuICAgIHVyaS5wYXRoTmFtZXMgPSBwYXRoTmFtZXModXJpLCB1cmlbJ3BhdGgnXSk7XG4gICAgdXJpLnF1ZXJ5S2V5ID0gcXVlcnlLZXkodXJpLCB1cmlbJ3F1ZXJ5J10pO1xuICAgIHJldHVybiB1cmk7XG59XG5mdW5jdGlvbiBwYXRoTmFtZXMob2JqLCBwYXRoKSB7XG4gICAgY29uc3QgcmVneCA9IC9cXC97Miw5fS9nLCBuYW1lcyA9IHBhdGgucmVwbGFjZShyZWd4LCBcIi9cIikuc3BsaXQoXCIvXCIpO1xuICAgIGlmIChwYXRoLnNsaWNlKDAsIDEpID09ICcvJyB8fCBwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBuYW1lcy5zcGxpY2UoMCwgMSk7XG4gICAgfVxuICAgIGlmIChwYXRoLnNsaWNlKC0xKSA9PSAnLycpIHtcbiAgICAgICAgbmFtZXMuc3BsaWNlKG5hbWVzLmxlbmd0aCAtIDEsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXM7XG59XG5mdW5jdGlvbiBxdWVyeUtleSh1cmksIHF1ZXJ5KSB7XG4gICAgY29uc3QgZGF0YSA9IHt9O1xuICAgIHF1ZXJ5LnJlcGxhY2UoLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgICAgICBpZiAoJDEpIHtcbiAgICAgICAgICAgIGRhdGFbJDFdID0gJDI7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbiIsImltcG9ydCB7IHRyYW5zcG9ydHMgfSBmcm9tIFwiLi90cmFuc3BvcnRzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBpbnN0YWxsVGltZXJGdW5jdGlvbnMsIGJ5dGVMZW5ndGggfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBkZWNvZGUgfSBmcm9tIFwiLi9jb250cmliL3BhcnNlcXMuanNcIjtcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIi4vY29udHJpYi9wYXJzZXVyaS5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgeyBwcm90b2NvbCB9IGZyb20gXCJlbmdpbmUuaW8tcGFyc2VyXCI7XG5leHBvcnQgY2xhc3MgU29ja2V0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogU29ja2V0IGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSB1cmkgLSB1cmkgb3Igb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIC0gb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSBbXTtcbiAgICAgICAgaWYgKHVyaSAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgdXJpKSB7XG4gICAgICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICAgICAgdXJpID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJpKSB7XG4gICAgICAgICAgICB1cmkgPSBwYXJzZSh1cmkpO1xuICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSA9IHVyaS5ob3N0O1xuICAgICAgICAgICAgb3B0cy5zZWN1cmUgPSB1cmkucHJvdG9jb2wgPT09IFwiaHR0cHNcIiB8fCB1cmkucHJvdG9jb2wgPT09IFwid3NzXCI7XG4gICAgICAgICAgICBvcHRzLnBvcnQgPSB1cmkucG9ydDtcbiAgICAgICAgICAgIGlmICh1cmkucXVlcnkpXG4gICAgICAgICAgICAgICAgb3B0cy5xdWVyeSA9IHVyaS5xdWVyeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRzLmhvc3QpIHtcbiAgICAgICAgICAgIG9wdHMuaG9zdG5hbWUgPSBwYXJzZShvcHRzLmhvc3QpLmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFsbFRpbWVyRnVuY3Rpb25zKHRoaXMsIG9wdHMpO1xuICAgICAgICB0aGlzLnNlY3VyZSA9XG4gICAgICAgICAgICBudWxsICE9IG9wdHMuc2VjdXJlXG4gICAgICAgICAgICAgICAgPyBvcHRzLnNlY3VyZVxuICAgICAgICAgICAgICAgIDogdHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIFwiaHR0cHM6XCIgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICBpZiAob3B0cy5ob3N0bmFtZSAmJiAhb3B0cy5wb3J0KSB7XG4gICAgICAgICAgICAvLyBpZiBubyBwb3J0IGlzIHNwZWNpZmllZCBtYW51YWxseSwgdXNlIHRoZSBwcm90b2NvbCBkZWZhdWx0XG4gICAgICAgICAgICBvcHRzLnBvcnQgPSB0aGlzLnNlY3VyZSA/IFwiNDQzXCIgOiBcIjgwXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA9XG4gICAgICAgICAgICBvcHRzLmhvc3RuYW1lIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiA/IGxvY2F0aW9uLmhvc3RuYW1lIDogXCJsb2NhbGhvc3RcIik7XG4gICAgICAgIHRoaXMucG9ydCA9XG4gICAgICAgICAgICBvcHRzLnBvcnQgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIGxvY2F0aW9uLnBvcnRcbiAgICAgICAgICAgICAgICAgICAgPyBsb2NhdGlvbi5wb3J0XG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5zZWN1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCI0NDNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIjgwXCIpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydHMgPSBvcHRzLnRyYW5zcG9ydHMgfHwgW1xuICAgICAgICAgICAgXCJwb2xsaW5nXCIsXG4gICAgICAgICAgICBcIndlYnNvY2tldFwiLFxuICAgICAgICAgICAgXCJ3ZWJ0cmFuc3BvcnRcIixcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnByZXZCdWZmZXJMZW4gPSAwO1xuICAgICAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHBhdGg6IFwiL2VuZ2luZS5pb1wiLFxuICAgICAgICAgICAgYWdlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgICAgIHVwZ3JhZGU6IHRydWUsXG4gICAgICAgICAgICB0aW1lc3RhbXBQYXJhbTogXCJ0XCIsXG4gICAgICAgICAgICByZW1lbWJlclVwZ3JhZGU6IGZhbHNlLFxuICAgICAgICAgICAgYWRkVHJhaWxpbmdTbGFzaDogdHJ1ZSxcbiAgICAgICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgICAgICAgIHBlck1lc3NhZ2VEZWZsYXRlOiB7XG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiAxMDI0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHt9LFxuICAgICAgICAgICAgY2xvc2VPbkJlZm9yZXVubG9hZDogZmFsc2UsXG4gICAgICAgIH0sIG9wdHMpO1xuICAgICAgICB0aGlzLm9wdHMucGF0aCA9XG4gICAgICAgICAgICB0aGlzLm9wdHMucGF0aC5yZXBsYWNlKC9cXC8kLywgXCJcIikgK1xuICAgICAgICAgICAgICAgICh0aGlzLm9wdHMuYWRkVHJhaWxpbmdTbGFzaCA/IFwiL1wiIDogXCJcIik7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRzLnF1ZXJ5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aGlzLm9wdHMucXVlcnkgPSBkZWNvZGUodGhpcy5vcHRzLnF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgb24gaGFuZHNoYWtlXG4gICAgICAgIHRoaXMuaWQgPSBudWxsO1xuICAgICAgICB0aGlzLnVwZ3JhZGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5waW5nSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLnBpbmdUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgLy8gc2V0IG9uIGhlYXJ0YmVhdFxuICAgICAgICB0aGlzLnBpbmdUaW1lb3V0VGltZXIgPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbG9zZU9uQmVmb3JldW5sb2FkKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCBjbG9zZXMgdGhlIGNvbm5lY3Rpb24gd2hlbiB0aGUgXCJiZWZvcmV1bmxvYWRcIiBldmVudCBpcyBlbWl0dGVkIGJ1dCBub3QgQ2hyb21lLiBUaGlzIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlcyBldmVyeSBicm93c2VyIGJlaGF2ZXMgdGhlIHNhbWUgKG5vIFwiZGlzY29ubmVjdFwiIGV2ZW50IGF0IHRoZSBTb2NrZXQuSU8gbGV2ZWwgd2hlbiB0aGUgcGFnZSBpc1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlZC9yZWxvYWRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmJlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2lsZW50bHkgY2xvc2UgdGhlIHRyYW5zcG9ydFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMuYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaG9zdG5hbWUgIT09IFwibG9jYWxob3N0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwibmV0d29yayBjb25uZWN0aW9uIGxvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCB0aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdHJhbnNwb3J0IG9mIHRoZSBnaXZlbiB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0cmFuc3BvcnQgbmFtZVxuICAgICAqIEByZXR1cm4ge1RyYW5zcG9ydH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNyZWF0ZVRyYW5zcG9ydChuYW1lKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLnF1ZXJ5KTtcbiAgICAgICAgLy8gYXBwZW5kIGVuZ2luZS5pbyBwcm90b2NvbCBpZGVudGlmaWVyXG4gICAgICAgIHF1ZXJ5LkVJTyA9IHByb3RvY29sO1xuICAgICAgICAvLyB0cmFuc3BvcnQgbmFtZVxuICAgICAgICBxdWVyeS50cmFuc3BvcnQgPSBuYW1lO1xuICAgICAgICAvLyBzZXNzaW9uIGlkIGlmIHdlIGFscmVhZHkgaGF2ZSBvbmVcbiAgICAgICAgaWYgKHRoaXMuaWQpXG4gICAgICAgICAgICBxdWVyeS5zaWQgPSB0aGlzLmlkO1xuICAgICAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIHNvY2tldDogdGhpcyxcbiAgICAgICAgICAgIGhvc3RuYW1lOiB0aGlzLmhvc3RuYW1lLFxuICAgICAgICAgICAgc2VjdXJlOiB0aGlzLnNlY3VyZSxcbiAgICAgICAgICAgIHBvcnQ6IHRoaXMucG9ydCxcbiAgICAgICAgfSwgdGhpcy5vcHRzLnRyYW5zcG9ydE9wdGlvbnNbbmFtZV0pO1xuICAgICAgICByZXR1cm4gbmV3IHRyYW5zcG9ydHNbbmFtZV0ob3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRyYW5zcG9ydCB0byB1c2UgYW5kIHN0YXJ0cyBwcm9iZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgICAgbGV0IHRyYW5zcG9ydDtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5yZW1lbWJlclVwZ3JhZGUgJiZcbiAgICAgICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgJiZcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0cy5pbmRleE9mKFwid2Vic29ja2V0XCIpICE9PSAtMSkge1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gXCJ3ZWJzb2NrZXRcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgwID09PSB0aGlzLnRyYW5zcG9ydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBFbWl0IGVycm9yIG9uIG5leHQgdGljayBzbyBpdCBjYW4gYmUgbGlzdGVuZWQgdG9cbiAgICAgICAgICAgIHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIFwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGVcIik7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zcG9ydCA9IHRoaXMudHJhbnNwb3J0c1swXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5pbmdcIjtcbiAgICAgICAgLy8gUmV0cnkgd2l0aCB0aGUgbmV4dCB0cmFuc3BvcnQgaWYgdGhlIHRyYW5zcG9ydCBpcyBkaXNhYmxlZCAoanNvbnA6IGZhbHNlKVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gdGhpcy5jcmVhdGVUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc3BvcnQub3BlbigpO1xuICAgICAgICB0aGlzLnNldFRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHRyYW5zcG9ydC4gRGlzYWJsZXMgdGhlIGV4aXN0aW5nIG9uZSAoaWYgYW55KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCkge1xuICAgICAgICBpZiAodGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCB1cCB0cmFuc3BvcnRcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIC8vIHNldCB1cCB0cmFuc3BvcnQgbGlzdGVuZXJzXG4gICAgICAgIHRyYW5zcG9ydFxuICAgICAgICAgICAgLm9uKFwiZHJhaW5cIiwgdGhpcy5vbkRyYWluLmJpbmQodGhpcykpXG4gICAgICAgICAgICAub24oXCJwYWNrZXRcIiwgdGhpcy5vblBhY2tldC5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgLm9uKFwiZXJyb3JcIiwgdGhpcy5vbkVycm9yLmJpbmQodGhpcykpXG4gICAgICAgICAgICAub24oXCJjbG9zZVwiLCAocmVhc29uKSA9PiB0aGlzLm9uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIiwgcmVhc29uKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2JlcyBhIHRyYW5zcG9ydC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdHJhbnNwb3J0IG5hbWVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb2JlKG5hbWUpIHtcbiAgICAgICAgbGV0IHRyYW5zcG9ydCA9IHRoaXMuY3JlYXRlVHJhbnNwb3J0KG5hbWUpO1xuICAgICAgICBsZXQgZmFpbGVkID0gZmFsc2U7XG4gICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgb25UcmFuc3BvcnRPcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0cmFuc3BvcnQuc2VuZChbeyB0eXBlOiBcInBpbmdcIiwgZGF0YTogXCJwcm9iZVwiIH1dKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5vbmNlKFwicGFja2V0XCIsIChtc2cpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKFwicG9uZ1wiID09PSBtc2cudHlwZSAmJiBcInByb2JlXCIgPT09IG1zZy5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBncmFkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRpbmdcIiwgdHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc3BvcnQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBcIndlYnNvY2tldFwiID09PSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucGF1c2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuc2VuZChbeyB0eXBlOiBcInVwZ3JhZGVcIiB9XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVcIiwgdHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZ3JhZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcInByb2JlIGVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGVyci50cmFuc3BvcnQgPSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlRXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gZnJlZXplVHJhbnNwb3J0KCkge1xuICAgICAgICAgICAgaWYgKGZhaWxlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBBbnkgY2FsbGJhY2sgY2FsbGVkIGJ5IHRyYW5zcG9ydCBzaG91bGQgYmUgaWdub3JlZCBzaW5jZSBub3dcbiAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICB0cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGFueSBlcnJvciB0aGF0IGhhcHBlbnMgd2hpbGUgcHJvYmluZ1xuICAgICAgICBjb25zdCBvbmVycm9yID0gKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJwcm9iZSBlcnJvcjogXCIgKyBlcnIpO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgZXJyb3IudHJhbnNwb3J0ID0gdHJhbnNwb3J0Lm5hbWU7XG4gICAgICAgICAgICBmcmVlemVUcmFuc3BvcnQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZUVycm9yXCIsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gb25UcmFuc3BvcnRDbG9zZSgpIHtcbiAgICAgICAgICAgIG9uZXJyb3IoXCJ0cmFuc3BvcnQgY2xvc2VkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gdGhlIHNvY2tldCBpcyBjbG9zZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuICAgICAgICBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgICAgICAgICAgb25lcnJvcihcInNvY2tldCBjbG9zZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGUgc29ja2V0IGlzIHVwZ3JhZGVkIHdoaWxlIHdlJ3JlIHByb2JpbmdcbiAgICAgICAgZnVuY3Rpb24gb251cGdyYWRlKHRvKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNwb3J0ICYmIHRvLm5hbWUgIT09IHRyYW5zcG9ydC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZnJlZXplVHJhbnNwb3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgb24gdGhlIHRyYW5zcG9ydCBhbmQgb24gc2VsZlxuICAgICAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgICAgICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKFwib3BlblwiLCBvblRyYW5zcG9ydE9wZW4pO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgb25lcnJvcik7XG4gICAgICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLCBvblRyYW5zcG9ydENsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwiY2xvc2VcIiwgb25jbG9zZSk7XG4gICAgICAgICAgICB0aGlzLm9mZihcInVwZ3JhZGluZ1wiLCBvbnVwZ3JhZGUpO1xuICAgICAgICB9O1xuICAgICAgICB0cmFuc3BvcnQub25jZShcIm9wZW5cIiwgb25UcmFuc3BvcnRPcGVuKTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJlcnJvclwiLCBvbmVycm9yKTtcbiAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJjbG9zZVwiLCBvblRyYW5zcG9ydENsb3NlKTtcbiAgICAgICAgdGhpcy5vbmNlKFwiY2xvc2VcIiwgb25jbG9zZSk7XG4gICAgICAgIHRoaXMub25jZShcInVwZ3JhZGluZ1wiLCBvbnVwZ3JhZGUpO1xuICAgICAgICBpZiAodGhpcy51cGdyYWRlcy5pbmRleE9mKFwid2VidHJhbnNwb3J0XCIpICE9PSAtMSAmJlxuICAgICAgICAgICAgbmFtZSAhPT0gXCJ3ZWJ0cmFuc3BvcnRcIikge1xuICAgICAgICAgICAgLy8gZmF2b3IgV2ViVHJhbnNwb3J0XG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFmYWlsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBjb25uZWN0aW9uIGlzIGRlZW1lZCBvcGVuLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlblwiO1xuICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gXCJ3ZWJzb2NrZXRcIiA9PT0gdGhpcy50cmFuc3BvcnQubmFtZTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJvcGVuXCIpO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIC8vIHdlIGNoZWNrIGZvciBgcmVhZHlTdGF0ZWAgaW4gY2FzZSBhbiBgb3BlbmBcbiAgICAgICAgLy8gbGlzdGVuZXIgYWxyZWFkeSBjbG9zZWQgdGhlIHNvY2tldFxuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSAmJiB0aGlzLm9wdHMudXBncmFkZSkge1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgY29uc3QgbCA9IHRoaXMudXBncmFkZXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2JlKHRoaXMudXBncmFkZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uUGFja2V0KHBhY2tldCkge1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJjbG9zaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgIC8vIFNvY2tldCBpcyBsaXZlIC0gYW55IHBhY2tldCBjb3VudHNcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiaGVhcnRiZWF0XCIpO1xuICAgICAgICAgICAgc3dpdGNoIChwYWNrZXQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25IYW5kc2hha2UoSlNPTi5wYXJzZShwYWNrZXQuZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kUGFja2V0KFwicG9uZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXCJzZXJ2ZXIgZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgZXJyLmNvZGUgPSBwYWNrZXQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwibWVzc2FnZVwiLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGhhbmRzaGFrZSBjb21wbGV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBoYW5kc2hha2Ugb2JqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkhhbmRzaGFrZShkYXRhKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiaGFuZHNoYWtlXCIsIGRhdGEpO1xuICAgICAgICB0aGlzLmlkID0gZGF0YS5zaWQ7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZCA9IGRhdGEuc2lkO1xuICAgICAgICB0aGlzLnVwZ3JhZGVzID0gdGhpcy5maWx0ZXJVcGdyYWRlcyhkYXRhLnVwZ3JhZGVzKTtcbiAgICAgICAgdGhpcy5waW5nSW50ZXJ2YWwgPSBkYXRhLnBpbmdJbnRlcnZhbDtcbiAgICAgICAgdGhpcy5waW5nVGltZW91dCA9IGRhdGEucGluZ1RpbWVvdXQ7XG4gICAgICAgIHRoaXMubWF4UGF5bG9hZCA9IGRhdGEubWF4UGF5bG9hZDtcbiAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgLy8gSW4gY2FzZSBvcGVuIGhhbmRsZXIgY2xvc2VzIHNvY2tldFxuICAgICAgICBpZiAoXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnJlc2V0UGluZ1RpbWVvdXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhbmQgcmVzZXRzIHBpbmcgdGltZW91dCB0aW1lciBiYXNlZCBvbiBzZXJ2ZXIgcGluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlc2V0UGluZ1RpbWVvdXQoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5waW5nVGltZW91dFRpbWVyKTtcbiAgICAgICAgdGhpcy5waW5nVGltZW91dFRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpO1xuICAgICAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbCArIHRoaXMucGluZ1RpbWVvdXQpO1xuICAgICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgICAgdGhpcy5waW5nVGltZW91dFRpbWVyLnVucmVmKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGBkcmFpbmAgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25EcmFpbigpIHtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5zcGxpY2UoMCwgdGhpcy5wcmV2QnVmZmVyTGVuKTtcbiAgICAgICAgLy8gc2V0dGluZyBwcmV2QnVmZmVyTGVuID0gMCBpcyB2ZXJ5IGltcG9ydGFudFxuICAgICAgICAvLyBmb3IgZXhhbXBsZSwgd2hlbiB1cGdyYWRpbmcsIHVwZ3JhZGUgcGFja2V0IGlzIHNlbnQgb3ZlcixcbiAgICAgICAgLy8gYW5kIGEgbm9uemVybyBwcmV2QnVmZmVyTGVuIGNvdWxkIGNhdXNlIHByb2JsZW1zIG9uIGBkcmFpbmBcbiAgICAgICAgdGhpcy5wcmV2QnVmZmVyTGVuID0gMDtcbiAgICAgICAgaWYgKDAgPT09IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsdXNoIHdyaXRlIGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZsdXNoKCkge1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC53cml0YWJsZSAmJlxuICAgICAgICAgICAgIXRoaXMudXBncmFkaW5nICYmXG4gICAgICAgICAgICB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcGFja2V0cyA9IHRoaXMuZ2V0V3JpdGFibGVQYWNrZXRzKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5zZW5kKHBhY2tldHMpO1xuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBjdXJyZW50IGxlbmd0aCBvZiB3cml0ZUJ1ZmZlclxuICAgICAgICAgICAgLy8gc3BsaWNlIHdyaXRlQnVmZmVyIGFuZCBjYWxsYmFja0J1ZmZlciBvbiBgZHJhaW5gXG4gICAgICAgICAgICB0aGlzLnByZXZCdWZmZXJMZW4gPSBwYWNrZXRzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZmx1c2hcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlIHRoZSBlbmNvZGVkIHNpemUgb2YgdGhlIHdyaXRlQnVmZmVyIGlzIGJlbG93IHRoZSBtYXhQYXlsb2FkIHZhbHVlIHNlbnQgYnkgdGhlIHNlcnZlciAob25seSBmb3IgSFRUUFxuICAgICAqIGxvbmctcG9sbGluZylcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0V3JpdGFibGVQYWNrZXRzKCkge1xuICAgICAgICBjb25zdCBzaG91bGRDaGVja1BheWxvYWRTaXplID0gdGhpcy5tYXhQYXlsb2FkICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5uYW1lID09PSBcInBvbGxpbmdcIiAmJlxuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGggPiAxO1xuICAgICAgICBpZiAoIXNob3VsZENoZWNrUGF5bG9hZFNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXlsb2FkU2l6ZSA9IDE7IC8vIGZpcnN0IHBhY2tldCB0eXBlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMud3JpdGVCdWZmZXJbaV0uZGF0YTtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gYnl0ZUxlbmd0aChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID4gMCAmJiBwYXlsb2FkU2l6ZSA+IHRoaXMubWF4UGF5bG9hZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gMjsgLy8gc2VwYXJhdG9yICsgcGFja2V0IHR5cGVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyAtIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHJldHVybiB7U29ja2V0fSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgd3JpdGUobXNnLCBvcHRpb25zLCBmbikge1xuICAgICAgICB0aGlzLnNlbmRQYWNrZXQoXCJtZXNzYWdlXCIsIG1zZywgb3B0aW9ucywgZm4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2VuZChtc2csIG9wdGlvbnMsIGZuKSB7XG4gICAgICAgIHRoaXMuc2VuZFBhY2tldChcIm1lc3NhZ2VcIiwgbXNnLCBvcHRpb25zLCBmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlOiBwYWNrZXQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2VuZFBhY2tldCh0eXBlLCBkYXRhLCBvcHRpb25zLCBmbikge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZGF0YSkge1xuICAgICAgICAgICAgZm4gPSBkYXRhO1xuICAgICAgICAgICAgZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgZm4gPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiY2xvc2luZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgXCJjbG9zZWRcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMuY29tcHJlc3MgPSBmYWxzZSAhPT0gb3B0aW9ucy5jb21wcmVzcztcbiAgICAgICAgY29uc3QgcGFja2V0ID0ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldENyZWF0ZVwiLCBwYWNrZXQpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyLnB1c2gocGFja2V0KTtcbiAgICAgICAgaWYgKGZuKVxuICAgICAgICAgICAgdGhpcy5vbmNlKFwiZmx1c2hcIiwgZm4pO1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoXCJmb3JjZWQgY2xvc2VcIik7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjbGVhbnVwQW5kQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9mZihcInVwZ3JhZGVcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwidXBncmFkZUVycm9yXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3YWl0Rm9yVXBncmFkZSA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIHVwZ3JhZGUgdG8gZmluaXNoIHNpbmNlIHdlIGNhbid0IHNlbmQgcGFja2V0cyB3aGlsZSBwYXVzaW5nIGEgdHJhbnNwb3J0XG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJ1cGdyYWRlXCIsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLm9uY2UoXCJ1cGdyYWRlRXJyb3JcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJjbG9zaW5nXCI7XG4gICAgICAgICAgICBpZiAodGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoXCJkcmFpblwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwZ3JhZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdEZvclVwZ3JhZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICAgICAgICAgICAgd2FpdEZvclVwZ3JhZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBlcnJvclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkVycm9yKGVycikge1xuICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgdGhpcy5vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsIGVycik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25DbG9zZShyZWFzb24sIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICAgICAgICBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8XG4gICAgICAgICAgICBcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBjbGVhciB0aW1lcnNcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5waW5nVGltZW91dFRpbWVyKTtcbiAgICAgICAgICAgIC8vIHN0b3AgZXZlbnQgZnJvbSBmaXJpbmcgYWdhaW4gZm9yIHRyYW5zcG9ydFxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VcIik7XG4gICAgICAgICAgICAvLyBlbnN1cmUgdHJhbnNwb3J0IHdvbid0IHN0YXkgb3BlblxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBmdXJ0aGVyIHRyYW5zcG9ydCBjb21tdW5pY2F0aW9uXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLmJlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCB0aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXQgcmVhZHkgc3RhdGVcbiAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgICAgICAvLyBjbGVhciBzZXNzaW9uIGlkXG4gICAgICAgICAgICB0aGlzLmlkID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGVtaXQgY2xvc2UgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY2xvc2VcIiwgcmVhc29uLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAvLyBjbGVhbiBidWZmZXJzIGFmdGVyLCBzbyB1c2VycyBjYW4gc3RpbGxcbiAgICAgICAgICAgIC8vIGdyYWIgdGhlIGJ1ZmZlcnMgb24gYGNsb3NlYCBldmVudFxuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgdGhpcy5wcmV2QnVmZmVyTGVuID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJzIHVwZ3JhZGVzLCByZXR1cm5pbmcgb25seSB0aG9zZSBtYXRjaGluZyBjbGllbnQgdHJhbnNwb3J0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHVwZ3JhZGVzIC0gc2VydmVyIHVwZ3JhZGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmaWx0ZXJVcGdyYWRlcyh1cGdyYWRlcykge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFVwZ3JhZGVzID0gW107XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgY29uc3QgaiA9IHVwZ3JhZGVzLmxlbmd0aDtcbiAgICAgICAgZm9yICg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh+dGhpcy50cmFuc3BvcnRzLmluZGV4T2YodXBncmFkZXNbaV0pKVxuICAgICAgICAgICAgICAgIGZpbHRlcmVkVXBncmFkZXMucHVzaCh1cGdyYWRlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkVXBncmFkZXM7XG4gICAgfVxufVxuU29ja2V0LnByb3RvY29sID0gcHJvdG9jb2w7XG4iLCJpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbmV4cG9ydCB7IFNvY2tldCB9O1xuZXhwb3J0IGNvbnN0IHByb3RvY29sID0gU29ja2V0LnByb3RvY29sO1xuZXhwb3J0IHsgVHJhbnNwb3J0IH0gZnJvbSBcIi4vdHJhbnNwb3J0LmpzXCI7XG5leHBvcnQgeyB0cmFuc3BvcnRzIH0gZnJvbSBcIi4vdHJhbnNwb3J0cy9pbmRleC5qc1wiO1xuZXhwb3J0IHsgaW5zdGFsbFRpbWVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9jb250cmliL3BhcnNldXJpLmpzXCI7XG5leHBvcnQgeyBuZXh0VGljayB9IGZyb20gXCIuL3RyYW5zcG9ydHMvd2Vic29ja2V0LWNvbnN0cnVjdG9yLmpzXCI7XG4iLCJjb25zdCB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbmNvbnN0IGlzVmlldyA9IChvYmopID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gQXJyYXlCdWZmZXIuaXNWaWV3KG9iailcbiAgICAgICAgOiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3Qgd2l0aE5hdGl2ZUJsb2IgPSB0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBCbG9iICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwoQmxvYikgPT09IFwiW29iamVjdCBCbG9iQ29uc3RydWN0b3JdXCIpO1xuY29uc3Qgd2l0aE5hdGl2ZUZpbGUgPSB0eXBlb2YgRmlsZSA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgKHR5cGVvZiBGaWxlICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgIHRvU3RyaW5nLmNhbGwoRmlsZSkgPT09IFwiW29iamVjdCBGaWxlQ29uc3RydWN0b3JdXCIpO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqIGlzIGEgQnVmZmVyLCBhbiBBcnJheUJ1ZmZlciwgYSBCbG9iIG9yIGEgRmlsZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCaW5hcnkob2JqKSB7XG4gICAgcmV0dXJuICgod2l0aE5hdGl2ZUFycmF5QnVmZmVyICYmIChvYmogaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc1ZpZXcob2JqKSkpIHx8XG4gICAgICAgICh3aXRoTmF0aXZlQmxvYiAmJiBvYmogaW5zdGFuY2VvZiBCbG9iKSB8fFxuICAgICAgICAod2l0aE5hdGl2ZUZpbGUgJiYgb2JqIGluc3RhbmNlb2YgRmlsZSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0JpbmFyeShvYmosIHRvSlNPTikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKGhhc0JpbmFyeShvYmpbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNCaW5hcnkob2JqKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9iai50b0pTT04gJiZcbiAgICAgICAgdHlwZW9mIG9iai50b0pTT04gPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICBhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBoYXNCaW5hcnkob2JqLnRvSlNPTigpLCB0cnVlKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpICYmIGhhc0JpbmFyeShvYmpba2V5XSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImltcG9ydCB7IGlzQmluYXJ5IH0gZnJvbSBcIi4vaXMtYmluYXJ5LmpzXCI7XG4vKipcbiAqIFJlcGxhY2VzIGV2ZXJ5IEJ1ZmZlciB8IEFycmF5QnVmZmVyIHwgQmxvYiB8IEZpbGUgaW4gcGFja2V0IHdpdGggYSBudW1iZXJlZCBwbGFjZWhvbGRlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gc29ja2V0LmlvIGV2ZW50IHBhY2tldFxuICogQHJldHVybiB7T2JqZWN0fSB3aXRoIGRlY29uc3RydWN0ZWQgcGFja2V0IGFuZCBsaXN0IG9mIGJ1ZmZlcnNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29uc3RydWN0UGFja2V0KHBhY2tldCkge1xuICAgIGNvbnN0IGJ1ZmZlcnMgPSBbXTtcbiAgICBjb25zdCBwYWNrZXREYXRhID0gcGFja2V0LmRhdGE7XG4gICAgY29uc3QgcGFjayA9IHBhY2tldDtcbiAgICBwYWNrLmRhdGEgPSBfZGVjb25zdHJ1Y3RQYWNrZXQocGFja2V0RGF0YSwgYnVmZmVycyk7XG4gICAgcGFjay5hdHRhY2htZW50cyA9IGJ1ZmZlcnMubGVuZ3RoOyAvLyBudW1iZXIgb2YgYmluYXJ5ICdhdHRhY2htZW50cydcbiAgICByZXR1cm4geyBwYWNrZXQ6IHBhY2ssIGJ1ZmZlcnM6IGJ1ZmZlcnMgfTtcbn1cbmZ1bmN0aW9uIF9kZWNvbnN0cnVjdFBhY2tldChkYXRhLCBidWZmZXJzKSB7XG4gICAgaWYgKCFkYXRhKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICBpZiAoaXNCaW5hcnkoZGF0YSkpIHtcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSB7IF9wbGFjZWhvbGRlcjogdHJ1ZSwgbnVtOiBidWZmZXJzLmxlbmd0aCB9O1xuICAgICAgICBidWZmZXJzLnB1c2goZGF0YSk7XG4gICAgICAgIHJldHVybiBwbGFjZWhvbGRlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0gbmV3IEFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuZXdEYXRhW2ldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFbaV0sIGJ1ZmZlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiAhKGRhdGEgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0RhdGFba2V5XSA9IF9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2tleV0sIGJ1ZmZlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogUmVjb25zdHJ1Y3RzIGEgYmluYXJ5IHBhY2tldCBmcm9tIGl0cyBwbGFjZWhvbGRlciBwYWNrZXQgYW5kIGJ1ZmZlcnNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gZXZlbnQgcGFja2V0IHdpdGggcGxhY2Vob2xkZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBidWZmZXJzIC0gYmluYXJ5IGJ1ZmZlcnMgdG8gcHV0IGluIHBsYWNlaG9sZGVyIHBvc2l0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSByZWNvbnN0cnVjdGVkIHBhY2tldFxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjb25zdHJ1Y3RQYWNrZXQocGFja2V0LCBidWZmZXJzKSB7XG4gICAgcGFja2V0LmRhdGEgPSBfcmVjb25zdHJ1Y3RQYWNrZXQocGFja2V0LmRhdGEsIGJ1ZmZlcnMpO1xuICAgIGRlbGV0ZSBwYWNrZXQuYXR0YWNobWVudHM7IC8vIG5vIGxvbmdlciB1c2VmdWxcbiAgICByZXR1cm4gcGFja2V0O1xufVxuZnVuY3Rpb24gX3JlY29uc3RydWN0UGFja2V0KGRhdGEsIGJ1ZmZlcnMpIHtcbiAgICBpZiAoIWRhdGEpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIGlmIChkYXRhICYmIGRhdGEuX3BsYWNlaG9sZGVyID09PSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IGlzSW5kZXhWYWxpZCA9IHR5cGVvZiBkYXRhLm51bSA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAgICAgZGF0YS5udW0gPj0gMCAmJlxuICAgICAgICAgICAgZGF0YS5udW0gPCBidWZmZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGlzSW5kZXhWYWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcnNbZGF0YS5udW1dOyAvLyBhcHByb3ByaWF0ZSBidWZmZXIgKHNob3VsZCBiZSBuYXR1cmFsIG9yZGVyIGFueXdheSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgYXR0YWNobWVudHNcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbaV0gPSBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtpXSwgYnVmZmVycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtrZXldID0gX3JlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG4iLCJpbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IGRlY29uc3RydWN0UGFja2V0LCByZWNvbnN0cnVjdFBhY2tldCB9IGZyb20gXCIuL2JpbmFyeS5qc1wiO1xuaW1wb3J0IHsgaXNCaW5hcnksIGhhc0JpbmFyeSB9IGZyb20gXCIuL2lzLWJpbmFyeS5qc1wiO1xuLyoqXG4gKiBUaGVzZSBzdHJpbmdzIG11c3Qgbm90IGJlIHVzZWQgYXMgZXZlbnQgbmFtZXMsIGFzIHRoZXkgaGF2ZSBhIHNwZWNpYWwgbWVhbmluZy5cbiAqL1xuY29uc3QgUkVTRVJWRURfRVZFTlRTID0gW1xuICAgIFwiY29ubmVjdFwiLFxuICAgIFwiY29ubmVjdF9lcnJvclwiLFxuICAgIFwiZGlzY29ubmVjdFwiLFxuICAgIFwiZGlzY29ubmVjdGluZ1wiLFxuICAgIFwibmV3TGlzdGVuZXJcIixcbiAgICBcInJlbW92ZUxpc3RlbmVyXCIsIC8vIHVzZWQgYnkgdGhlIE5vZGUuanMgRXZlbnRFbWl0dGVyXG5dO1xuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHByb3RvY29sID0gNTtcbmV4cG9ydCB2YXIgUGFja2V0VHlwZTtcbihmdW5jdGlvbiAoUGFja2V0VHlwZSkge1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkNPTk5FQ1RcIl0gPSAwXSA9IFwiQ09OTkVDVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkRJU0NPTk5FQ1RcIl0gPSAxXSA9IFwiRElTQ09OTkVDVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkVWRU5UXCJdID0gMl0gPSBcIkVWRU5UXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQUNLXCJdID0gM10gPSBcIkFDS1wiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkNPTk5FQ1RfRVJST1JcIl0gPSA0XSA9IFwiQ09OTkVDVF9FUlJPUlwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkJJTkFSWV9FVkVOVFwiXSA9IDVdID0gXCJCSU5BUllfRVZFTlRcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJCSU5BUllfQUNLXCJdID0gNl0gPSBcIkJJTkFSWV9BQ0tcIjtcbn0pKFBhY2tldFR5cGUgfHwgKFBhY2tldFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBBIHNvY2tldC5pbyBFbmNvZGVyIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBFbmNvZGVyIHtcbiAgICAvKipcbiAgICAgKiBFbmNvZGVyIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSByZXBsYWNlciAtIGN1c3RvbSByZXBsYWNlciB0byBwYXNzIGRvd24gdG8gSlNPTi5wYXJzZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlcGxhY2VyKSB7XG4gICAgICAgIHRoaXMucmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlIGEgcGFja2V0IGFzIGEgc2luZ2xlIHN0cmluZyBpZiBub24tYmluYXJ5LCBvciBhcyBhXG4gICAgICogYnVmZmVyIHNlcXVlbmNlLCBkZXBlbmRpbmcgb24gcGFja2V0IHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gcGFja2V0IG9iamVjdFxuICAgICAqL1xuICAgIGVuY29kZShvYmopIHtcbiAgICAgICAgaWYgKG9iai50eXBlID09PSBQYWNrZXRUeXBlLkVWRU5UIHx8IG9iai50eXBlID09PSBQYWNrZXRUeXBlLkFDSykge1xuICAgICAgICAgICAgaWYgKGhhc0JpbmFyeShvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlQXNCaW5hcnkoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5FVkVOVFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBQYWNrZXRUeXBlLkJJTkFSWV9BQ0ssXG4gICAgICAgICAgICAgICAgICAgIG5zcDogb2JqLm5zcCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogb2JqLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBvYmouaWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0aGlzLmVuY29kZUFzU3RyaW5nKG9iaildO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGUgcGFja2V0IGFzIHN0cmluZy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc1N0cmluZyhvYmopIHtcbiAgICAgICAgLy8gZmlyc3QgaXMgdHlwZVxuICAgICAgICBsZXQgc3RyID0gXCJcIiArIG9iai50eXBlO1xuICAgICAgICAvLyBhdHRhY2htZW50cyBpZiB3ZSBoYXZlIHRoZW1cbiAgICAgICAgaWYgKG9iai50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgc3RyICs9IG9iai5hdHRhY2htZW50cyArIFwiLVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBuYW1lc3BhY2Ugb3RoZXIgdGhhbiBgL2BcbiAgICAgICAgLy8gd2UgYXBwZW5kIGl0IGZvbGxvd2VkIGJ5IGEgY29tbWEgYCxgXG4gICAgICAgIGlmIChvYmoubnNwICYmIFwiL1wiICE9PSBvYmoubnNwKSB7XG4gICAgICAgICAgICBzdHIgKz0gb2JqLm5zcCArIFwiLFwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IHRoZSBpZFxuICAgICAgICBpZiAobnVsbCAhPSBvYmouaWQpIHtcbiAgICAgICAgICAgIHN0ciArPSBvYmouaWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8ganNvbiBkYXRhXG4gICAgICAgIGlmIChudWxsICE9IG9iai5kYXRhKSB7XG4gICAgICAgICAgICBzdHIgKz0gSlNPTi5zdHJpbmdpZnkob2JqLmRhdGEsIHRoaXMucmVwbGFjZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBwYWNrZXQgYXMgJ2J1ZmZlciBzZXF1ZW5jZScgYnkgcmVtb3ZpbmcgYmxvYnMsIGFuZFxuICAgICAqIGRlY29uc3RydWN0aW5nIHBhY2tldCBpbnRvIG9iamVjdCB3aXRoIHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBhIGxpc3Qgb2YgYnVmZmVycy5cbiAgICAgKi9cbiAgICBlbmNvZGVBc0JpbmFyeShvYmopIHtcbiAgICAgICAgY29uc3QgZGVjb25zdHJ1Y3Rpb24gPSBkZWNvbnN0cnVjdFBhY2tldChvYmopO1xuICAgICAgICBjb25zdCBwYWNrID0gdGhpcy5lbmNvZGVBc1N0cmluZyhkZWNvbnN0cnVjdGlvbi5wYWNrZXQpO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZGVjb25zdHJ1Y3Rpb24uYnVmZmVycztcbiAgICAgICAgYnVmZmVycy51bnNoaWZ0KHBhY2spOyAvLyBhZGQgcGFja2V0IGluZm8gdG8gYmVnaW5uaW5nIG9mIGRhdGEgbGlzdFxuICAgICAgICByZXR1cm4gYnVmZmVyczsgLy8gd3JpdGUgYWxsIHRoZSBidWZmZXJzXG4gICAgfVxufVxuLy8gc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MTEyODEvY2hlY2staWYtYS12YWx1ZS1pcy1hbi1vYmplY3QtaW4tamF2YXNjcmlwdFxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbn1cbi8qKlxuICogQSBzb2NrZXQuaW8gRGVjb2RlciBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZGVjb2RlclxuICovXG5leHBvcnQgY2xhc3MgRGVjb2RlciBleHRlbmRzIEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIERlY29kZXIgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJldml2ZXIgLSBjdXN0b20gcmV2aXZlciB0byBwYXNzIGRvd24gdG8gSlNPTi5zdHJpbmdpZnlcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZXZpdmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmV2aXZlciA9IHJldml2ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY29kZXMgYW4gZW5jb2RlZCBwYWNrZXQgc3RyaW5nIGludG8gcGFja2V0IEpTT04uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqIC0gZW5jb2RlZCBwYWNrZXRcbiAgICAgKi9cbiAgICBhZGQob2JqKSB7XG4gICAgICAgIGxldCBwYWNrZXQ7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ290IHBsYWludGV4dCBkYXRhIHdoZW4gcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZXQgPSB0aGlzLmRlY29kZVN0cmluZyhvYmopO1xuICAgICAgICAgICAgY29uc3QgaXNCaW5hcnlFdmVudCA9IHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVDtcbiAgICAgICAgICAgIGlmIChpc0JpbmFyeUV2ZW50IHx8IHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgICAgICAgICBwYWNrZXQudHlwZSA9IGlzQmluYXJ5RXZlbnQgPyBQYWNrZXRUeXBlLkVWRU5UIDogUGFja2V0VHlwZS5BQ0s7XG4gICAgICAgICAgICAgICAgLy8gYmluYXJ5IHBhY2tldCdzIGpzb25cbiAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBuZXcgQmluYXJ5UmVjb25zdHJ1Y3RvcihwYWNrZXQpO1xuICAgICAgICAgICAgICAgIC8vIG5vIGF0dGFjaG1lbnRzLCBsYWJlbGVkIGJpbmFyeSBidXQgbm8gYmluYXJ5IGRhdGEgdG8gZm9sbG93XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC5hdHRhY2htZW50cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm9uLWJpbmFyeSBmdWxsIHBhY2tldFxuICAgICAgICAgICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImRlY29kZWRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0JpbmFyeShvYmopIHx8IG9iai5iYXNlNjQpIHtcbiAgICAgICAgICAgIC8vIHJhdyBiaW5hcnkgZGF0YVxuICAgICAgICAgICAgaWYgKCF0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnb3QgYmluYXJ5IGRhdGEgd2hlbiBub3QgcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWNrZXQgPSB0aGlzLnJlY29uc3RydWN0b3IudGFrZUJpbmFyeURhdGEob2JqKTtcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY2VpdmVkIGZpbmFsIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIiArIG9iaik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlIGEgcGFja2V0IFN0cmluZyAoSlNPTiBkYXRhKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAgICAqIEByZXR1cm4ge09iamVjdH0gcGFja2V0XG4gICAgICovXG4gICAgZGVjb2RlU3RyaW5nKHN0cikge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIC8vIGxvb2sgdXAgdHlwZVxuICAgICAgICBjb25zdCBwID0ge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyKHN0ci5jaGFyQXQoMCkpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoUGFja2V0VHlwZVtwLnR5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVua25vd24gcGFja2V0IHR5cGUgXCIgKyBwLnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAgYXR0YWNobWVudHMgaWYgdHlwZSBiaW5hcnlcbiAgICAgICAgaWYgKHAudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfRVZFTlQgfHxcbiAgICAgICAgICAgIHAudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfQUNLKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKHN0ci5jaGFyQXQoKytpKSAhPT0gXCItXCIgJiYgaSAhPSBzdHIubGVuZ3RoKSB7IH1cbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IHN0ci5zdWJzdHJpbmcoc3RhcnQsIGkpO1xuICAgICAgICAgICAgaWYgKGJ1ZiAhPSBOdW1iZXIoYnVmKSB8fCBzdHIuY2hhckF0KGkpICE9PSBcIi1cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgYXR0YWNobWVudHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwLmF0dGFjaG1lbnRzID0gTnVtYmVyKGJ1Zik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBuYW1lc3BhY2UgKGlmIGFueSlcbiAgICAgICAgaWYgKFwiL1wiID09PSBzdHIuY2hhckF0KGkgKyAxKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlICgrK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAoXCIsXCIgPT09IGMpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAubnNwID0gc3RyLnN1YnN0cmluZyhzdGFydCwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwLm5zcCA9IFwiL1wiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAgaWRcbiAgICAgICAgY29uc3QgbmV4dCA9IHN0ci5jaGFyQXQoaSArIDEpO1xuICAgICAgICBpZiAoXCJcIiAhPT0gbmV4dCAmJiBOdW1iZXIobmV4dCkgPT0gbmV4dCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlICgrK2kpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBjIHx8IE51bWJlcihjKSAhPSBjKSB7XG4gICAgICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpID09PSBzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAuaWQgPSBOdW1iZXIoc3RyLnN1YnN0cmluZyhzdGFydCwgaSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIGpzb24gZGF0YVxuICAgICAgICBpZiAoc3RyLmNoYXJBdCgrK2kpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gdGhpcy50cnlQYXJzZShzdHIuc3Vic3RyKGkpKTtcbiAgICAgICAgICAgIGlmIChEZWNvZGVyLmlzUGF5bG9hZFZhbGlkKHAudHlwZSwgcGF5bG9hZCkpIHtcbiAgICAgICAgICAgICAgICBwLmRhdGEgPSBwYXlsb2FkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwYXlsb2FkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICB0cnlQYXJzZShzdHIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0ciwgdGhpcy5yZXZpdmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBpc1BheWxvYWRWYWxpZCh0eXBlLCBwYXlsb2FkKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkNPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHBheWxvYWQpO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkRJU0NPTk5FQ1Q6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUX0VSUk9SOlxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJzdHJpbmdcIiB8fCBpc09iamVjdChwYXlsb2FkKTtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5FVkVOVDpcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5CSU5BUllfRVZFTlQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChBcnJheS5pc0FycmF5KHBheWxvYWQpICYmXG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgcGF5bG9hZFswXSA9PT0gXCJudW1iZXJcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBwYXlsb2FkWzBdID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVTRVJWRURfRVZFTlRTLmluZGV4T2YocGF5bG9hZFswXSkgPT09IC0xKSkpO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkFDSzpcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5CSU5BUllfQUNLOlxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlYWxsb2NhdGVzIGEgcGFyc2VyJ3MgcmVzb3VyY2VzXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3RvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgbWFuYWdlciBvZiBhIGJpbmFyeSBldmVudCdzICdidWZmZXIgc2VxdWVuY2UnLiBTaG91bGRcbiAqIGJlIGNvbnN0cnVjdGVkIHdoZW5ldmVyIGEgcGFja2V0IG9mIHR5cGUgQklOQVJZX0VWRU5UIGlzXG4gKiBkZWNvZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEByZXR1cm4ge0JpbmFyeVJlY29uc3RydWN0b3J9IGluaXRpYWxpemVkIHJlY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgQmluYXJ5UmVjb25zdHJ1Y3RvciB7XG4gICAgY29uc3RydWN0b3IocGFja2V0KSB7XG4gICAgICAgIHRoaXMucGFja2V0ID0gcGFja2V0O1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5yZWNvblBhY2sgPSBwYWNrZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiBiaW5hcnkgZGF0YSByZWNlaXZlZCBmcm9tIGNvbm5lY3Rpb25cbiAgICAgKiBhZnRlciBhIEJJTkFSWV9FVkVOVCBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0J1ZmZlciB8IEFycmF5QnVmZmVyfSBiaW5EYXRhIC0gdGhlIHJhdyBiaW5hcnkgZGF0YSByZWNlaXZlZFxuICAgICAqIEByZXR1cm4ge251bGwgfCBPYmplY3R9IHJldHVybnMgbnVsbCBpZiBtb3JlIGJpbmFyeSBkYXRhIGlzIGV4cGVjdGVkIG9yXG4gICAgICogICBhIHJlY29uc3RydWN0ZWQgcGFja2V0IG9iamVjdCBpZiBhbGwgYnVmZmVycyBoYXZlIGJlZW4gcmVjZWl2ZWQuXG4gICAgICovXG4gICAgdGFrZUJpbmFyeURhdGEoYmluRGF0YSkge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChiaW5EYXRhKTtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IHRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAvLyBkb25lIHdpdGggYnVmZmVyIGxpc3RcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IHJlY29uc3RydWN0UGFja2V0KHRoaXMucmVjb25QYWNrLCB0aGlzLmJ1ZmZlcnMpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gcGFja2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbnMgdXAgYmluYXJ5IHBhY2tldCByZWNvbnN0cnVjdGlvbiB2YXJpYWJsZXMuXG4gICAgICovXG4gICAgZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZWNvblBhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gb24ob2JqLCBldiwgZm4pIHtcbiAgICBvYmoub24oZXYsIGZuKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3ViRGVzdHJveSgpIHtcbiAgICAgICAgb2JqLm9mZihldiwgZm4pO1xuICAgIH07XG59XG4iLCJpbXBvcnQgeyBQYWNrZXRUeXBlIH0gZnJvbSBcInNvY2tldC5pby1wYXJzZXJcIjtcbmltcG9ydCB7IG9uIH0gZnJvbSBcIi4vb24uanNcIjtcbmltcG9ydCB7IEVtaXR0ZXIsIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbi8qKlxuICogSW50ZXJuYWwgZXZlbnRzLlxuICogVGhlc2UgZXZlbnRzIGNhbid0IGJlIGVtaXR0ZWQgYnkgdGhlIHVzZXIuXG4gKi9cbmNvbnN0IFJFU0VSVkVEX0VWRU5UUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIGNvbm5lY3Q6IDEsXG4gICAgY29ubmVjdF9lcnJvcjogMSxcbiAgICBkaXNjb25uZWN0OiAxLFxuICAgIGRpc2Nvbm5lY3Rpbmc6IDEsXG4gICAgLy8gRXZlbnRFbWl0dGVyIHJlc2VydmVkIGV2ZW50czogaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9ldmVudHMuaHRtbCNldmVudHNfZXZlbnRfbmV3bGlzdGVuZXJcbiAgICBuZXdMaXN0ZW5lcjogMSxcbiAgICByZW1vdmVMaXN0ZW5lcjogMSxcbn0pO1xuLyoqXG4gKiBBIFNvY2tldCBpcyB0aGUgZnVuZGFtZW50YWwgY2xhc3MgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIHNlcnZlci5cbiAqXG4gKiBBIFNvY2tldCBiZWxvbmdzIHRvIGEgY2VydGFpbiBOYW1lc3BhY2UgKGJ5IGRlZmF1bHQgLykgYW5kIHVzZXMgYW4gdW5kZXJseWluZyB7QGxpbmsgTWFuYWdlcn0gdG8gY29tbXVuaWNhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHNvY2tldCA9IGlvKCk7XG4gKlxuICogc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKFwiY29ubmVjdGVkXCIpO1xuICogfSk7XG4gKlxuICogLy8gc2VuZCBhbiBldmVudCB0byB0aGUgc2VydmVyXG4gKiBzb2NrZXQuZW1pdChcImZvb1wiLCBcImJhclwiKTtcbiAqXG4gKiBzb2NrZXQub24oXCJmb29iYXJcIiwgKCkgPT4ge1xuICogICAvLyBhbiBldmVudCB3YXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyXG4gKiB9KTtcbiAqXG4gKiAvLyB1cG9uIGRpc2Nvbm5lY3Rpb25cbiAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICogICBjb25zb2xlLmxvZyhgZGlzY29ubmVjdGVkIGR1ZSB0byAke3JlYXNvbn1gKTtcbiAqIH0pO1xuICovXG5leHBvcnQgY2xhc3MgU29ja2V0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogYFNvY2tldGAgY29uc3RydWN0b3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaW8sIG5zcCwgb3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgc29ja2V0IGlzIGN1cnJlbnRseSBjb25uZWN0ZWQgdG8gdGhlIHNlcnZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgICAgICpcbiAgICAgICAgICogc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmNvbm5lY3RlZCk7IC8vIHRydWVcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5jb25uZWN0ZWQpOyAvLyBmYWxzZVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBjb25uZWN0aW9uIHN0YXRlIHdhcyByZWNvdmVyZWQgYWZ0ZXIgYSB0ZW1wb3JhcnkgZGlzY29ubmVjdGlvbi4gSW4gdGhhdCBjYXNlLCBhbnkgbWlzc2VkIHBhY2tldHMgd2lsbFxuICAgICAgICAgKiBiZSB0cmFuc21pdHRlZCBieSB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWNvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBmb3IgcGFja2V0cyByZWNlaXZlZCBiZWZvcmUgdGhlIENPTk5FQ1QgcGFja2V0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciBmb3IgcGFja2V0cyB0aGF0IHdpbGwgYmUgc2VudCBvbmNlIHRoZSBzb2NrZXQgaXMgY29ubmVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBxdWV1ZSBvZiBwYWNrZXRzIHRvIGJlIHNlbnQgd2l0aCByZXRyeSBpbiBjYXNlIG9mIGZhaWx1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFBhY2tldHMgYXJlIHNlbnQgb25lIGJ5IG9uZSwgZWFjaCB3YWl0aW5nIGZvciB0aGUgc2VydmVyIGFja25vd2xlZGdlbWVudCwgaW4gb3JkZXIgdG8gZ3VhcmFudGVlIHRoZSBkZWxpdmVyeSBvcmRlci5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlcXVlbmNlIHRvIGdlbmVyYXRlIHRoZSBJRCBvZiB0aGUge0BsaW5rIFF1ZXVlZFBhY2tldH0uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9xdWV1ZVNlcSA9IDA7XG4gICAgICAgIHRoaXMuaWRzID0gMDtcbiAgICAgICAgdGhpcy5hY2tzID0ge307XG4gICAgICAgIHRoaXMuZmxhZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5pbyA9IGlvO1xuICAgICAgICB0aGlzLm5zcCA9IG5zcDtcbiAgICAgICAgaWYgKG9wdHMgJiYgb3B0cy5hdXRoKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGggPSBvcHRzLmF1dGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMpO1xuICAgICAgICBpZiAodGhpcy5pby5fYXV0b0Nvbm5lY3QpXG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgc29ja2V0IGlzIGN1cnJlbnRseSBkaXNjb25uZWN0ZWRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmRpc2Nvbm5lY3RlZCk7IC8vIGZhbHNlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5kaXNjb25uZWN0ZWQpOyAvLyB0cnVlXG4gICAgICogfSk7XG4gICAgICovXG4gICAgZ2V0IGRpc2Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNvbm5lY3RlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIG9wZW4sIGNsb3NlIGFuZCBwYWNrZXQgZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN1YkV2ZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3VicylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaW8gPSB0aGlzLmlvO1xuICAgICAgICB0aGlzLnN1YnMgPSBbXG4gICAgICAgICAgICBvbihpbywgXCJvcGVuXCIsIHRoaXMub25vcGVuLmJpbmQodGhpcykpLFxuICAgICAgICAgICAgb24oaW8sIFwicGFja2V0XCIsIHRoaXMub25wYWNrZXQuYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbihpbywgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbihpbywgXCJjbG9zZVwiLCB0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIFNvY2tldCB3aWxsIHRyeSB0byByZWNvbm5lY3Qgd2hlbiBpdHMgTWFuYWdlciBjb25uZWN0cyBvciByZWNvbm5lY3RzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coc29ja2V0LmFjdGl2ZSk7IC8vIHRydWVcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICAgICAqICAgaWYgKHJlYXNvbiA9PT0gXCJpbyBzZXJ2ZXIgZGlzY29ubmVjdFwiKSB7XG4gICAgICogICAgIC8vIHRoZSBkaXNjb25uZWN0aW9uIHdhcyBpbml0aWF0ZWQgYnkgdGhlIHNlcnZlciwgeW91IG5lZWQgdG8gbWFudWFsbHkgcmVjb25uZWN0XG4gICAgICogICAgIGNvbnNvbGUubG9nKHNvY2tldC5hY3RpdmUpOyAvLyBmYWxzZVxuICAgICAqICAgfVxuICAgICAqICAgLy8gZWxzZSB0aGUgc29ja2V0IHdpbGwgYXV0b21hdGljYWxseSB0cnkgdG8gcmVjb25uZWN0XG4gICAgICogICBjb25zb2xlLmxvZyhzb2NrZXQuYWN0aXZlKTsgLy8gdHJ1ZVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGdldCBhY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuc3VicztcbiAgICB9XG4gICAgLyoqXG4gICAgICogXCJPcGVuc1wiIHRoZSBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNvY2tldCA9IGlvKHtcbiAgICAgKiAgIGF1dG9Db25uZWN0OiBmYWxzZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc29ja2V0LmNvbm5lY3QoKTtcbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgdGhpcy5zdWJFdmVudHMoKTtcbiAgICAgICAgaWYgKCF0aGlzLmlvW1wiX3JlY29ubmVjdGluZ1wiXSlcbiAgICAgICAgICAgIHRoaXMuaW8ub3BlbigpOyAvLyBlbnN1cmUgb3BlblxuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMuaW8uX3JlYWR5U3RhdGUpXG4gICAgICAgICAgICB0aGlzLm9ub3BlbigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIHtAbGluayBjb25uZWN0KCl9LlxuICAgICAqL1xuICAgIG9wZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBgbWVzc2FnZWAgZXZlbnQuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtaW1pY3MgdGhlIFdlYlNvY2tldC5zZW5kKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViU29ja2V0L3NlbmRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LnNlbmQoXCJoZWxsb1wiKTtcbiAgICAgKlxuICAgICAqIC8vIHRoaXMgaXMgZXF1aXZhbGVudCB0b1xuICAgICAqIHNvY2tldC5lbWl0KFwibWVzc2FnZVwiLCBcImhlbGxvXCIpO1xuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgc2VuZCguLi5hcmdzKSB7XG4gICAgICAgIGFyZ3MudW5zaGlmdChcIm1lc3NhZ2VcIik7XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIGBlbWl0YC5cbiAgICAgKiBJZiB0aGUgZXZlbnQgaXMgaW4gYGV2ZW50c2AsIGl0J3MgZW1pdHRlZCBub3JtYWxseS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LmVtaXQoXCJoZWxsb1wiLCBcIndvcmxkXCIpO1xuICAgICAqXG4gICAgICogLy8gYWxsIHNlcmlhbGl6YWJsZSBkYXRhc3RydWN0dXJlcyBhcmUgc3VwcG9ydGVkIChubyBuZWVkIHRvIGNhbGwgSlNPTi5zdHJpbmdpZnkpXG4gICAgICogc29ja2V0LmVtaXQoXCJoZWxsb1wiLCAxLCBcIjJcIiwgeyAzOiBbXCI0XCJdLCA1OiBVaW50OEFycmF5LmZyb20oWzZdKSB9KTtcbiAgICAgKlxuICAgICAqIC8vIHdpdGggYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlclxuICAgICAqIHNvY2tldC5lbWl0KFwiaGVsbG9cIiwgXCJ3b3JsZFwiLCAodmFsKSA9PiB7XG4gICAgICogICAvLyAuLi5cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIGVtaXQoZXYsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKFJFU0VSVkVEX0VWRU5UUy5oYXNPd25Qcm9wZXJ0eShldikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCInICsgZXYudG9TdHJpbmcoKSArICdcIiBpcyBhIHJlc2VydmVkIGV2ZW50IG5hbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLnVuc2hpZnQoZXYpO1xuICAgICAgICBpZiAodGhpcy5fb3B0cy5yZXRyaWVzICYmICF0aGlzLmZsYWdzLmZyb21RdWV1ZSAmJiAhdGhpcy5mbGFncy52b2xhdGlsZSkge1xuICAgICAgICAgICAgdGhpcy5fYWRkVG9RdWV1ZShhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHtcbiAgICAgICAgICAgIHR5cGU6IFBhY2tldFR5cGUuRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICB9O1xuICAgICAgICBwYWNrZXQub3B0aW9ucyA9IHt9O1xuICAgICAgICBwYWNrZXQub3B0aW9ucy5jb21wcmVzcyA9IHRoaXMuZmxhZ3MuY29tcHJlc3MgIT09IGZhbHNlO1xuICAgICAgICAvLyBldmVudCBhY2sgY2FsbGJhY2tcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkcysrO1xuICAgICAgICAgICAgY29uc3QgYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyQWNrQ2FsbGJhY2soaWQsIGFjayk7XG4gICAgICAgICAgICBwYWNrZXQuaWQgPSBpZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1RyYW5zcG9ydFdyaXRhYmxlID0gdGhpcy5pby5lbmdpbmUgJiZcbiAgICAgICAgICAgIHRoaXMuaW8uZW5naW5lLnRyYW5zcG9ydCAmJlxuICAgICAgICAgICAgdGhpcy5pby5lbmdpbmUudHJhbnNwb3J0LndyaXRhYmxlO1xuICAgICAgICBjb25zdCBkaXNjYXJkUGFja2V0ID0gdGhpcy5mbGFncy52b2xhdGlsZSAmJiAoIWlzVHJhbnNwb3J0V3JpdGFibGUgfHwgIXRoaXMuY29ubmVjdGVkKTtcbiAgICAgICAgaWYgKGRpc2NhcmRQYWNrZXQpIHtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyhwYWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGFncyA9IHt9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVnaXN0ZXJBY2tDYWxsYmFjayhpZCwgYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IChfYSA9IHRoaXMuZmxhZ3MudGltZW91dCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5fb3B0cy5hY2tUaW1lb3V0O1xuICAgICAgICBpZiAodGltZW91dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmFja3NbaWRdID0gYWNrO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgdGltZXIgPSB0aGlzLmlvLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY2tzW2lkXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZW5kQnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VuZEJ1ZmZlcltpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kQnVmZmVyLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2suY2FsbCh0aGlzLCBuZXcgRXJyb3IoXCJvcGVyYXRpb24gaGFzIHRpbWVkIG91dFwiKSk7XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICB0aGlzLmFja3NbaWRdID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMuaW8uY2xlYXJUaW1lb3V0Rm4odGltZXIpO1xuICAgICAgICAgICAgYWNrLmFwcGx5KHRoaXMsIFtudWxsLCAuLi5hcmdzXSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IGFuZCB3YWl0cyBmb3IgYW4gYWNrbm93bGVkZ2VtZW50XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHdpdGhvdXQgdGltZW91dFxuICAgICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc29ja2V0LmVtaXRXaXRoQWNrKFwiaGVsbG9cIiwgXCJ3b3JsZFwiKTtcbiAgICAgKlxuICAgICAqIC8vIHdpdGggYSBzcGVjaWZpYyB0aW1lb3V0XG4gICAgICogdHJ5IHtcbiAgICAgKiAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc29ja2V0LnRpbWVvdXQoMTAwMCkuZW1pdFdpdGhBY2soXCJoZWxsb1wiLCBcIndvcmxkXCIpO1xuICAgICAqIH0gY2F0Y2ggKGVycikge1xuICAgICAqICAgLy8gdGhlIHNlcnZlciBkaWQgbm90IGFja25vd2xlZGdlIHRoZSBldmVudCBpbiB0aGUgZ2l2ZW4gZGVsYXlcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEgUHJvbWlzZSB0aGF0IHdpbGwgYmUgZnVsZmlsbGVkIHdoZW4gdGhlIHNlcnZlciBhY2tub3dsZWRnZXMgdGhlIGV2ZW50XG4gICAgICovXG4gICAgZW1pdFdpdGhBY2soZXYsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gdGhlIHRpbWVvdXQgZmxhZyBpcyBvcHRpb25hbFxuICAgICAgICBjb25zdCB3aXRoRXJyID0gdGhpcy5mbGFncy50aW1lb3V0ICE9PSB1bmRlZmluZWQgfHwgdGhpcy5fb3B0cy5hY2tUaW1lb3V0ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBhcmdzLnB1c2goKGFyZzEsIGFyZzIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAod2l0aEVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnMSA/IHJlamVjdChhcmcxKSA6IHJlc29sdmUoYXJnMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShhcmcxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChldiwgLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHBhY2tldCB0byB0aGUgcXVldWUuXG4gICAgICogQHBhcmFtIGFyZ3NcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hZGRUb1F1ZXVlKGFyZ3MpIHtcbiAgICAgICAgbGV0IGFjaztcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWNrZXQgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5fcXVldWVTZXErKyxcbiAgICAgICAgICAgIHRyeUNvdW50OiAwLFxuICAgICAgICAgICAgcGVuZGluZzogZmFsc2UsXG4gICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgZmxhZ3M6IE9iamVjdC5hc3NpZ24oeyBmcm9tUXVldWU6IHRydWUgfSwgdGhpcy5mbGFncyksXG4gICAgICAgIH07XG4gICAgICAgIGFyZ3MucHVzaCgoZXJyLCAuLi5yZXNwb25zZUFyZ3MpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWNrZXQgIT09IHRoaXMuX3F1ZXVlWzBdKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIHBhY2tldCBoYXMgYWxyZWFkeSBiZWVuIGFja25vd2xlZGdlZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhc0Vycm9yID0gZXJyICE9PSBudWxsO1xuICAgICAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC50cnlDb3VudCA+IHRoaXMuX29wdHMucmV0cmllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGFjaykge1xuICAgICAgICAgICAgICAgICAgICBhY2sobnVsbCwgLi4ucmVzcG9uc2VBcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZXQucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RyYWluUXVldWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3F1ZXVlLnB1c2gocGFja2V0KTtcbiAgICAgICAgdGhpcy5fZHJhaW5RdWV1ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBmaXJzdCBwYWNrZXQgb2YgdGhlIHF1ZXVlLCBhbmQgd2FpdCBmb3IgYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gZm9yY2UgLSB3aGV0aGVyIHRvIHJlc2VuZCBhIHBhY2tldCB0aGF0IGhhcyBub3QgYmVlbiBhY2tub3dsZWRnZWQgeWV0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kcmFpblF1ZXVlKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCB8fCB0aGlzLl9xdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWNrZXQgPSB0aGlzLl9xdWV1ZVswXTtcbiAgICAgICAgaWYgKHBhY2tldC5wZW5kaW5nICYmICFmb3JjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhY2tldC5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgcGFja2V0LnRyeUNvdW50Kys7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBwYWNrZXQuZmxhZ3M7XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBwYWNrZXQuYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcGFja2V0KHBhY2tldCkge1xuICAgICAgICBwYWNrZXQubnNwID0gdGhpcy5uc3A7XG4gICAgICAgIHRoaXMuaW8uX3BhY2tldChwYWNrZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYG9wZW5gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbm9wZW4oKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5hdXRoID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5hdXRoKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZENvbm5lY3RQYWNrZXQoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRDb25uZWN0UGFja2V0KHRoaXMuYXV0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBDT05ORUNUIHBhY2tldCB0byBpbml0aWF0ZSB0aGUgU29ja2V0LklPIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NlbmRDb25uZWN0UGFja2V0KGRhdGEpIHtcbiAgICAgICAgdGhpcy5wYWNrZXQoe1xuICAgICAgICAgICAgdHlwZTogUGFja2V0VHlwZS5DT05ORUNULFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fcGlkXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKHsgcGlkOiB0aGlzLl9waWQsIG9mZnNldDogdGhpcy5fbGFzdE9mZnNldCB9LCBkYXRhKVxuICAgICAgICAgICAgICAgIDogZGF0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBvciBtYW5hZ2VyIGBlcnJvcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXJyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmVycm9yKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYGNsb3NlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWFzb25cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBkZWxldGUgdGhpcy5pZDtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkaXNjb25uZWN0XCIsIHJlYXNvbiwgZGVzY3JpcHRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCBzb2NrZXQgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25wYWNrZXQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IHNhbWVOYW1lc3BhY2UgPSBwYWNrZXQubnNwID09PSB0aGlzLm5zcDtcbiAgICAgICAgaWYgKCFzYW1lTmFtZXNwYWNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVDpcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0LmRhdGEgJiYgcGFja2V0LmRhdGEuc2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25jb25uZWN0KHBhY2tldC5kYXRhLnNpZCwgcGFja2V0LmRhdGEucGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdF9lcnJvclwiLCBuZXcgRXJyb3IoXCJJdCBzZWVtcyB5b3UgYXJlIHRyeWluZyB0byByZWFjaCBhIFNvY2tldC5JTyBzZXJ2ZXIgaW4gdjIueCB3aXRoIGEgdjMueCBjbGllbnQsIGJ1dCB0aGV5IGFyZSBub3QgY29tcGF0aWJsZSAobW9yZSBpbmZvcm1hdGlvbiBoZXJlOiBodHRwczovL3NvY2tldC5pby9kb2NzL3YzL21pZ3JhdGluZy1mcm9tLTIteC10by0zLTAvKVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkVWRU5UOlxuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVDpcbiAgICAgICAgICAgICAgICB0aGlzLm9uZXZlbnQocGFja2V0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5BQ0s6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0FDSzpcbiAgICAgICAgICAgICAgICB0aGlzLm9uYWNrKHBhY2tldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRElTQ09OTkVDVDpcbiAgICAgICAgICAgICAgICB0aGlzLm9uZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkNPTk5FQ1RfRVJST1I6XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKHBhY2tldC5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHBhY2tldC5kYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmV2ZW50KHBhY2tldCkge1xuICAgICAgICBjb25zdCBhcmdzID0gcGFja2V0LmRhdGEgfHwgW107XG4gICAgICAgIGlmIChudWxsICE9IHBhY2tldC5pZCkge1xuICAgICAgICAgICAgYXJncy5wdXNoKHRoaXMuYWNrKHBhY2tldC5pZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5lbWl0RXZlbnQoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIucHVzaChPYmplY3QuZnJlZXplKGFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbWl0RXZlbnQoYXJncykge1xuICAgICAgICBpZiAodGhpcy5fYW55TGlzdGVuZXJzICYmIHRoaXMuX2FueUxpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueUxpc3RlbmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdXBlci5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBpZiAodGhpcy5fcGlkICYmIGFyZ3MubGVuZ3RoICYmIHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RPZmZzZXQgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYW4gYWNrIGNhbGxiYWNrIHRvIGVtaXQgd2l0aCBhbiBldmVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYWNrKGlkKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgc2VudCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnQgZG91YmxlIGNhbGxiYWNrc1xuICAgICAgICAgICAgaWYgKHNlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc2VudCA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnBhY2tldCh7XG4gICAgICAgICAgICAgICAgdHlwZTogUGFja2V0VHlwZS5BQ0ssXG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgYWNrbm93bGVnZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmFjayhwYWNrZXQpIHtcbiAgICAgICAgY29uc3QgYWNrID0gdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY2spIHtcbiAgICAgICAgICAgIGFjay5hcHBseSh0aGlzLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gc2VydmVyIGNvbm5lY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY29ubmVjdChpZCwgcGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5yZWNvdmVyZWQgPSBwaWQgJiYgdGhpcy5fcGlkID09PSBwaWQ7XG4gICAgICAgIHRoaXMuX3BpZCA9IHBpZDsgLy8gZGVmaW5lZCBvbmx5IGlmIGNvbm5lY3Rpb24gc3RhdGUgcmVjb3ZlcnkgaXMgZW5hYmxlZFxuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdEJ1ZmZlcmVkKCk7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdFwiKTtcbiAgICAgICAgdGhpcy5fZHJhaW5RdWV1ZSh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdCBidWZmZXJlZCBldmVudHMgKHJlY2VpdmVkIGFuZCBlbWl0dGVkKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZW1pdEJ1ZmZlcmVkKCkge1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIuZm9yRWFjaCgoYXJncykgPT4gdGhpcy5lbWl0RXZlbnQoYXJncykpO1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyLmZvckVhY2goKHBhY2tldCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyhwYWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZEJ1ZmZlciA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzZXJ2ZXIgZGlzY29ubmVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25kaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5vbmNsb3NlKFwiaW8gc2VydmVyIGRpc2Nvbm5lY3RcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGZvcmNlZCBjbGllbnQvc2VydmVyIHNpZGUgZGlzY29ubmVjdGlvbnMsXG4gICAgICogdGhpcyBtZXRob2QgZW5zdXJlcyB0aGUgbWFuYWdlciBzdG9wcyB0cmFja2luZyB1cyBhbmRcbiAgICAgKiB0aGF0IHJlY29ubmVjdGlvbnMgZG9uJ3QgZ2V0IHRyaWdnZXJlZCBmb3IgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3Vicykge1xuICAgICAgICAgICAgLy8gY2xlYW4gc3Vic2NyaXB0aW9ucyB0byBhdm9pZCByZWNvbm5lY3Rpb25zXG4gICAgICAgICAgICB0aGlzLnN1YnMuZm9yRWFjaCgoc3ViRGVzdHJveSkgPT4gc3ViRGVzdHJveSgpKTtcbiAgICAgICAgICAgIHRoaXMuc3VicyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlvW1wiX2Rlc3Ryb3lcIl0odGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSBzb2NrZXQgbWFudWFsbHkuIEluIHRoYXQgY2FzZSwgdGhlIHNvY2tldCB3aWxsIG5vdCB0cnkgdG8gcmVjb25uZWN0LlxuICAgICAqXG4gICAgICogSWYgdGhpcyBpcyB0aGUgbGFzdCBhY3RpdmUgU29ja2V0IGluc3RhbmNlIG9mIHRoZSB7QGxpbmsgTWFuYWdlcn0sIHRoZSBsb3ctbGV2ZWwgY29ubmVjdGlvbiB3aWxsIGJlIGNsb3NlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICAgICAqICAgLy8gY29uc29sZS5sb2cocmVhc29uKTsgcHJpbnRzIFwiaW8gY2xpZW50IGRpc2Nvbm5lY3RcIlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc29ja2V0LmRpc2Nvbm5lY3QoKTtcbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5wYWNrZXQoeyB0eXBlOiBQYWNrZXRUeXBlLkRJU0NPTk5FQ1QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHNvY2tldCBmcm9tIHBvb2xcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgLy8gZmlyZSBldmVudHNcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcImlvIGNsaWVudCBkaXNjb25uZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIGRpc2Nvbm5lY3QoKX0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb21wcmVzcyBmbGFnLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQuY29tcHJlc3MoZmFsc2UpLmVtaXQoXCJoZWxsb1wiKTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb21wcmVzcyAtIGlmIGB0cnVlYCwgY29tcHJlc3NlcyB0aGUgc2VuZGluZyBkYXRhXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgY29tcHJlc3MoY29tcHJlc3MpIHtcbiAgICAgICAgdGhpcy5mbGFncy5jb21wcmVzcyA9IGNvbXByZXNzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1vZGlmaWVyIGZvciBhIHN1YnNlcXVlbnQgZXZlbnQgZW1pc3Npb24gdGhhdCB0aGUgZXZlbnQgbWVzc2FnZSB3aWxsIGJlIGRyb3BwZWQgd2hlbiB0aGlzIHNvY2tldCBpcyBub3RcbiAgICAgKiByZWFkeSB0byBzZW5kIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQudm9sYXRpbGUuZW1pdChcImhlbGxvXCIpOyAvLyB0aGUgc2VydmVyIG1heSBvciBtYXkgbm90IHJlY2VpdmUgaXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKi9cbiAgICBnZXQgdm9sYXRpbGUoKSB7XG4gICAgICAgIHRoaXMuZmxhZ3Mudm9sYXRpbGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1vZGlmaWVyIGZvciBhIHN1YnNlcXVlbnQgZXZlbnQgZW1pc3Npb24gdGhhdCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCBhbiBlcnJvciB3aGVuIHRoZVxuICAgICAqIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHdpdGhvdXQgYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlcjpcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LnRpbWVvdXQoNTAwMCkuZW1pdChcIm15LWV2ZW50XCIsIChlcnIpID0+IHtcbiAgICAgKiAgIGlmIChlcnIpIHtcbiAgICAgKiAgICAgLy8gdGhlIHNlcnZlciBkaWQgbm90IGFja25vd2xlZGdlIHRoZSBldmVudCBpbiB0aGUgZ2l2ZW4gZGVsYXlcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKi9cbiAgICB0aW1lb3V0KHRpbWVvdXQpIHtcbiAgICAgICAgdGhpcy5mbGFncy50aW1lb3V0ID0gdGltZW91dDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0Lm9uQW55KChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYGdvdCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgb25BbnkobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5wcmVwZW5kQW55KChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYGdvdCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgcHJlcGVuZEFueShsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYXRjaEFsbExpc3RlbmVyID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgZ290IGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uQW55KGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gcmVtb3ZlIGEgc3BlY2lmaWMgbGlzdGVuZXJcbiAgICAgKiBzb2NrZXQub2ZmQW55KGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gb3IgcmVtb3ZlIGFsbCBsaXN0ZW5lcnNcbiAgICAgKiBzb2NrZXQub2ZmQW55KCk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBvZmZBbnkobGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hbnlMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdGhhdCBhcmUgbGlzdGVuaW5nIGZvciBhbnkgZXZlbnQgdGhhdCBpcyBzcGVjaWZpZWQuIFRoaXMgYXJyYXkgY2FuIGJlIG1hbmlwdWxhdGVkLFxuICAgICAqIGUuZy4gdG8gcmVtb3ZlIGxpc3RlbmVycy5cbiAgICAgKi9cbiAgICBsaXN0ZW5lcnNBbnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIE5vdGU6IGFja25vd2xlZGdlbWVudHMgc2VudCB0byB0aGUgc2VydmVyIGFyZSBub3QgaW5jbHVkZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5vbkFueU91dGdvaW5nKChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYHNlbnQgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIG9uQW55T3V0Z29pbmcobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgPSB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyB8fCBbXTtcbiAgICAgICAgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBOb3RlOiBhY2tub3dsZWRnZW1lbnRzIHNlbnQgdG8gdGhlIHNlcnZlciBhcmUgbm90IGluY2x1ZGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQucHJlcGVuZEFueU91dGdvaW5nKChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coYHNlbnQgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIHByZXBlbmRBbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjYXRjaEFsbExpc3RlbmVyID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc2VudCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHNvY2tldC5vbkFueU91dGdvaW5nKGNhdGNoQWxsTGlzdGVuZXIpO1xuICAgICAqXG4gICAgICogLy8gcmVtb3ZlIGEgc3BlY2lmaWMgbGlzdGVuZXJcbiAgICAgKiBzb2NrZXQub2ZmQW55T3V0Z29pbmcoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyBvciByZW1vdmUgYWxsIGxpc3RlbmVyc1xuICAgICAqIHNvY2tldC5vZmZBbnlPdXRnb2luZygpO1xuICAgICAqXG4gICAgICogQHBhcmFtIFtsaXN0ZW5lcl0gLSB0aGUgY2F0Y2gtYWxsIGxpc3RlbmVyIChvcHRpb25hbClcbiAgICAgKi9cbiAgICBvZmZBbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0aGF0IGFyZSBsaXN0ZW5pbmcgZm9yIGFueSBldmVudCB0aGF0IGlzIHNwZWNpZmllZC4gVGhpcyBhcnJheSBjYW4gYmUgbWFuaXB1bGF0ZWQsXG4gICAgICogZS5nLiB0byByZW1vdmUgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGxpc3RlbmVyc0FueU91dGdvaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmeSB0aGUgbGlzdGVuZXJzIGZvciBlYWNoIHBhY2tldCBzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHBhY2tldCkge1xuICAgICAgICBpZiAodGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgJiYgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIEluaXRpYWxpemUgYmFja29mZiB0aW1lciB3aXRoIGBvcHRzYC5cbiAqXG4gKiAtIGBtaW5gIGluaXRpYWwgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgWzEwMF1cbiAqIC0gYG1heGAgbWF4IHRpbWVvdXQgWzEwMDAwXVxuICogLSBgaml0dGVyYCBbMF1cbiAqIC0gYGZhY3RvcmAgWzJdXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCYWNrb2ZmKG9wdHMpIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICB0aGlzLm1zID0gb3B0cy5taW4gfHwgMTAwO1xuICAgIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMTAwMDA7XG4gICAgdGhpcy5mYWN0b3IgPSBvcHRzLmZhY3RvciB8fCAyO1xuICAgIHRoaXMuaml0dGVyID0gb3B0cy5qaXR0ZXIgPiAwICYmIG9wdHMuaml0dGVyIDw9IDEgPyBvcHRzLmppdHRlciA6IDA7XG4gICAgdGhpcy5hdHRlbXB0cyA9IDA7XG59XG4vKipcbiAqIFJldHVybiB0aGUgYmFja29mZiBkdXJhdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbXMgPSB0aGlzLm1zICogTWF0aC5wb3codGhpcy5mYWN0b3IsIHRoaXMuYXR0ZW1wdHMrKyk7XG4gICAgaWYgKHRoaXMuaml0dGVyKSB7XG4gICAgICAgIHZhciByYW5kID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgdmFyIGRldmlhdGlvbiA9IE1hdGguZmxvb3IocmFuZCAqIHRoaXMuaml0dGVyICogbXMpO1xuICAgICAgICBtcyA9IChNYXRoLmZsb29yKHJhbmQgKiAxMCkgJiAxKSA9PSAwID8gbXMgLSBkZXZpYXRpb24gOiBtcyArIGRldmlhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKG1zLCB0aGlzLm1heCkgfCAwO1xufTtcbi8qKlxuICogUmVzZXQgdGhlIG51bWJlciBvZiBhdHRlbXB0cy5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmF0dGVtcHRzID0gMDtcbn07XG4vKipcbiAqIFNldCB0aGUgbWluaW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLnNldE1pbiA9IGZ1bmN0aW9uIChtaW4pIHtcbiAgICB0aGlzLm1zID0gbWluO1xufTtcbi8qKlxuICogU2V0IHRoZSBtYXhpbXVtIGR1cmF0aW9uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQmFja29mZi5wcm90b3R5cGUuc2V0TWF4ID0gZnVuY3Rpb24gKG1heCkge1xuICAgIHRoaXMubWF4ID0gbWF4O1xufTtcbi8qKlxuICogU2V0IHRoZSBqaXR0ZXJcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRKaXR0ZXIgPSBmdW5jdGlvbiAoaml0dGVyKSB7XG4gICAgdGhpcy5qaXR0ZXIgPSBqaXR0ZXI7XG59O1xuIiwiaW1wb3J0IHsgU29ja2V0IGFzIEVuZ2luZSwgaW5zdGFsbFRpbWVyRnVuY3Rpb25zLCBuZXh0VGljaywgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcIi4vc29ja2V0LmpzXCI7XG5pbXBvcnQgKiBhcyBwYXJzZXIgZnJvbSBcInNvY2tldC5pby1wYXJzZXJcIjtcbmltcG9ydCB7IG9uIH0gZnJvbSBcIi4vb24uanNcIjtcbmltcG9ydCB7IEJhY2tvZmYgfSBmcm9tIFwiLi9jb250cmliL2JhY2tvMi5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciwgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuZXhwb3J0IGNsYXNzIE1hbmFnZXIgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5zcHMgPSB7fTtcbiAgICAgICAgdGhpcy5zdWJzID0gW107XG4gICAgICAgIGlmICh1cmkgJiYgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHVyaSkge1xuICAgICAgICAgICAgb3B0cyA9IHVyaTtcbiAgICAgICAgICAgIHVyaSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICAgICAgb3B0cy5wYXRoID0gb3B0cy5wYXRoIHx8IFwiL3NvY2tldC5pb1wiO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uKG9wdHMucmVjb25uZWN0aW9uICE9PSBmYWxzZSk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMob3B0cy5yZWNvbm5lY3Rpb25BdHRlbXB0cyB8fCBJbmZpbml0eSk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0aW9uRGVsYXkob3B0cy5yZWNvbm5lY3Rpb25EZWxheSB8fCAxMDAwKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heChvcHRzLnJlY29ubmVjdGlvbkRlbGF5TWF4IHx8IDUwMDApO1xuICAgICAgICB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKF9hID0gb3B0cy5yYW5kb21pemF0aW9uRmFjdG9yKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwLjUpO1xuICAgICAgICB0aGlzLmJhY2tvZmYgPSBuZXcgQmFja29mZih7XG4gICAgICAgICAgICBtaW46IHRoaXMucmVjb25uZWN0aW9uRGVsYXkoKSxcbiAgICAgICAgICAgIG1heDogdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heCgpLFxuICAgICAgICAgICAgaml0dGVyOiB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGltZW91dChudWxsID09IG9wdHMudGltZW91dCA/IDIwMDAwIDogb3B0cy50aW1lb3V0KTtcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIHRoaXMudXJpID0gdXJpO1xuICAgICAgICBjb25zdCBfcGFyc2VyID0gb3B0cy5wYXJzZXIgfHwgcGFyc2VyO1xuICAgICAgICB0aGlzLmVuY29kZXIgPSBuZXcgX3BhcnNlci5FbmNvZGVyKCk7XG4gICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBfcGFyc2VyLkRlY29kZXIoKTtcbiAgICAgICAgdGhpcy5fYXV0b0Nvbm5lY3QgPSBvcHRzLmF1dG9Db25uZWN0ICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9Db25uZWN0KVxuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbih2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbiA9ICEhdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbkF0dGVtcHRzKHYpIHtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMgPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXkodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWluKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmFuZG9taXphdGlvbkZhY3Rvcih2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yO1xuICAgICAgICB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Sml0dGVyKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXlNYXgodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWF4KHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdGltZW91dCh2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0cnlpbmcgdG8gcmVjb25uZWN0IGlmIHJlY29ubmVjdGlvbiBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIG5vdFxuICAgICAqIHN0YXJ0ZWQgcmVjb25uZWN0aW5nIHlldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBtYXliZVJlY29ubmVjdE9uT3BlbigpIHtcbiAgICAgICAgLy8gT25seSB0cnkgdG8gcmVjb25uZWN0IGlmIGl0J3MgdGhlIGZpcnN0IHRpbWUgd2UncmUgY29ubmVjdGluZ1xuICAgICAgICBpZiAoIXRoaXMuX3JlY29ubmVjdGluZyAmJlxuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uICYmXG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGtlZXBzIHJlY29ubmVjdGlvbiBmcm9tIGZpcmluZyB0d2ljZSBmb3IgdGhlIHNhbWUgcmVjb25uZWN0aW9uIGxvb3BcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQgYHNvY2tldGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIG9wdGlvbmFsLCBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBvcGVuKGZuKSB7XG4gICAgICAgIGlmICh+dGhpcy5fcmVhZHlTdGF0ZS5pbmRleE9mKFwib3BlblwiKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLmVuZ2luZSA9IG5ldyBFbmdpbmUodGhpcy51cmksIHRoaXMub3B0cyk7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgLy8gZW1pdCBgb3BlbmBcbiAgICAgICAgY29uc3Qgb3BlblN1YkRlc3Ryb3kgPSBvbihzb2NrZXQsIFwib3BlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLm9ub3BlbigpO1xuICAgICAgICAgICAgZm4gJiYgZm4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsZWFudXAoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgZG8gdGhpcyBpZiB0aGVyZSBpcyBubyBmbiB0byBoYW5kbGUgdGhlIGVycm9yXG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZVJlY29ubmVjdE9uT3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBlbWl0IGBlcnJvcmBcbiAgICAgICAgY29uc3QgZXJyb3JTdWIgPSBvbihzb2NrZXQsIFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgICAgIGlmIChmYWxzZSAhPT0gdGhpcy5fdGltZW91dCkge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gICAgICAgICAgICAvLyBzZXQgdGltZXJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9wZW5TdWJEZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgb25FcnJvcihuZXcgRXJyb3IoXCJ0aW1lb3V0XCIpKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aW1lci51bnJlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdWJzLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGltZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzLnB1c2gob3BlblN1YkRlc3Ryb3kpO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChlcnJvclN1Yik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Igb3BlbigpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgY29ubmVjdChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IG9wZW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ub3BlbigpIHtcbiAgICAgICAgLy8gY2xlYXIgb2xkIHN1YnNcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIC8vIG1hcmsgYXMgb3BlblxuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICAgICAgLy8gYWRkIG5ldyBzdWJzXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsIFwicGluZ1wiLCB0aGlzLm9ucGluZy5iaW5kKHRoaXMpKSwgb24oc29ja2V0LCBcImRhdGFcIiwgdGhpcy5vbmRhdGEuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJjbG9zZVwiLCB0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksIG9uKHRoaXMuZGVjb2RlciwgXCJkZWNvZGVkXCIsIHRoaXMub25kZWNvZGVkLmJpbmQodGhpcykpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBwaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnBpbmcoKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGluZ1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25kYXRhKGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5hZGQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcInBhcnNlIGVycm9yXCIsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHBhcnNlciBmdWxseSBkZWNvZGVzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRlY29kZWQocGFja2V0KSB7XG4gICAgICAgIC8vIHRoZSBuZXh0VGljayBjYWxsIHByZXZlbnRzIGFuIGV4Y2VwdGlvbiBpbiBhIHVzZXItcHJvdmlkZWQgZXZlbnQgbGlzdGVuZXIgZnJvbSB0cmlnZ2VyaW5nIGEgZGlzY29ubmVjdGlvbiBkdWUgdG8gYSBcInBhcnNlIGVycm9yXCJcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzb2NrZXQgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZXJyb3IoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzb2NrZXQgZm9yIHRoZSBnaXZlbiBgbnNwYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NvY2tldH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc29ja2V0KG5zcCwgb3B0cykge1xuICAgICAgICBsZXQgc29ja2V0ID0gdGhpcy5uc3BzW25zcF07XG4gICAgICAgIGlmICghc29ja2V0KSB7XG4gICAgICAgICAgICBzb2NrZXQgPSBuZXcgU29ja2V0KHRoaXMsIG5zcCwgb3B0cyk7XG4gICAgICAgICAgICB0aGlzLm5zcHNbbnNwXSA9IHNvY2tldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvQ29ubmVjdCAmJiAhc29ja2V0LmFjdGl2ZSkge1xuICAgICAgICAgICAgc29ja2V0LmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc29ja2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNvY2tldCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzb2NrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kZXN0cm95KHNvY2tldCkge1xuICAgICAgICBjb25zdCBuc3BzID0gT2JqZWN0LmtleXModGhpcy5uc3BzKTtcbiAgICAgICAgZm9yIChjb25zdCBuc3Agb2YgbnNwcykge1xuICAgICAgICAgICAgY29uc3Qgc29ja2V0ID0gdGhpcy5uc3BzW25zcF07XG4gICAgICAgICAgICBpZiAoc29ja2V0LmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcGFja2V0KHBhY2tldCkge1xuICAgICAgICBjb25zdCBlbmNvZGVkUGFja2V0cyA9IHRoaXMuZW5jb2Rlci5lbmNvZGUocGFja2V0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUud3JpdGUoZW5jb2RlZFBhY2tldHNbaV0sIHBhY2tldC5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0cmFuc3BvcnQgc3Vic2NyaXB0aW9ucyBhbmQgcGFja2V0IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgdGhpcy5zdWJzLmZvckVhY2goKHN1YkRlc3Ryb3kpID0+IHN1YkRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuc3Vicy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRlY29kZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY3VycmVudCBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbG9zZSgpIHtcbiAgICAgICAgdGhpcy5za2lwUmVjb25uZWN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25jbG9zZShcImZvcmNlZCBjbG9zZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuZW5naW5lKVxuICAgICAgICAgICAgdGhpcy5lbmdpbmUuY2xvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGNsb3NlKClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25jbG9zZShyZWFzb24sIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY2xvc2VcIiwgcmVhc29uLCBkZXNjcmlwdGlvbik7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3Rpb24gJiYgIXRoaXMuc2tpcFJlY29ubmVjdCkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0IGEgcmVjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICByZWNvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3RpbmcgfHwgdGhpcy5za2lwUmVjb25uZWN0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5iYWNrb2ZmLmF0dGVtcHRzID49IHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2ZhaWxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLmJhY2tvZmYuZHVyYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCB0aW1lciA9IHRoaXMuc2V0VGltZW91dEZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5za2lwUmVjb25uZWN0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfYXR0ZW1wdFwiLCBzZWxmLmJhY2tvZmYuYXR0ZW1wdHMpO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGFnYWluIGZvciB0aGUgY2FzZSBzb2NrZXQgY2xvc2VkIGluIGFib3ZlIGV2ZW50c1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBzZWxmLm9wZW4oKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9lcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbnJlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgICAgICAgIHRpbWVyLnVucmVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN1YnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRGbih0aW1lcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzdWNjZXNzZnVsIHJlY29ubmVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25yZWNvbm5lY3QoKSB7XG4gICAgICAgIGNvbnN0IGF0dGVtcHQgPSB0aGlzLmJhY2tvZmYuYXR0ZW1wdHM7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RcIiwgYXR0ZW1wdCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgdXJsIH0gZnJvbSBcIi4vdXJsLmpzXCI7XG5pbXBvcnQgeyBNYW5hZ2VyIH0gZnJvbSBcIi4vbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSBcIi4vc29ja2V0LmpzXCI7XG4vKipcbiAqIE1hbmFnZXJzIGNhY2hlLlxuICovXG5jb25zdCBjYWNoZSA9IHt9O1xuZnVuY3Rpb24gbG9va3VwKHVyaSwgb3B0cykge1xuICAgIGlmICh0eXBlb2YgdXJpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG9wdHMgPSB1cmk7XG4gICAgICAgIHVyaSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgb3B0cyA9IG9wdHMgfHwge307XG4gICAgY29uc3QgcGFyc2VkID0gdXJsKHVyaSwgb3B0cy5wYXRoIHx8IFwiL3NvY2tldC5pb1wiKTtcbiAgICBjb25zdCBzb3VyY2UgPSBwYXJzZWQuc291cmNlO1xuICAgIGNvbnN0IGlkID0gcGFyc2VkLmlkO1xuICAgIGNvbnN0IHBhdGggPSBwYXJzZWQucGF0aDtcbiAgICBjb25zdCBzYW1lTmFtZXNwYWNlID0gY2FjaGVbaWRdICYmIHBhdGggaW4gY2FjaGVbaWRdW1wibnNwc1wiXTtcbiAgICBjb25zdCBuZXdDb25uZWN0aW9uID0gb3B0cy5mb3JjZU5ldyB8fFxuICAgICAgICBvcHRzW1wiZm9yY2UgbmV3IGNvbm5lY3Rpb25cIl0gfHxcbiAgICAgICAgZmFsc2UgPT09IG9wdHMubXVsdGlwbGV4IHx8XG4gICAgICAgIHNhbWVOYW1lc3BhY2U7XG4gICAgbGV0IGlvO1xuICAgIGlmIChuZXdDb25uZWN0aW9uKSB7XG4gICAgICAgIGlvID0gbmV3IE1hbmFnZXIoc291cmNlLCBvcHRzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY2FjaGVbaWRdKSB7XG4gICAgICAgICAgICBjYWNoZVtpZF0gPSBuZXcgTWFuYWdlcihzb3VyY2UsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGlvID0gY2FjaGVbaWRdO1xuICAgIH1cbiAgICBpZiAocGFyc2VkLnF1ZXJ5ICYmICFvcHRzLnF1ZXJ5KSB7XG4gICAgICAgIG9wdHMucXVlcnkgPSBwYXJzZWQucXVlcnlLZXk7XG4gICAgfVxuICAgIHJldHVybiBpby5zb2NrZXQocGFyc2VkLnBhdGgsIG9wdHMpO1xufVxuLy8gc28gdGhhdCBcImxvb2t1cFwiIGNhbiBiZSB1c2VkIGJvdGggYXMgYSBmdW5jdGlvbiAoZS5nLiBgaW8oLi4uKWApIGFuZCBhcyBhXG4vLyBuYW1lc3BhY2UgKGUuZy4gYGlvLmNvbm5lY3QoLi4uKWApLCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuT2JqZWN0LmFzc2lnbihsb29rdXAsIHtcbiAgICBNYW5hZ2VyLFxuICAgIFNvY2tldCxcbiAgICBpbzogbG9va3VwLFxuICAgIGNvbm5lY3Q6IGxvb2t1cCxcbn0pO1xuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHsgcHJvdG9jb2wgfSBmcm9tIFwic29ja2V0LmlvLXBhcnNlclwiO1xuLyoqXG4gKiBFeHBvc2UgY29uc3RydWN0b3JzIGZvciBzdGFuZGFsb25lIGJ1aWxkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHsgTWFuYWdlciwgU29ja2V0LCBsb29rdXAgYXMgaW8sIGxvb2t1cCBhcyBjb25uZWN0LCBsb29rdXAgYXMgZGVmYXVsdCwgfTtcbiIsImltcG9ydCB7IHBhcnNlIH0gZnJvbSBcImVuZ2luZS5pby1jbGllbnRcIjtcbi8qKlxuICogVVJMIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0gdXJpIC0gdXJsXG4gKiBAcGFyYW0gcGF0aCAtIHRoZSByZXF1ZXN0IHBhdGggb2YgdGhlIGNvbm5lY3Rpb25cbiAqIEBwYXJhbSBsb2MgLSBBbiBvYmplY3QgbWVhbnQgdG8gbWltaWMgd2luZG93LmxvY2F0aW9uLlxuICogICAgICAgIERlZmF1bHRzIHRvIHdpbmRvdy5sb2NhdGlvbi5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVybCh1cmksIHBhdGggPSBcIlwiLCBsb2MpIHtcbiAgICBsZXQgb2JqID0gdXJpO1xuICAgIC8vIGRlZmF1bHQgdG8gd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8ICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24pO1xuICAgIGlmIChudWxsID09IHVyaSlcbiAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgXCIvL1wiICsgbG9jLmhvc3Q7XG4gICAgLy8gcmVsYXRpdmUgcGF0aCBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKFwiL1wiID09PSB1cmkuY2hhckF0KDApKSB7XG4gICAgICAgICAgICBpZiAoXCIvXCIgPT09IHVyaS5jaGFyQXQoMSkpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MuaG9zdCArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9eKGh0dHBzP3x3c3M/KTpcXC9cXC8vLnRlc3QodXJpKSkge1xuICAgICAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBsb2MpIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmkgPSBcImh0dHBzOi8vXCIgKyB1cmk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2VcbiAgICAgICAgb2JqID0gcGFyc2UodXJpKTtcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIHdlIHRyZWF0IGBsb2NhbGhvc3Q6ODBgIGFuZCBgbG9jYWxob3N0YCBlcXVhbGx5XG4gICAgaWYgKCFvYmoucG9ydCkge1xuICAgICAgICBpZiAoL14oaHR0cHx3cykkLy50ZXN0KG9iai5wcm90b2NvbCkpIHtcbiAgICAgICAgICAgIG9iai5wb3J0ID0gXCI4MFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKC9eKGh0dHB8d3MpcyQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgICAgICAgb2JqLnBvcnQgPSBcIjQ0M1wiO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9iai5wYXRoID0gb2JqLnBhdGggfHwgXCIvXCI7XG4gICAgY29uc3QgaXB2NiA9IG9iai5ob3N0LmluZGV4T2YoXCI6XCIpICE9PSAtMTtcbiAgICBjb25zdCBob3N0ID0gaXB2NiA/IFwiW1wiICsgb2JqLmhvc3QgKyBcIl1cIiA6IG9iai5ob3N0O1xuICAgIC8vIGRlZmluZSB1bmlxdWUgaWRcbiAgICBvYmouaWQgPSBvYmoucHJvdG9jb2wgKyBcIjovL1wiICsgaG9zdCArIFwiOlwiICsgb2JqLnBvcnQgKyBwYXRoO1xuICAgIC8vIGRlZmluZSBocmVmXG4gICAgb2JqLmhyZWYgPVxuICAgICAgICBvYmoucHJvdG9jb2wgK1xuICAgICAgICAgICAgXCI6Ly9cIiArXG4gICAgICAgICAgICBob3N0ICtcbiAgICAgICAgICAgIChsb2MgJiYgbG9jLnBvcnQgPT09IG9iai5wb3J0ID8gXCJcIiA6IFwiOlwiICsgb2JqLnBvcnQpO1xuICAgIHJldHVybiBvYmo7XG59XG4iLCJpbXBvcnQgeyBpbyB9IGZyb20gXCJzb2NrZXQuaW8tY2xpZW50XCI7XHJcbmltcG9ydCB7IFNjZW5lTWFuYWdlciB9IGZyb20gXCIuL1NjZW5lTWFuYWdlci5qc1wiO1xyXG5leHBvcnQgY2xhc3MgU29ja2V0TWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZU1hbmFnZXIsIGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudGFnID0gXCJFVkVOVEhBTkRMRVJcIjtcclxuICAgICAgICB0aGlzLmVtaXR0ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMudW5yZWdpc3RlcmVkID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5kZWxldGVkID0gW107XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgICAgIHRoaXMuc2NlbmVNYW5hZ2VyID0gc2NlbmVNYW5hZ2VyO1xyXG4gICAgICAgIFNvY2tldE1hbmFnZXIuc29ja2V0ID0gaW8oKTtcclxuICAgICAgICBpZiAoY29uZmlnLnNvY2tldEV2ZW50TWFwKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy5zb2NrZXRFdmVudE1hcChTb2NrZXRNYW5hZ2VyLnNvY2tldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIFNvY2tldE1hbmFnZXIuc29ja2V0LmVtaXQoXCJjbGlja1wiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIFNvY2tldE1hbmFnZXIuc29ja2V0LmVtaXQoXCJrZXlkb3duXCIsIGV2ZW50LmtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXRDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xyXG4gICAgfVxyXG4gICAgcmVnaXN0ZXJMaXN0ZW5lcihjb21wb25lbnQpIHtcclxuICAgICAgICBsZXQgZW1pdHRlciA9IHRoaXMuZW1pdHRlcnMuZ2V0KGNvbXBvbmVudC5nZXRFdmVudFR5cGUoKSk7XHJcbiAgICAgICAgaWYgKGVtaXR0ZXIpIHtcclxuICAgICAgICAgICAgZW1pdHRlci5hZGRMaXN0ZW5lcihjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlZ2lzdGVyRW1pdHRlcihjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmVtaXR0ZXJzLnNldChjb21wb25lbnQuZ2V0RXZlbnRUeXBlKCksIGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICByZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgaWYgKGNvbXAuY29tcG9uZW50SWQgPT0gdW5kZWZpbmVkIHx8IGNvbXAuY29tcG9uZW50SWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSBTY2VuZU1hbmFnZXIuZ2V0VW5pcXVlQ29tcG9uZW50SWQoKTtcclxuICAgICAgICAgICAgY29tcC5jb21wb25lbnRJZCA9IGlkO1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbXAuaW5pdGlhbGl6ZSh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldChpZCwgY29tcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb21wLnN5c3RlbSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoY29tcC5jb21wb25lbnRJZCwgY29tcCk7XHJcbiAgICAgICAgICAgIGNvbXAuaW5pdGlhbGl6ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTb2NrZXQgTWFuYWdlciByZWdpc3RlcmVkXCIpO1xyXG4gICAgfVxyXG4gICAgdW5yZWdpc3Rlcihjb21wKSB7XHJcbiAgICAgICAgbGV0IGRlbGV0ZWQgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KGNvbXApO1xyXG4gICAgICAgIGlmIChkZWxldGVkKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZWQuYWxpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVkLnB1c2goZGVsZXRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDbGllbnQgU29ja2V0IEhhbmRsZXJcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDbGllbnQgU29ja2V0IEhhbmRsZXIgQ29tcG9uZW50czpcIiArIHRoaXMuY29tcG9uZW50cy5zaXplKTtcclxuICAgICAgICBmb3IgKGxldCBlbWl0dGVyIG9mIHRoaXMuZW1pdHRlcnMpIHtcclxuICAgICAgICAgICAgZW1pdHRlclsxXS51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5saXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgbGV0IGVtaXR0ZXIgPSB0aGlzLmVtaXR0ZXJzLmdldCh0aGlzLmxpc3RlbmVyc1tpXS5nZXRFdmVudFR5cGUoKSk7XHJcbiAgICAgICAgICAgIGlmIChlbWl0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmFkZExpc3RlbmVyKHRoaXMubGlzdGVuZXJzW2ldKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2ldID0gdGhpcy5saXN0ZW5lcnNbdGhpcy5saXN0ZW5lcnMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5wb3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Tb2NrZXRNYW5hZ2VyLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBUZXh0IHtcclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICB9XHJcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBcIkdSQVBISUNTXCI7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB7IHg6IDEwMCwgeTogMTAwLCB6OiAwIH07XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgIH1cclxuICAgIGNvcHkodGV4dCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SWQgPSB0ZXh0LmNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMuZW50aXR5ID0gdGV4dC5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dC50ZXh0O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnggPSB0aGlzLnRyYW5zZm9ybS54O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnkgPSB0aGlzLnRyYW5zZm9ybS55O1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmN0eC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMudHJhbnNmb3JtLngsIHRoaXMudHJhbnNmb3JtLnkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoKSB7XHJcbiAgICB9XHJcbiAgICB0b0pzb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW50aXR5OiB0aGlzLmVudGl0eSxcclxuICAgICAgICAgICAgZW5naW5lVGFnOiB0aGlzLmVuZ2luZVRhZyxcclxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IHRoaXMuY29tcG9uZW50SWQsXHJcbiAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCxcclxuICAgICAgICAgICAgdmlzaWJsZTogdGhpcy52aXNpYmxlLFxyXG4gICAgICAgICAgICBhbGl2ZTogdGhpcy5hbGl2ZSxcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0aGlzLnRyYW5zZm9ybVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dC5qcy5tYXAiLCJpbXBvcnQgeyBUZXh0IH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9UZXh0LmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBMYWJlbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnRleHQgPSBuZXcgVGV4dChcInRlc3RcIik7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW3RoaXMudGV4dF07XHJcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBcIkxhYmVsXCI7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGFiZWwuanMubWFwIiwiaW1wb3J0IHsgR1JBUEhJQ1NfVEFHIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzXCI7XHJcbmltcG9ydCB7IGdldFRvcFgsIGdldFRvcFksIHJlY3RhbmdsZUNvcHkgfSBmcm9tIFwiLi4vLi4vdHlwZXMvY29tcG9uZW50cy9jb2xsaXNpb24vc2hhcGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIFRpbWVkU3ByaXRlU2hlZXQge1xyXG4gICAgY29uc3RydWN0b3IocGF0aCwgcmVjdGFuZ2xlLCBkZWxheSwgbGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IEdSQVBISUNTX1RBRztcclxuICAgICAgICB0aGlzLnN0YXRlID0gMDtcclxuICAgICAgICB0aGlzLnRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gcmVjdGFuZ2xlLnBvcztcclxuICAgICAgICB0aGlzLnNoYXBlID0gcmVjdGFuZ2xlO1xyXG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmN0eCkge1xyXG4gICAgICAgICAgICBsZXQgeCA9IGdldFRvcFgodGhpcy5zaGFwZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRHJhd24gd2l0aCBTdGF0ZSBcIiArIHRoaXMuc3RhdGUpO1xyXG4gICAgICAgICAgICBsZXQgeSA9IGdldFRvcFkodGhpcy5zaGFwZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIHRoaXMuc2hhcGUuZGltLmxlbmd0aCAqIHRoaXMuc3RhdGUsIDAsIHRoaXMuc2hhcGUuZGltLmxlbmd0aCwgdGhpcy5zaGFwZS5kaW0uaGVpZ2h0LCB4LCB5LCB0aGlzLnNoYXBlLmRpbS5sZW5ndGgsIHRoaXMuc2hhcGUuZGltLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnRleHQgaXMgbm90IGluamVjdGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gdGhpcy5wYXRoO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSAwO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJVcGRhdGluZyBTcHJpdGVzaGVldFwiKTtcclxuICAgICAgICBpZiAodGhpcy50aW1lID4gdGhpcy5kZWxheSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRpbWUgaXMgZ3JlYXRlciB0aGFuIGRlbGF5XCIpO1xyXG4gICAgICAgICAgICBsZXQgc3RhdGVDaGFuZ2UgPSBNYXRoLmZsb29yKHRoaXMudGltZSAvIHRoaXMuZGVsYXkpO1xyXG4gICAgICAgICAgICBsZXQgbnVtU3RhdGVzID0gTWF0aC5mbG9vcih0aGlzLmltYWdlLndpZHRoIC8gdGhpcy5zaGFwZS5kaW0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbWFnZSB3aWR0aCBpcyBcIiArIHRoaXMuaW1hZ2Uud2lkdGgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN0YXRlIGNoYW5nZSBpcyBcIiArIHN0YXRlQ2hhbmdlKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICgxICsgdGhpcy5zdGF0ZSkgJSBudW1TdGF0ZXM7XHJcbiAgICAgICAgICAgIHRoaXMudGltZSA9IHRoaXMudGltZSAlIHRoaXMuZGVsYXk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29weShjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGNvbXBvbmVudC5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gY29tcG9uZW50LnZpc2libGU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IGNvbXBvbmVudC5hbGl2ZTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudElkID0gY29tcG9uZW50LmNvbXBvbmVudElkO1xyXG4gICAgICAgIHRoaXMucGF0aCA9IGNvbXBvbmVudC5wYXRoO1xyXG4gICAgICAgIHRoaXMuZGVsYXkgPSBjb21wb25lbnQuZGVsYXk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlZCA9IGNvbXBvbmVudC5yZW5kZXJlZDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS54ID0gY29tcG9uZW50LnRyYW5zZm9ybS54O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnkgPSBjb21wb25lbnQudHJhbnNmb3JtLnk7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ueiA9IGNvbXBvbmVudC50cmFuc2Zvcm0uejtcclxuICAgICAgICByZWN0YW5nbGVDb3B5KHRoaXMuc2hhcGUsIGNvbXBvbmVudC5zaGFwZSk7XHJcbiAgICB9XHJcbiAgICB0b0pTT04oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW50aXR5OiB0aGlzLmVudGl0eSxcclxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IHRoaXMuY29tcG9uZW50SWQsXHJcbiAgICAgICAgICAgIGVuZ2luZVRhZzogdGhpcy5lbmdpbmVUYWcsXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy50cmFuc2Zvcm0sXHJcbiAgICAgICAgICAgIHZpc2libGU6IHRoaXMudmlzaWJsZSxcclxuICAgICAgICAgICAgYWxpdmU6IHRoaXMuYWxpdmUsXHJcbiAgICAgICAgICAgIHNyYzogdGhpcy5wYXRoLFxyXG4gICAgICAgICAgICBzaGFwZTogdGhpcy5zaGFwZSxcclxuICAgICAgICAgICAgZGVsYXk6IHRoaXMuZGVsYXksXHJcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxyXG4gICAgICAgICAgICB0aW1lOiB0aGlzLnRpbWUsXHJcbiAgICAgICAgICAgIHBhdGg6IHRoaXMucGF0aCxcclxuICAgICAgICAgICAgcmVuZGVyZWQ6IHRoaXMucmVuZGVyZWRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwcml0ZXNoZWV0LmpzLm1hcCIsImltcG9ydCB7IFRpbWVkU3ByaXRlU2hlZXQgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL1Nwcml0ZXNoZWV0LmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBTd29yZEFuaW0ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW25ldyBUaW1lZFNwcml0ZVNoZWV0KFwiL2ltYWdlcy9Td29yZFNwcml0ZVNoZWV0LnBuZ1wiLCB7IGRpbTogeyBsZW5ndGg6IDMyLCBoZWlnaHQ6IDMyIH0sIHBvczogeyB4OiAyMCwgeTogMjAsIHo6IDAgfSwgcm90OiAwIH0sIDMsIDMyKV07XHJcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBcIlNXT1JEQU5JTVwiO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN3b3JkQW5pbS5qcy5tYXAiLCJpbXBvcnQgeyBHUkFQSElDU19UQUcgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vZW5naW5lL3NyYy9jb25zdGFudHMvY29tcG9uZW50VHlwZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgQnV0dG9uIHtcclxuICAgIHVubW91bnQoKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBjb25zdHJ1Y3RvcihpZCwgc3R5bGUsIHRleHQgPSBcIlwiLCBvbmNsaWNrID0gKCkgPT4geyB9KSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gR1JBUEhJQ1NfVEFHO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnN0eWxlID0gc3R5bGU7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgICAgICB0aGlzLm9uQ2xpY2sgPSBvbmNsaWNrO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgIH1cclxuICAgIGNvcHkoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoc3RyYXRlZ3lBcnIsIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFsaXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtLnJlbmRlcmluZ1tpbmRleF0gPSB0aGlzLnN5c3RlbS5yZW5kZXJpbmdbdGhpcy5zeXN0ZW0ucmVuZGVyaW5nLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5yZW5kZXJpbmcucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRpdi5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQlVUVE9OXCIpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmNzc1RleHQgPSB0aGlzLnN0eWxlO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLnRleHQ7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9uY2xpY2sgPSB0aGlzLm9uQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmlkID0gdGhpcy5pZDtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgSW1hZ2VCdXR0b24ge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIHN0eWxlLCBpbWFnZVVybCA9IFwiXCIsIG9uY2xpY2sgPSAoKSA9PiB7IH0pIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHsgeDogMCwgeTogMCwgejogMCB9O1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBHUkFQSElDU19UQUc7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcclxuICAgICAgICB0aGlzLnNyYyA9IGltYWdlVXJsO1xyXG4gICAgICAgIHRoaXMub25DbGljayA9IG9uY2xpY2s7XHJcbiAgICB9XHJcbiAgICB1bm1vdW50KCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgIH1cclxuICAgIGNvcHkoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoc3RyYXRlZ3lBcnIsIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFsaXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtLnJlbmRlcmluZ1tpbmRleF0gPSB0aGlzLnN5c3RlbS5yZW5kZXJpbmdbdGhpcy5zeXN0ZW0ucmVuZGVyaW5nLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5yZW5kZXJpbmcucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kaXYuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkJVVFRPTlwiKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gdGhpcy5zdHlsZTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQub25jbGljayA9IHRoaXMub25DbGljaztcclxuICAgICAgICB0aGlzLmVsZW1lbnQuaWQgPSB0aGlzLmlkO1xyXG4gICAgICAgIHRoaXMuY2hpbGRJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRJbWFnZS5zcmMgPSB0aGlzLnNyYztcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jaGlsZEltYWdlKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1CdXR0b24uanMubWFwIiwiaW1wb3J0IHsgR1JBUEhJQ1NfVEFHIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2VuZ2luZS9zcmMvY29uc3RhbnRzL2NvbXBvbmVudFR5cGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIERpdiB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZCwgc3R5bGUsIC4uLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IEdSQVBISUNTX1RBRztcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgIH1cclxuICAgIHVubW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuc3lzdGVtLnVucmVnaXN0ZXIodGhpcy5jb21wb25lbnRJZCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLmNvbXBvbmVudElkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN5c3RlbS51bnJlZ2lzdGVyKHRoaXMuY2hpbGRyZW5baV0uY29tcG9uZW50SWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXIoc3RyYXRlZ3lBcnIsIGluZGV4KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFsaXZlKSB7XHJcbiAgICAgICAgICAgIGxldCB0ZW1wID0gdGhpcy5zeXN0ZW0ucmVuZGVyaW5nW2luZGV4XTtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW0ucmVuZGVyaW5nW2luZGV4XSA9IHRoaXMuc3lzdGVtLnJlbmRlcmluZ1t0aGlzLnN5c3RlbS5yZW5kZXJpbmcubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtLnJlbmRlcmluZ1t0aGlzLnN5c3RlbS5yZW5kZXJpbmcubGVuZ3RoIC0gMV0gPSB0ZW1wO1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5yZW5kZXJpbmcucG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMudW5tb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghdGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kaXYuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gdGhpcy5zdHlsZTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuaWQgPSB0aGlzLmlkO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmVudGl0eSA9IHRoaXMuZW50aXR5O1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5yZWdpc3Rlcih0aGlzLmNoaWxkcmVuW2ldKTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY2hpbGRyZW5baV0uZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgICAgICBpZiAodGhpcy5hbGl2ZSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uYWxpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvcHkoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGl2LmpzLm1hcCIsImltcG9ydCB7IEdSQVBISUNTX1RBRyB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9lbmdpbmUvc3JjL2NvbnN0YW50cy9jb21wb25lbnRUeXBlLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBMYWJlbCB7XHJcbiAgICB1bm1vdW50KCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKHN0cmF0ZWd5QXJyLCBpbmRleCkge1xyXG4gICAgICAgIGlmICghdGhpcy5hbGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbS5yZW5kZXJpbmdbaW5kZXhdID0gdGhpcy5zeXN0ZW0ucmVuZGVyaW5nW3RoaXMuc3lzdGVtLnJlbmRlcmluZy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgdGhpcy5zeXN0ZW0ucmVuZGVyaW5nLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kaXYuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5odG1sVGFnKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IHRoaXMuc3R5bGU7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmlkID0gdGhpcy5pZDtcclxuICAgICAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLnRleHQ7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQsIGN0eCkge1xyXG4gICAgfVxyXG4gICAgY29weShjb21wb25lbnQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIGNvbnN0cnVjdG9yKGlkLCBzdHlsZSwgaHRtbFRhZywgdGV4dCA9IFwiXCIpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHsgeDogMCwgeTogMCwgejogMCB9O1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hbGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVUYWcgPSBHUkFQSElDU19UQUc7XHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmh0bWxUYWcgPSBodG1sVGFnO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGV4dC5qcy5tYXAiLCJpbXBvcnQgeyByZW1vdmVFbnRpdHkgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb3JlL3NjZW5lVXRpbHMuanNcIjtcclxuaW1wb3J0IHsgSW1hZ2VCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL0RvbUVsZW1lbnQvQnV0dG9uLmpzXCI7XHJcbmltcG9ydCB7IERpdiB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvR3JhcGhpY3MvRG9tRWxlbWVudC9EaXYuanNcIjtcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL0RvbUVsZW1lbnQvVGV4dC5qc1wiO1xyXG5leHBvcnQgY2xhc3MgRGl2VUkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBcIkRJVlwiO1xyXG4gICAgICAgIGxldCBib3R0b21kaXYgPSBuZXcgRGl2KFwiYmFja2dyb3VuZERpdlwiLCBcInBvc2l0aW9uOmZpeGVkO2JhY2tncm91bmQtY29sb3I6IzFhMTgxODtoZWlnaHQ6IDYwJTsgd2lkdGg6IDYwJTt6LWluZGV4OiA0O3RvcDogMDtsZWZ0OiAwOyBib3R0b206MDsgcmlnaHQ6MDttYXJnaW46YXV0bztvcGFjaXR5OjAuNjtib3JkZXItcmFkaXVzOjE1cHhcIik7XHJcbiAgICAgICAgbGV0IHRlbXBsYXJCdXR0b24gPSB0aGlzLmdlbmVyYXRlQnV0dG9uKFwiMFwiLCBcIi9pbWFnZXMvVGVtcGxhci5wbmdcIiwgXCJUZW1wbGFyXCIpO1xyXG4gICAgICAgIGxldCBLbmlnaHRCdXR0b24gPSB0aGlzLmdlbmVyYXRlQnV0dG9uKFwiMVwiLCBcIi9pbWFnZXMvS25pZ2h0X0ZvcndhcmQucG5nXCIsIFwiS25pZ2h0XCIpO1xyXG4gICAgICAgIGxldCBhcmNoZXJCdXR0b24gPSB0aGlzLmdlbmVyYXRlQnV0dG9uKFwiMlwiLCBcIi9pbWFnZXMvQXJjaGVyLnBuZ1wiLCBcIkFyY2hlclwiKTtcclxuICAgICAgICBsZXQgcHJpZXN0QnV0dG9uID0gdGhpcy5nZW5lcmF0ZUJ1dHRvbihcIjNcIiwgXCIvaW1hZ2VzL1ByaWVzdC5wbmdcIiwgXCJQcmllc3RcIik7XHJcbiAgICAgICAgbGV0IHJvZ3VlQnV0dG9uID0gdGhpcy5nZW5lcmF0ZUJ1dHRvbihcIjRcIiwgXCIvaW1hZ2VzL1JvZ3VlLnBuZ1wiLCBcIlJvZ3VlXCIpO1xyXG4gICAgICAgIGxldCBkaXYgPSBuZXcgRGl2KFwiaWRlbnRpZmllclwiLCBcImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtwb3NpdGlvbjogZml4ZWQ7YmFja2dyb3VuZC1jb2xvcjojMWExODE4O29wYWNpdHk6MC4yOyBoZWlnaHQ6IDYwJTsgd2lkdGg6IDYwJTt6LWluZGV4OiA1O3RvcDogMDtsZWZ0OiAwOyBib3R0b206MDsgcmlnaHQ6MDttYXJnaW46YXV0bztvcGFjaXR5OjAuNjtib3JkZXItcmFkaXVzOjE1cHhcIiwgdGVtcGxhckJ1dHRvbiwgS25pZ2h0QnV0dG9uLCBwcmllc3RCdXR0b24sIGFyY2hlckJ1dHRvbiwgcm9ndWVCdXR0b24pO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtib3R0b21kaXYsIGRpdl07XHJcbiAgICB9XHJcbiAgICBnZW5lcmF0ZUJ1dHRvbihpZCwgcGF0aCwgY2hhcmFjdGVyTmFtZSkge1xyXG4gICAgICAgIGxldCBkaXZJZCA9IFwiYnV0dG9uRGl2XCIgKyBpZDtcclxuICAgICAgICBsZXQgYnV0dG9uSWQgPSBjaGFyYWN0ZXJOYW1lICsgaWQ7XHJcbiAgICAgICAgbGV0IGJ1dHRvbiA9IG5ldyBJbWFnZUJ1dHRvbihidXR0b25JZCwgXCJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjogIzFhMTgxOFwiLCBwYXRoLCAoKSA9PiB7IHJlbW92ZUVudGl0eSh0aGlzLnNjZW5lLCB0aGlzLmlkKTsgfSk7XHJcbiAgICAgICAgbGV0IHRleHQgPSBuZXcgTGFiZWwoY2hhcmFjdGVyTmFtZSArIFwibGFiZWxcIiwgXCJcIiwgXCJoNVwiLCBjaGFyYWN0ZXJOYW1lKTtcclxuICAgICAgICBsZXQgY29udGFpbmVyRGl2ID0gbmV3IERpdihkaXZJZCwgXCJkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6IGNlbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiMxYTE4MTg7aGVpZ2h0OiAxMDAlOyB3aWR0aDogMTAwJTt6LWluZGV4OiA0O2JvcmRlci1yYWRpdXM6MTVweFwiLCBidXR0b24sIHRleHQpO1xyXG4gICAgICAgIHJldHVybiBjb250YWluZXJEaXY7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGl2VUkuanMubWFwIiwiaW1wb3J0IHsgRW5naW5lVHlwZSB9IGZyb20gXCIuLi8uLi9jb25zdGFudHMvZW5naW5lVHlwZS5qc1wiO1xyXG5pbXBvcnQgeyBTb2NrZXRNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2NvcmUvbWFuYWdlcnMvU29ja2V0TWFuYWdlci5qc1wiO1xyXG5leHBvcnQgY2xhc3MgU29ja2V0Q2xpZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHNvY2tldE1hcCwgZW5naW5lVHlwZSkge1xyXG4gICAgICAgIHRoaXMuZW1pc3Npb25RdWV1ZSA9IFtdO1xyXG4gICAgICAgIHRoaXMubGlzdGVuUXVldWUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lckxvY2sgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJFVkVOVEhBTkRMRVJcIjtcclxuICAgICAgICB0aGlzLnNvY2tldE1hcCA9IHNvY2tldE1hcDtcclxuICAgICAgICB0aGlzLmVuZ2luZVR5cGUgPSBlbmdpbmVUeXBlO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZShzeXN0ZW0pIHtcclxuICAgICAgICBzeXN0ZW0ucmVnaXN0ZXJFbWl0dGVyKHRoaXMpO1xyXG4gICAgICAgIHN5c3RlbS5yZWdpc3Rlckxpc3RlbmVyKHRoaXMpO1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuc29ja2V0TWFwKS5tYXAoKFtrLCB2XSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5zZXQoaywgdik7XHJcbiAgICAgICAgICAgIFNvY2tldE1hbmFnZXIuc29ja2V0Lm9uKGssIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZnVuYyA9IHRoaXMuZXZlbnRzLmdldChrKTtcclxuICAgICAgICAgICAgICAgIGlmIChmdW5jICYmICF0aGlzLmxpc3RlbmVyTG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuUXVldWUuc2V0KGssIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhZGRMaXN0ZW5lcihjb21wb25lbnQpIHtcclxuICAgICAgICBsZXQgZXZlbnRzID0gY29tcG9uZW50LmdldEV2ZW50cygpO1xyXG4gICAgICAgIGZvciAobGV0IGV2ZW50IG9mIGV2ZW50cykge1xyXG4gICAgICAgICAgICBTb2NrZXRNYW5hZ2VyLnNvY2tldC5vbihldmVudFswXSwgZXZlbnRbMV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVtaXQoZXZlbnQpIHtcclxuICAgICAgICBTb2NrZXRNYW5hZ2VyLnNvY2tldC5lbWl0KGV2ZW50LmV2ZW50LCBldmVudC5kYXRhKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZW1pc3Npb25RdWV1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQodGhpcy5lbWlzc2lvblF1ZXVlW2ldKTtcclxuICAgICAgICAgICAgdGhpcy5lbWlzc2lvblF1ZXVlLnBvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxpc3RlbmVyTG9jayA9IHRydWU7XHJcbiAgICAgICAgZm9yIChsZXQgaSBvZiB0aGlzLmxpc3RlblF1ZXVlKSB7XHJcbiAgICAgICAgICAgIGxldCBmdW5jID0gdGhpcy5ldmVudHMuZ2V0KGlbMF0pO1xyXG4gICAgICAgICAgICBpZiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgZnVuYyhpWzFdLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5saXN0ZW5RdWV1ZS5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJMb2NrID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBxdWV1ZUV2ZW50KGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5lbWlzc2lvblF1ZXVlLnB1c2goZXZlbnQpO1xyXG4gICAgfVxyXG4gICAgY29weShjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBjb21wb25lbnQudmlzaWJsZTtcclxuICAgICAgICB0aGlzLmFsaXZlID0gY29tcG9uZW50LmFsaXZlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lVHlwZSA9IGNvbXBvbmVudC5lbmdpbmVUeXBlO1xyXG4gICAgfVxyXG4gICAgZ2V0RXZlbnRUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiBcIlNvY2tldFNlcnZlclwiO1xyXG4gICAgfVxyXG4gICAgLy9MaXN0ZW5lciBwb3J0aW9uXHJcbiAgICBleGVjdXRlKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGxldCBmdW5jID0gdGhpcy5ldmVudHMuZ2V0KGV2ZW50LmV2ZW50KTtcclxuICAgICAgICAgICAgaWYgKGZ1bmMpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmMoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRFdmVudHMoKSB7XHJcbiAgICAgICAgbGV0IG1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLnNvY2tldE1hcCkubWFwKChbaywgdl0pID0+IHtcclxuICAgICAgICAgICAgbWFwLnNldChrLCB2KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWFwO1xyXG4gICAgfVxyXG4gICAgdG9KU09OKCkge1xyXG4gICAgICAgIGxldCBlbmdpbmVUeXBlID0gdGhpcy5lbmdpbmVUeXBlID09IEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5UID8gRW5naW5lVHlwZS5TT0NLRVRTRVJWRVIgOiBFbmdpbmVUeXBlLlNPQ0tFVENMSUVOVDtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnZpc2libGUsXHJcbiAgICAgICAgICAgIGFsaXZlOiB0aGlzLmFsaXZlLFxyXG4gICAgICAgICAgICBlbmdpbmVUeXBlOiBlbmdpbmVUeXBlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Tb2NrZXRTZXJ2ZXJFbWl0dGVyLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBRdWFkVHJlZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzaXplKSB7XHJcbiAgICAgICAgdGhpcy5nZXRRdWFkID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IG5ldyBRdWFkVHJlZU5vZGUoc2l6ZSk7XHJcbiAgICB9XHJcbiAgICBxdWVyeShib3gpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnROb2RlLnF1ZXJ5KGJveCk7XHJcbiAgICB9XHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLnBhcmVudE5vZGUuY2xlYXIoKTtcclxuICAgIH1cclxuICAgIGluc2VydChpdGVtKSB7XHJcbiAgICAgICAgbGV0IHF1YWROb2RlID0gdGhpcy5wYXJlbnROb2RlLmluc2VydChpdGVtKTtcclxuICAgICAgICB0aGlzLmdldFF1YWQuc2V0KGl0ZW0sIHF1YWROb2RlKTtcclxuICAgICAgICByZXR1cm4gcXVhZE5vZGU7XHJcbiAgICB9XHJcbiAgICByZW1vdmUoaXRlbSkge1xyXG4gICAgICAgIGxldCBxdWFkTm9kZSA9IHRoaXMuZ2V0UXVhZC5nZXQoaXRlbSk7XHJcbiAgICAgICAgaWYgKHF1YWROb2RlKSB7XHJcbiAgICAgICAgICAgIHF1YWROb2RlLnJlbW92ZShpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldFF1YWQuZGVsZXRlKGl0ZW0pO1xyXG4gICAgfVxyXG4gICAgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50Tm9kZS50b1N0cmluZygpO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFF1YWRUcmVlTm9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzaXplLCBkZXB0aCA9IDApIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZGVwdGggPSAwO1xyXG4gICAgICAgIHRoaXMubWF4RGVwdGggPSAzO1xyXG4gICAgICAgIHRoaXMuYXJlYSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5kZXB0aCA9IGRlcHRoO1xyXG4gICAgICAgIHRoaXMucmVzaXplKHNpemUpO1xyXG4gICAgfVxyXG4gICAgcXVlcnkoYm94KSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLnF1ZXJ5SGVscGVyKGJveCwgbGlzdCk7XHJcbiAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICB9XHJcbiAgICBxdWVyeUhlbHBlcihib3gsIGFuc3dlcikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoY29sbGlkZXMoYm94LCB0aGlzLml0ZW1zW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgYW5zd2VyLnB1c2godGhpcy5pdGVtc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjb250YWlucyhib3gsIHRoaXMuY2hpbGRyZW5baV0uYXJlYSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZ2V0SXRlbUxpc3QoYW5zd2VyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb2xsaWRlcyh0aGlzLmNoaWxkcmVuW2ldLmFyZWEsIGJveCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucXVlcnlIZWxwZXIoYm94LCBhbnN3ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0SXRlbUxpc3QobGlzdCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgb2YgdGhpcy5pdGVtcykge1xyXG4gICAgICAgICAgICBsaXN0LnB1c2goaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmdldEl0ZW1MaXN0KGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlbW92ZShpdGVtKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXRlbXNbaV0gPT0gaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpXSA9IHRoaXMuaXRlbXNbdGhpcy5pdGVtcy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgaWYgKGkucmVtb3ZlKGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXNpemUocmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuYXJlYSA9IHJlY3RhbmdsZTtcclxuICAgICAgICBpZiAodGhpcy5kZXB0aCArIDEgPCB0aGlzLm1heERlcHRoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChuZXcgUXVhZFRyZWVOb2RlKHsgcG9zOiB7IHg6IHJlY3RhbmdsZS5wb3MueCAtIHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gNCwgeTogcmVjdGFuZ2xlLnBvcy55ICsgcmVjdGFuZ2xlLmRpbS5oZWlnaHQgLyA0IH0sIGRpbTogeyBsZW5ndGg6IHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gMiwgaGVpZ2h0OiByZWN0YW5nbGUuZGltLmhlaWdodCAvIDIgfSB9LCB0aGlzLmRlcHRoICsgMSkpO1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobmV3IFF1YWRUcmVlTm9kZSh7IHBvczogeyB4OiByZWN0YW5nbGUucG9zLnggLSByZWN0YW5nbGUuZGltLmxlbmd0aCAvIDQsIHk6IHJlY3RhbmdsZS5wb3MueSAtIHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gNCB9LCBkaW06IHsgbGVuZ3RoOiByZWN0YW5nbGUuZGltLmxlbmd0aCAvIDIsIGhlaWdodDogcmVjdGFuZ2xlLmRpbS5oZWlnaHQgLyAyIH0gfSwgdGhpcy5kZXB0aCArIDEpKTtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBRdWFkVHJlZU5vZGUoeyBwb3M6IHsgeDogcmVjdGFuZ2xlLnBvcy54ICsgcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyA0LCB5OiByZWN0YW5nbGUucG9zLnkgKyByZWN0YW5nbGUuZGltLmhlaWdodCAvIDQgfSwgZGltOiB7IGxlbmd0aDogcmVjdGFuZ2xlLmRpbS5sZW5ndGggLyAyLCBoZWlnaHQ6IHJlY3RhbmdsZS5kaW0uaGVpZ2h0IC8gMiB9IH0sIHRoaXMuZGVwdGggKyAxKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChuZXcgUXVhZFRyZWVOb2RlKHsgcG9zOiB7IHg6IHJlY3RhbmdsZS5wb3MueCArIHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gNCwgeTogcmVjdGFuZ2xlLnBvcy55IC0gcmVjdGFuZ2xlLmRpbS5oZWlnaHQgLyA0IH0sIGRpbTogeyBsZW5ndGg6IHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gMiwgaGVpZ2h0OiByZWN0YW5nbGUuZGltLmhlaWdodCAvIDIgfSB9LCB0aGlzLmRlcHRoICsgMSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuaXRlbXMubGVuZ3RoID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2l6ZSgpIHtcclxuICAgICAgICBsZXQgY291bnQgPSB0aGlzLml0ZW1zLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb3VudCArPSB0aGlzLmNoaWxkcmVuW2ldLnNpemUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gICAgfVxyXG4gICAgaW5zZXJ0KGl0ZW0pIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5zKHRoaXMuY2hpbGRyZW5baV0uYXJlYSwgaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlcHRoICsgMSA8IHRoaXMubWF4RGVwdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXS5pbnNlcnQoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgdG9TdHJpbmcoKSB7XHJcbiAgICAgICAgbGV0IHRhYnMgPSBcIlwiO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kZXB0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRhYnMgKz0gXCIgICAgIFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmV0dXJuZWQgPSBcIlwiICsgdGFicztcclxuICAgICAgICByZXR1cm5lZCArPSBgUXVhZCBQb3NpdGlvbiBpcyAke3RoaXMuYXJlYS5wb3MueH0sJHt0aGlzLmFyZWEucG9zLnl9IHdpdGggYXJlYSAke3RoaXMuYXJlYS5kaW0uaGVpZ2h0fSB4ICR7dGhpcy5hcmVhLmRpbS5oZWlnaHR9IFxcbmA7XHJcbiAgICAgICAgcmV0dXJuZWQgKz0gdGFicztcclxuICAgICAgICByZXR1cm5lZCArPSBcIlF1YWQgaGFzIFwiICsgdGhpcy5jaGlsZHJlbi5sZW5ndGggKyBcIiBjaGlsZHJlbiBhdCBkZXB0aCBcIiArIHRoaXMuZGVwdGggKyBcIlxcblwiO1xyXG4gICAgICAgIHJldHVybmVkICs9IHRhYnM7XHJcbiAgICAgICAgcmV0dXJuZWQgKz0gXCJRdWFkIGhhcyBcIiArIHRoaXMuaXRlbXMubGVuZ3RoICsgXCIgaXRlbXNcXG5cIjtcclxuICAgICAgICByZXR1cm5lZCArPSB0YWJzO1xyXG4gICAgICAgIGZvciAobGV0IGkgb2YgdGhpcy5pdGVtcykge1xyXG4gICAgICAgICAgICByZXR1cm5lZCArPSBKU09OLnN0cmluZ2lmeShpKTtcclxuICAgICAgICAgICAgcmV0dXJuZWQgKz0gXCJcXG5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHJldHVybmVkICs9IHRhYnMgKyBcIlxcblwiO1xyXG4gICAgICAgICAgICByZXR1cm5lZCArPSBpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmV0dXJuZWQ7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY29udGFpbnMoY29udGFpbmVyLCBjb250YWluZWQpIHtcclxuICAgIGxldCB4MSA9IGNvbnRhaW5lZC5wb3MueCAtIGNvbnRhaW5lZC5kaW0ubGVuZ3RoIC8gMjtcclxuICAgIGxldCB5MSA9IGNvbnRhaW5lZC5wb3MueSAtIGNvbnRhaW5lZC5kaW0uaGVpZ2h0IC8gMjtcclxuICAgIGxldCB4MiA9IGNvbnRhaW5lci5wb3MueCAtIGNvbnRhaW5lci5kaW0ubGVuZ3RoIC8gMjtcclxuICAgIGxldCB5MiA9IGNvbnRhaW5lci5wb3MueSAtIGNvbnRhaW5lci5kaW0uaGVpZ2h0IC8gMjtcclxuICAgIGlmICh4MSA+PSB4MlxyXG4gICAgICAgICYmIHgxICsgY29udGFpbmVkLmRpbS5sZW5ndGggPCB4MiArIGNvbnRhaW5lci5kaW0ubGVuZ3RoXHJcbiAgICAgICAgJiYgeTEgPj0geTJcclxuICAgICAgICAmJiB5MSArIGNvbnRhaW5lZC5kaW0uaGVpZ2h0IDwgeTIgKyBjb250YWluZXIuZGltLmhlaWdodCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNvbGxpZGVzKHJlY3RhbmdsZTEsIHJlY3RhbmdsZTIpIHtcclxuICAgIGxldCB4MSA9IHJlY3RhbmdsZTEucG9zLnggLSByZWN0YW5nbGUxLmRpbS5sZW5ndGggLyAyO1xyXG4gICAgbGV0IHkxID0gcmVjdGFuZ2xlMS5wb3MueSAtIHJlY3RhbmdsZTEuZGltLmhlaWdodCAvIDI7XHJcbiAgICBsZXQgeDIgPSByZWN0YW5nbGUyLnBvcy54IC0gcmVjdGFuZ2xlMi5kaW0ubGVuZ3RoIC8gMjtcclxuICAgIGxldCB5MiA9IHJlY3RhbmdsZTIucG9zLnkgLSByZWN0YW5nbGUyLmRpbS5oZWlnaHQgLyAyO1xyXG4gICAgaWYgKHgxIDwgeDIgKyByZWN0YW5nbGUyLmRpbS5sZW5ndGhcclxuICAgICAgICAmJiB4MSArIHJlY3RhbmdsZTEuZGltLmxlbmd0aCA+IHgyXHJcbiAgICAgICAgJiYgeTEgPCB5MiArIHJlY3RhbmdsZTIuZGltLmhlaWdodFxyXG4gICAgICAgICYmIHkxICsgcmVjdGFuZ2xlMS5kaW0uaGVpZ2h0ID4geTIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB0ZXN0Q2hpbGRyZW4ocXVhZCkge1xyXG4gICAgbGV0IGJvb2wgPSB0cnVlO1xyXG4gICAgZm9yIChsZXQgY2hpbGQgb2YgcXVhZC5jaGlsZHJlbikge1xyXG4gICAgICAgIGJvb2wgPSB0ZXN0Q2hpbGRyZW4oY2hpbGQpO1xyXG4gICAgICAgIGxldCByZWN0YW5nbGUgPSBjaGlsZC5hcmVhO1xyXG4gICAgICAgIGlmICghYm9vbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJlY3RhbmdsZS5wb3MueCArIHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gNCAmJiByZWN0YW5nbGUucG9zLnkgKyByZWN0YW5nbGUuZGltLmhlaWdodCAvIDQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJlY3RhbmdsZS5wb3MueCAtIHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gNCAmJiByZWN0YW5nbGUucG9zLnkgKyByZWN0YW5nbGUuZGltLmhlaWdodCAvIDQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJlY3RhbmdsZS5wb3MueCArIHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gNCAmJiByZWN0YW5nbGUucG9zLnkgLSByZWN0YW5nbGUuZGltLmhlaWdodCAvIDQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJlY3RhbmdsZS5wb3MueCAtIHJlY3RhbmdsZS5kaW0ubGVuZ3RoIC8gNCAmJiByZWN0YW5nbGUucG9zLnkgLSByZWN0YW5nbGUuZGltLmhlaWdodCAvIDQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJvb2w7XHJcbn1cclxuLy9jb25zb2xlLmxvZyh0ZXN0Q2hpbGRyZW4ocXVhZCkpXHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1YWR0cmVlLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBSZWN0YW5nbGUge1xyXG4gICAgdXBkYXRlKGR0LCBjdHgpIHtcclxuICAgIH1cclxuICAgIGNvbnN0cnVjdG9yKHJlY3RhbmdsZSwgY29sb3IgPSBcIiMwMDAwMDBcIiwgb3V0bGluZSA9IDApIHtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiR1JBUEhJQ1NcIjtcclxuICAgICAgICB0aGlzLmJvcmRlck91dGxpbmUgPSAwO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2hhcGUgPSByZWN0YW5nbGU7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSByZWN0YW5nbGUucG9zO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLmJvcmRlck91dGxpbmUgPSBvdXRsaW5lO1xyXG4gICAgfVxyXG4gICAgY29weShyZWN0YW5nbGUpIHtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IHJlY3RhbmdsZS5lbnRpdHk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IHJlY3RhbmdsZS5jb21wb25lbnRJZDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS54ID0gcmVjdGFuZ2xlLnRyYW5zZm9ybS54O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnkgPSByZWN0YW5nbGUudHJhbnNmb3JtLnk7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ueiA9IHJlY3RhbmdsZS50cmFuc2Zvcm0uejtcclxuICAgICAgICB0aGlzLmNvbG9yID0gcmVjdGFuZ2xlLmNvbG9yO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHJlY3RhbmdsZS52aXNpYmxlO1xyXG4gICAgICAgIHRoaXMuYWxpdmUgPSByZWN0YW5nbGUuYWxpdmU7XHJcbiAgICB9XHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuY3R4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmN0eC5maWxsUmVjdCh0aGlzLnNoYXBlLnBvcy54IC0gdGhpcy5zaGFwZS5kaW0ubGVuZ3RoIC8gMiwgdGhpcy5zaGFwZS5wb3MueSAtIHRoaXMuc2hhcGUuZGltLmhlaWdodCAvIDIsIHRoaXMuc2hhcGUuZGltLmxlbmd0aCwgdGhpcy5zaGFwZS5kaW0uaGVpZ2h0KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYm9yZGVyT3V0bGluZSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5jdHguY2xlYXJSZWN0KHRoaXMuc2hhcGUucG9zLnggLSAodGhpcy5zaGFwZS5kaW0ubGVuZ3RoIC0gdGhpcy5ib3JkZXJPdXRsaW5lKSAvIDIsIHRoaXMuc2hhcGUucG9zLnkgLSAodGhpcy5zaGFwZS5kaW0uaGVpZ2h0IC0gdGhpcy5ib3JkZXJPdXRsaW5lKSAvIDIsIHRoaXMuc2hhcGUuZGltLmxlbmd0aCAtIHRoaXMuYm9yZGVyT3V0bGluZSwgdGhpcy5zaGFwZS5kaW0uaGVpZ2h0IC0gdGhpcy5ib3JkZXJPdXRsaW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWN0YW5nbGUuanMubWFwIiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9HcmFwaGljcy9SZWN0YW5nbGUuanNcIjtcclxuZXhwb3J0IGNsYXNzIFJlY3RhbmdsZUVudGl0eSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MsIGRpbSkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gXCJSRUNUQU5HTEVcIjtcclxuICAgICAgICBsZXQgcmVjdCA9IG5ldyBSZWN0YW5nbGUoeyBwb3M6IHBvcywgZGltOiBkaW0sIHJvdDogMCB9KTtcclxuICAgICAgICB0aGlzLnJlY3RhbmdsZSA9IHJlY3Q7XHJcbiAgICAgICAgdGhpcy5wb3MgPSByZWN0LnNoYXBlLnBvcztcclxuICAgICAgICB0aGlzLmRpbSA9IHJlY3Quc2hhcGUuZGltO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKHJlY3QpO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlY3RhbmdsZUVudGl0eS5qcy5tYXAiLCJpbXBvcnQgeyBFbmdpbmVUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29uc3RhbnRzL2VuZ2luZVR5cGUuanNcIjtcclxuaW1wb3J0IHsgTW91c2VFbWl0dGVyLCBNb3VzZUxpc3RlbmVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9FdmVudC9MaXN0ZW5lci5qc1wiO1xyXG5pbXBvcnQgeyBLZXlCb2FyZEVtaXR0ZXIgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0V2ZW50L0tleWJvYXJkLmpzXCI7XHJcbmltcG9ydCB7IFNvY2tldENsaWVudCB9IGZyb20gXCIuLi8uLi8uLi9lbmdpbmUvc3JjL2NvbXBvbmVudHMvRXZlbnQvU29ja2V0U2VydmVyRW1pdHRlci5qc1wiO1xyXG5pbXBvcnQgeyBUZW1wbGFyIH0gZnJvbSBcIi4vVGVtcGxhci5qc1wiO1xyXG5pbXBvcnQgeyBNYWluQ2FtZXJhIH0gZnJvbSBcIi4vTWFpbkNhbWVyYS5qc1wiO1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9QbGF5ZXIuanNcIjtcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwiLi9MYWJlbC5qc1wiO1xyXG5pbXBvcnQgeyBTd29yZEFuaW0gfSBmcm9tIFwiLi9Td29yZEFuaW0uanNcIjtcclxuaW1wb3J0IHsgc2VydmVyQWRkIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29yZS9zY2VuZVV0aWxzLmpzXCI7XHJcbmltcG9ydCB7IFF1YWRUcmVlIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvc3RydWN0cy9RdWFkdHJlZS5qc1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL1JlY3RhbmdsZS5qc1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGVFbnRpdHkgfSBmcm9tIFwiLi9SZWN0YW5nbGVFbnRpdHkuanNcIjtcclxuZXhwb3J0IGNsYXNzIFdvcmxkIHtcclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZVR5cGUpIHtcclxuICAgICAgICB0aGlzLnNvbWV0aGluZyA9IDA7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBcIldvcmxkXCI7XHJcbiAgICAgICAgbGV0IHF1YWR0cmVlID0gbmV3IFF1YWRUcmVlKHsgcG9zOiB7IHg6IDUwMCwgeTogMjUwIH0sIGRpbTogeyBoZWlnaHQ6IDUwMCwgbGVuZ3RoOiAxMDAwIH0gfSk7XHJcbiAgICAgICAgbGV0IG5vZGUgPSBxdWFkdHJlZS5wYXJlbnROb2RlO1xyXG4gICAgICAgIGxldCBsaXN0ID0gW25vZGVdO1xyXG4gICAgICAgIGxldCBwYWRkaW5nID0gMjtcclxuICAgICAgICBsZXQgcXVhZE1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICB3aGlsZSAobGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gbGlzdC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5jaGlsZHJlbi5sZW5ndGgpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goaXRlbS5jaGlsZHJlbltpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSh7IHBvczogeyB4OiBpdGVtLmFyZWEucG9zLngsIHk6IGl0ZW0uYXJlYS5wb3MueSwgejogLWl0ZW0uZGVwdGggfSwgZGltOiB7IGhlaWdodDogaXRlbS5hcmVhLmRpbS5oZWlnaHQgLSBwYWRkaW5nICogMiAqIE1hdGguYWJzKGl0ZW0uZGVwdGgpLCBsZW5ndGg6IGl0ZW0uYXJlYS5kaW0ubGVuZ3RoIC0gcGFkZGluZyAqIDIgKiBNYXRoLmFicyhpdGVtLmRlcHRoKSB9LCByb3Q6IDAgfSwgZ2V0UmFuZG9tQ29sb3IoKSwgMTApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnB1c2gocmVjdGFuZ2xlKTtcclxuICAgICAgICAgICAgICAgIHF1YWRNYXAuc2V0KGl0ZW0sIHJlY3RhbmdsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG1vdXNlID0gbmV3IE1vdXNlTGlzdGVuZXIoeyBcImNsaWNrXCI6IChjbGlja0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBvc2l0aW9uIHggaXMgXCIgKyBjbGlja0V2ZW50LnBvcy54KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUG9zaXRpb24geSBpcyBcIiArIGNsaWNrRXZlbnQucG9zLnkpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOYW1lIGlzIFwiICsgY2xpY2tFdmVudC5ldmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb21ldGhpbmcrKztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IHsgeDogY2xpY2tFdmVudC5wb3MueCwgeTogY2xpY2tFdmVudC5wb3MueSwgejogLTIwIH07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpbSA9IHsgbGVuZ3RoOiBNYXRoLnJhbmRvbSgpICogMzAgKyAxLCBoZWlnaHQ6IE1hdGgucmFuZG9tKCkgKiAzMCArIDEgfTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IG5ldyBSZWN0YW5nbGVFbnRpdHkocG9zLCBkaW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkRW50aXR5KHRoaXMuc2NlbmUsIHJlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBxdWFkID0gcXVhZHRyZWUuaW5zZXJ0KHJlY3QucmVjdGFuZ2xlLnNoYXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcXVhZFJlY3QgPSBxdWFkTWFwLmdldChxdWFkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocXVhZFJlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjdC5yZWN0YW5nbGUuY29sb3IgPSBxdWFkUmVjdC5jb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiZGJsY2xpY2tcIjogKGNsaWNrZXZudCkgPT4ge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IG1hcCA9IG5ldyBNYXAoKTtcclxuICAgICAgICBtYXAuc2V0KFwiVGVtcGxhclwiLCAoKSA9PiB7IHJldHVybiBuZXcgVGVtcGxhcigpOyB9KTtcclxuICAgICAgICBtYXAuc2V0KFwiTWFpbkNhbWVyYVwiLCAoKSA9PiB7IGNvbnNvbGUubG9nKFwiY2FtZXJhIG1hZGVcIik7IHJldHVybiBuZXcgTWFpbkNhbWVyYSgpOyB9KTtcclxuICAgICAgICBtYXAuc2V0KFwiUGxheWVyXCIsICgpID0+IHsgcmV0dXJuIG5ldyBQbGF5ZXIoKTsgfSk7XHJcbiAgICAgICAgbWFwLnNldChcIkxhYmVsXCIsICgpID0+IHsgcmV0dXJuIG5ldyBMYWJlbCgpOyB9KTtcclxuICAgICAgICBtYXAuc2V0KFwiU1dPUkRBTklNXCIsICgpID0+IHsgcmV0dXJuIG5ldyBTd29yZEFuaW0oKTsgfSk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLnB1c2gobmV3IE1vdXNlRW1pdHRlcihlbmdpbmVUeXBlKSwgbW91c2UsIG5ldyBLZXlCb2FyZEVtaXR0ZXIoZW5naW5lVHlwZSksIG5ldyBTb2NrZXRDbGllbnQoe1xyXG4gICAgICAgICAgICBcInVwZGF0ZVwiOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZW50aXRpZXMgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eVNlbnQgb2YgZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdldFNjZW5lID0gdGhpcy5zY2VuZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldFNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcXVlcmllZEVudGl0eSA9IGdldFNjZW5lLmVudGl0aWVzLmdldChlbnRpdHlTZW50LmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWVyaWVkRW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRpdHlTZW50LmNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVuZ2luZSA9IGdldFNjZW5lLmVuZ2luZUNvbXBvbmVudHMuZ2V0KGVudGl0eVNlbnQuY29tcG9uZW50c1tpXS5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tcCA9IGVuZ2luZSA9PT0gbnVsbCB8fCBlbmdpbmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVuZ2luZS5nZXQoZW50aXR5U2VudC5jb21wb25lbnRzW2ldLmNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAuY29weShlbnRpdHlTZW50LmNvbXBvbmVudHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBZGRpbmcgbmV3IEVudGl0eVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW50aXR5RmFjdG9yeSA9IG1hcC5nZXQoZW50aXR5U2VudC5lbnRpdHlDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudGl0eUZhY3RvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVudGl0eSA9IGVudGl0eUZhY3RvcnkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LmlkID0gZW50aXR5U2VudC5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNjZW5lID0gZ2V0U2NlbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZW50aXR5LmNvbXBvbmVudHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5jb21wb25lbnRzW2pdLmNvcHkoZW50aXR5U2VudC5jb21wb25lbnRzW2pdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJBZGQoZ2V0U2NlbmUsIGVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2NlbmUgbm90IGZvdW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgRW5naW5lVHlwZS5TT0NLRVRDTElFTlQpKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRSYW5kb21Db2xvcigpIHtcclxuICAgIHZhciBsZXR0ZXJzID0gJzAxMjM0NTY3ODlBQkNERUYnO1xyXG4gICAgdmFyIGNvbG9yID0gJyMnO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuICAgICAgICBjb2xvciArPSBsZXR0ZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29sb3I7XHJcbn1cclxuLyoqXHJcbiAqIHNvY2tldC5vbihcInVwZGF0ZVwiLCAoZW50aXRpZXM6IEVudGl0eVBhY2tldFtdKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eVNlbnQgb2YgZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdldFNjZW5lID0gZW5naW5lLnNjZW5lTWFuYWdlci5zY2VuZXMuZ2V0KGVudGl0eVNlbnQuc2NlbmVJZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldFNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcXVlcmllZEVudGl0eSA9IGdldFNjZW5lLmVudGl0aWVzLmdldChlbnRpdHlTZW50LmlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXJpZWRFbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudGl0eVNlbnQuY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW5naW5lID0gZ2V0U2NlbmUuZW5naW5lQ29tcG9uZW50cy5nZXQoZW50aXR5U2VudC5jb21wb25lbnRzW2ldLmVuZ2luZVRhZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbXAgPSBlbmdpbmU/LmdldChlbnRpdHlTZW50LmNvbXBvbmVudHNbaV0uY29tcG9uZW50SWQgYXMgbnVtYmVyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcC5jb3B5KGVudGl0eVNlbnQuY29tcG9uZW50c1tpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBZGRpbmcgbmV3IEVudGl0eVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVudGl0eUZhY3RvcnkgPSBtYXAuZ2V0KGVudGl0eVNlbnQuZW50aXR5Q2xhc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5RmFjdG9yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbnRpdHkgPSBlbnRpdHlGYWN0b3J5KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkuaWQgPSBlbnRpdHlTZW50LmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNjZW5lID0gZ2V0U2NlbmUgYXMgU2NlbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVudGl0eS5jb21wb25lbnRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5jb21wb25lbnRzW2pdLmNvcHkoZW50aXR5U2VudC5jb21wb25lbnRzW2pdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJBZGQoZ2V0U2NlbmUsIGVudGl0eSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2NlbmUgbm90IGZvdW5kXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAqXHJcbiAqXHJcbiAqXHJcbiAqXHJcbiAqXHJcbiAqLyBcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V29ybGQuanMubWFwIiwiaW1wb3J0IHsgRW5naW5lIH0gZnJvbSBcIi4uL2VuZ2luZS9zcmMvY29yZS9lbmdpbmUuanNcIjtcclxuaW1wb3J0IHsgR3JhcGhpY3NDb25maWcgfSBmcm9tIFwiLi4vZW5naW5lL3NyYy9jb3JlL2NvbmZpZy5qc1wiO1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9zY2VuZXMvZW50aXRpZXMvUGxheWVyLmpzXCI7XHJcbmltcG9ydCB7IFRlbXBsYXIgfSBmcm9tIFwiLi9zY2VuZXMvZW50aXRpZXMvVGVtcGxhci5qc1wiO1xyXG5pbXBvcnQgeyBNYWluQ2FtZXJhIH0gZnJvbSBcIi4vc2NlbmVzL2VudGl0aWVzL01haW5DYW1lcmEuanNcIjtcclxuaW1wb3J0IHsgRW5naW5lVHlwZSB9IGZyb20gXCIuLi9lbmdpbmUvc3JjL2NvbnN0YW50cy9lbmdpbmVUeXBlLmpzXCI7XHJcbmltcG9ydCB7IFNvY2tldE1hbmFnZXIgfSBmcm9tIFwiLi4vZW5naW5lL3NyYy9jb3JlL21hbmFnZXJzL1NvY2tldE1hbmFnZXIuanNcIjtcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwiLi9zY2VuZXMvZW50aXRpZXMvTGFiZWwuanNcIjtcclxuaW1wb3J0IHsgU3dvcmRBbmltIH0gZnJvbSBcIi4vc2NlbmVzL2VudGl0aWVzL1N3b3JkQW5pbS5qc1wiO1xyXG5pbXBvcnQgeyBEaXZVSSB9IGZyb20gXCIuL3NjZW5lcy9lbnRpdGllcy9EaXZVSS5qc1wiO1xyXG5pbXBvcnQgeyBXb3JsZCB9IGZyb20gXCIuL3NjZW5lcy9lbnRpdGllcy9Xb3JsZC5qc1wiO1xyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgIFxyXG4gICAgbGV0IHNvY2tldDogU29ja2V0ID0gaW8oKVxyXG5cclxuICAgIGxldCBDT05GSUc6IFBoYXNlci5UeXBlcy5Db3JlLkdhbWVDb25maWcgPSB7XHJcbiAgICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgICAgdGl0bGU6ICd0ZXN0JyxcclxuICAgICAgICBwYXJlbnQ6ICdnYW1lJyxcclxuICAgICAgICBzY2VuZTogW1xyXG4gICAgICAgICAgICBuZXcgV2FpdGluZ1NjZW5lKHNvY2tldClcclxuICAgICAgICBdLFxyXG4gICAgICAgIHNjYWxlOiB7XHJcbiAgICAgICAgICAgIG1vZGU6IFBoYXNlci5TY2FsZS5DRU5URVJfQk9USCxcclxuICAgICAgICAgICAgd2lkdGg6IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aCAtICh3aW5kb3cub3V0ZXJXaWR0aCAtIHdpbmRvdy5pbm5lcldpZHRoKSxcclxuICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0IC0gKHdpbmRvdy5vdXRlckhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodClcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjM2FiYTNhXCIsXHJcbiAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXHJcblxyXG4gICAgICAgIGRvbToge1xyXG4gICAgICAgICAgICBjcmVhdGVDb250YWluZXI6IHRydWVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAgICAgc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKT0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCcpXHJcbiAgICAgICAgICAgIGxldCByb29tSWQ6IHN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZVxyXG4gICAgICAgICAgICBsZXQgcm9vbUFycjogc3RyaW5nW10gID0gcm9vbUlkLnNwbGl0KFwiL1wiKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyb29tQXJyW3Jvb21BcnIubGVuZ3RoLTFdKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyb29tSWQpXHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiQWRkUGxheWVyXCIsIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiUGxheWVyTmFtZVwiKSwgcm9vbUFycltyb29tQXJyLmxlbmd0aC0xXSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSlcclxuICAgICAgICBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Rpc2Nvbm5lY3RlZCcpXHJcbiAgICAgICAgfSlcclxuICAgIGxldCBnYW1lOiBQaGFzZXIuR2FtZSA9IG5ldyBQaGFzZXIuR2FtZShDT05GSUcpXHJcbiAgICAqL1xyXG4gICAgY2xhc3MgVGVzdCB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoZW50aXRpZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gXCJ0ZXN0XCI7XHJcbiAgICAgICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuZW50aXRpZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5naW5lQ29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRpdGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcy5zZXQoaSwgZW50aXRpZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IGVuZ2luZSA9IG5ldyBFbmdpbmUoe1xyXG4gICAgICAgIGVuZ2luZVR5cGU6IEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5ULFxyXG4gICAgICAgIGdyYXBoaWNzQ29uZmlnOiBuZXcgR3JhcGhpY3NDb25maWcoXCJ0ZXN0XCIsIFwiMTkzYXNcIiwgeyBcImRpc3BsYXk6ZmxleDtiYWNrZ3JvdW5kLWNvbG9yXCI6IFwid2hpdGVcIiwgXCJ3aWR0aFwiOiBcIjEwMCVcIiwgXCJoZWlnaHRcIjogXCIxMDAlXCIsIFwiei1pbmRleFwiOiBcIjBcIiB9KSxcclxuICAgICAgICBzY2VuZUNvbmZpZzogW1xyXG4gICAgICAgICAgICBuZXcgVGVzdChbXHJcbiAgICAgICAgICAgICAgICBuZXcgTWFpbkNhbWVyYSgpLFxyXG4gICAgICAgICAgICAgICAgbmV3IFRlbXBsYXIoKSxcclxuICAgICAgICAgICAgICAgIG5ldyBEaXZVSSgpLFxyXG4gICAgICAgICAgICAgICAgbmV3IFdvcmxkKEVuZ2luZVR5cGUuU09DS0VUQ0xJRU5UKVxyXG4gICAgICAgICAgICBdKVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgc2NyaXB0aW5nQ29uZmlnOiB7fVxyXG4gICAgfSk7XHJcbiAgICBsZXQgbWFwID0gbmV3IE1hcCgpO1xyXG4gICAgbWFwLnNldChcIlRlbXBsYXJcIiwgKCkgPT4geyByZXR1cm4gbmV3IFRlbXBsYXIoKTsgfSk7XHJcbiAgICBtYXAuc2V0KFwiTWFpbkNhbWVyYVwiLCAoKSA9PiB7IGNvbnNvbGUubG9nKFwiY2FtZXJhIG1hZGVcIik7IHJldHVybiBuZXcgTWFpbkNhbWVyYSgpOyB9KTtcclxuICAgIG1hcC5zZXQoXCJQbGF5ZXJcIiwgKCkgPT4geyByZXR1cm4gbmV3IFBsYXllcigpOyB9KTtcclxuICAgIG1hcC5zZXQoXCJMYWJlbFwiLCAoKSA9PiB7IHJldHVybiBuZXcgTGFiZWwoKTsgfSk7XHJcbiAgICBtYXAuc2V0KFwiU1dPUkRBTklNXCIsICgpID0+IHsgcmV0dXJuIG5ldyBTd29yZEFuaW0oKTsgfSk7XHJcbiAgICBlbmdpbmUuc3lzdGVtcy5wdXNoKG5ldyBTb2NrZXRNYW5hZ2VyKGVuZ2luZS5zY2VuZU1hbmFnZXIsIHtcclxuICAgICAgICBlbnRpdHlGYWN0b3J5TWFwOiBtYXAsXHJcbiAgICAgICAgc29ja2V0RXZlbnRNYXA6IChzb2NrZXQpID0+IHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgIHNvY2tldC5vbihcImNsaWVudEluaXRpYWxpemVcIiwgKGVudGl0aWVzOiBFbnRpdHlQYWNrZXRbXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjbGllbnRJbml0aWFsaXplIGFjdGl2YXRlZFwiKVxyXG4gICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50aXR5U2VudCBvZiBlbnRpdGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBnZXRTY2VuZSA9IGVuZ2luZS5zY2VuZU1hbmFnZXIuc2NlbmVzLmdldChlbnRpdHlTZW50LnNjZW5lSWQpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldFNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdFbnRpdHlGYWN0b3J5ID0gbWFwLmdldChlbnRpdHlTZW50LmVudGl0eUNsYXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3RW50aXR5RmFjdG9yeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0VudGl0eSA9IG5ld0VudGl0eUZhY3RvcnkoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RW50aXR5LmlkID0gZW50aXR5U2VudC5pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RW50aXR5LnNjZW5lID0gZW5naW5lLnNjZW5lTWFuYWdlci5zY2VuZXMuZ2V0KGVudGl0eVNlbnQuc2NlbmVJZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3RW50aXR5LmNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFbnRpdHkuY29tcG9uZW50c1tpXS5jb3B5KGVudGl0eVNlbnQuY29tcG9uZW50c1tpXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFNjZW5lLmFkZEVudGl0eShnZXRTY2VuZSwgbmV3RW50aXR5LCAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWRkZWQgXCIrIG5ld0VudGl0eS5jbGFzc05hbWUpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgZW50aXR5OyBDbGFzcyBuYW1lOiBcIiArIGVudGl0eVNlbnQuZW50aXR5Q2xhc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTY2VuZSBub3QgZm91bmRcIilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICBmb3IgKGxldCBlIG9mIGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlkID0gMFxyXG4gICAgICAgICAgICAgICAgaWYgKGUuaWQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBlLmlkXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlbnQgaXRlbXMgaXMgXCIgKyBlbnRpdHkgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZW5naW5lLnNjZW5lTWFuYWdlci5nZXRDdXJyZW50U2NlbmUoKS5hZGRFbnRpdHkoZW5naW5lLnNjZW5lTWFuYWdlci5nZXRDdXJyZW50U2NlbmUoKSxlICwgZS5pZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAvL30pXHJcbiAgICAgICAgICAgIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm9vbUlkID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvb21BcnIgPSByb29tSWQuc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoXCJqb2luZWRcIiwgd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJQbGF5ZXJOYW1lXCIpLCByb29tQXJyW3Jvb21BcnIubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbWl0dGluZ1wiKTtcclxuICAgICAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiY2xpZW50SW5pdGlhbGl6ZVwiKTtcclxuICAgICAgICAgICAgICAgIC8vZW5naW5lLnN0YXJ0KDIwMDApXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pKTtcclxuICAgIGVuZ2luZS5zdGFydCgxMCk7XHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJFbmdpbmVUeXBlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwiYWRkU29ja2V0RW50aXR5Iiwic2NlbmUiLCJlbnRpdHkiLCJ1bmlxdWVJZCIsImdldFVuaXF1ZUlkIiwiaWQiLCJlbnRpdGllcyIsInNldCIsImNvbXAiLCJjb21wb25lbnRzIiwiY29tcExpc3QiLCJlbmdpbmVDb21wb25lbnRzIiwiZW5naW5lVGFnIiwic3lzdGVtIiwic2NlbmVNYW5hZ2VyIiwic3lzdGVtVGFnIiwicmVnaXN0ZXIiLCJjb25zb2xlIiwibG9nIiwiY29tcG9uZW50SWQiLCJnZXRVbmlxdWVDb21wb25lbnRJZCIsImFkZEVudGl0eSIsInNlcnZlckFkZCIsInVuZGVmaW5lZCIsIkVycm9yIiwibmV3RW50aXR5UXVldWUiLCJoYXMiLCJjb25zdHJ1Y3RvciIsImVuZ2luZUNvbmZpZyIsInNjZW5lcyIsInN5c3RlbXMiLCJ0aGlzIiwiTWFwIiwiZW5naW5lVHlwZSIsIlNPQ0tFVENMSUVOVCIsIlNPQ0tFVFNFUlZFUiIsIkNMSUVOVE9OTFkiLCJpIiwibGVuZ3RoIiwibmV3U2NlbmUiLCJuYW1lIiwic2NlbmVDb25maWdzIiwiY3VycmVudElkeCIsInN3aXRjaFNjZW5lcyIsInN5cyIsInRhZyIsImdldEN1cnJlbnRTY2VuZSIsImN1cnIiLCJzdGF0aWMiLCJFdmVudEhhbmRsZXIiLCJldmVudENvbmZpZyIsImtleWJvYXJkIiwibW91c2UiLCJkZWxldGVkIiwiZXZlbnRzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHVzaCIsInJlZ2lzdGVyTGlzdGVuZXIiLCJyZWdpc3RlckVtaXR0ZXIiLCJnZXRDb25maWciLCJ1bnJlZ2lzdGVyIiwiYWxpdmUiLCJ1cGRhdGUiLCJkdCIsInNpemUiLCJrZXlzIiwicG9wIiwiZGVsZXRlIiwiUHJpb3JpdHlRdWV1ZSIsIml0ZW1zIiwiY2xlYXIiLCJzd2FwIiwiaWR4MSIsImlkeDIiLCJ0bXAiLCJlbnF1ZXVlIiwiaXRlbSIsInByaW9yaXR5IiwiZGF0YSIsImlkeCIsInBhcmVudElkeCIsIk1hdGgiLCJmbG9vciIsImRlcXVldWUiLCJwb3BwZWQiLCJsYXN0IiwibGVmdCIsInJpZ2h0IiwiY2hpbGRJZHgiLCJQYWludGVyU3RyYXRlZ3kiLCJxdWV1ZSIsInJlbmRlciIsInJlbmRlcmluZ0FyciIsImxpc3QiLCJkZXF1ZXVlZCIsImNhbWVyYSIsImRlcmVnaXN0ZXJTdHJhdGVneSIsInJlZ2lzdGVyU3RyYXRlZ3kiLCJjb21wb25lbnQiLCJ0cmFuc2Zvcm0iLCJ6IiwiR3JhcGhpY3NFbmdpbmUiLCJncmFwaGljc0NvbmZpZyIsImNvbnRleHQiLCJyZW5kZXJpbmciLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiaGVpZ2h0Iiwid2lkdGgiLCJib2R5IiwibWFyZ2luIiwicmVuZGVyU3RyYXRlZ3kiLCJjb250ZXh0SW5mbyIsInJlbmRlcmVkIiwiaW5pdGlhbGl6ZSIsImN0eCIsImMiLCJzZXRTY2VuZSIsIlBoeXNpY3NFbmdpbmUiLCJjb25maWciLCJTY3JpcHRpbmdFbmdpbmUiLCJjYWxsYmFjayIsIkNvbnRleHRJbmZvIiwic2V0dXAiLCJjYW52YXMiLCJnZW5lcmF0ZUNhbnZhcyIsImdldENvbnRleHQiLCJkaXYiLCJnZW5lcmF0ZURpdiIsInBhcmVudCIsImNyZWF0ZUVsZW1lbnQiLCJ6SW5kZXgiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImNhbnZhc0lEIiwicGFyc2VTdHlsZSIsInNldEF0dHJpYnV0ZSIsImdldEN0eCIsImdldENhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJzdHlsZU9iamVjdCIsImNzc0FycmF5IiwiZW50cmllcyIsIm1hcCIsImsiLCJ2Iiwiam9pbiIsImJhY2tncm91bmQiLCJpbWFnZSIsIkltYWdlIiwic3JjIiwicG9zaXRpb24iLCJOYWl2ZUNvbGxpc2lvbiIsInJlZ2lzdGVyQ29tcG9uZW50Iiwia2V5MSIsImNvbDEiLCJ2aXNpYmxlIiwia2V5MiIsImNvbDIiLCJjaGVja0NvbGxpc2lvbiIsImNvbGxpZGVzIiwiQ29sbGlzaW9uU3lzdGVtIiwiYm91bmRzIiwiY29sbGlzaW9uU3RyYXRlZ3kiLCJkZWxldGVDb21wb25lbnQiLCJjb2wiLCJFbmdpbmUiLCJnYW1lQ29uZmlnIiwidGltZSIsInBoeXNpY3NDb25maWciLCJzY3JpcHRpbmdDb25maWciLCJjb2xsaXNpb25Db25maWciLCJncmFwaGljcyIsInNjZW5lQ29uZmlnIiwicnVubmluZyIsInN0YXJ0Iiwib2xkTWFwIiwiZSIsInNldFRpbWVvdXQiLCJzZXJ2ZXJVcGRhdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lc3RhbXAiLCJHcmFwaGljc0NvbmZpZyIsIlRyYW5zZm9ybSIsInBvcyIsIngiLCJ5IiwidmVsIiwiYWNjZWwiLCJjb3B5IiwidG9KU09OIiwiZ2V0VG9wWCIsInJlY3RhbmdsZSIsImRpbSIsImdldFRvcFkiLCJTcHJpdGUiLCJzaGFwZSIsImVsZW1lbnQiLCJyb3QiLCJ2aXNpdCIsImRyYXdJbWFnZSIsInNldFNyYyIsInJlbmRlcnJlZCIsIk1vdXNlTGlzdGVuZXIiLCJjbGlja01hcCIsImV4ZWN1dGUiLCJmdW5jIiwiZXZlbnROYW1lIiwiZ2V0RXZlbnRUeXBlIiwibGlzdGVuZXIiLCJnZXRFdmVudHMiLCJNb3VzZUVtaXR0ZXIiLCJlbmdpbmUiLCJsaXN0ZW5lcnMiLCJTZXQiLCJxdWVyeVNlbGVjdG9yIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFkZExpc3RlbmVyIiwiYWRkIiwiZW1pdCIsIlNjcmlwdCIsInNjcmlwdCIsImNvbXBvbmVuSWQiLCJCb3hDb2xsaWRlciIsIm9uQ29sbGlzaW9uIiwiY29sbGlkZVR5cGUiLCJwcmV2IiwiYm91bmRpbmdCb3giLCJjb2xsaWRlciIsInJlY3RYIiwicmVjdFkiLCJyZWN0YW5nbGVYIiwicmVjdGFuZ2xlWSIsIlBsYXllciIsInJhbmRvbSIsImNsYXNzTmFtZSIsImNvbGwiLCJzcHJpdGUiLCJjbGljayIsIlRlbXBsYXIiLCJDYW1lcmEiLCJzY2FsZSIsImFycmF5IiwidHJhbnNsYXRlIiwiY2xlYXJSZWN0Iiwic2F2ZSIsIktleWJvYXJkTGlzdGVuZXIiLCJLZXlCb2FyZEVtaXR0ZXIiLCJNYWluQ2FtZXJhIiwiUEFDS0VUX1RZUEVTIiwiY3JlYXRlIiwiUEFDS0VUX1RZUEVTX1JFVkVSU0UiLCJmb3JFYWNoIiwiRVJST1JfUEFDS0VUIiwidHlwZSIsIndpdGhOYXRpdmVCbG9iIiwiQmxvYiIsInRvU3RyaW5nIiwid2l0aE5hdGl2ZUFycmF5QnVmZmVyIiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJidWZmZXIiLCJlbmNvZGVQYWNrZXQiLCJzdXBwb3J0c0JpbmFyeSIsImVuY29kZUJsb2JBc0Jhc2U2NCIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiY29udGVudCIsInJlc3VsdCIsInNwbGl0IiwicmVhZEFzRGF0YVVSTCIsInRvQXJyYXkiLCJVaW50OEFycmF5IiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJURVhUX0VOQ09ERVIiLCJlbmNvZGVQYWNrZXRUb0JpbmFyeSIsInBhY2tldCIsImFycmF5QnVmZmVyIiwidGhlbiIsImVuY29kZWQiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsImxvb2t1cCIsImNoYXJzIiwiY2hhckNvZGVBdCIsImRlY29kZVBhY2tldCIsImVuY29kZWRQYWNrZXQiLCJiaW5hcnlUeXBlIiwibWFwQmluYXJ5IiwiY2hhckF0IiwiZGVjb2RlQmFzZTY0UGFja2V0Iiwic3Vic3RyaW5nIiwiZGVjb2RlZCIsImJhc2U2NCIsImVuY29kZWQxIiwiZW5jb2RlZDIiLCJlbmNvZGVkMyIsImVuY29kZWQ0IiwiYnVmZmVyTGVuZ3RoIiwibGVuIiwicCIsImFycmF5YnVmZmVyIiwiYnl0ZXMiLCJkZWNvZGUiLCJTRVBBUkFUT1IiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJURVhUX0RFQ09ERVIiLCJFbWl0dGVyIiwibWl4aW4iLCJvbiIsImZuIiwiX2NhbGxiYWNrcyIsIm9uY2UiLCJvZmYiLCJhcHBseSIsImFyZ3VtZW50cyIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNiIiwiY2FsbGJhY2tzIiwic3BsaWNlIiwiYXJncyIsIkFycmF5Iiwic2xpY2UiLCJlbWl0UmVzZXJ2ZWQiLCJoYXNMaXN0ZW5lcnMiLCJnbG9iYWxUaGlzU2hpbSIsInNlbGYiLCJGdW5jdGlvbiIsInBpY2siLCJhdHRyIiwicmVkdWNlIiwiYWNjIiwiTkFUSVZFX1NFVF9USU1FT1VUIiwiTkFUSVZFX0NMRUFSX1RJTUVPVVQiLCJjbGVhclRpbWVvdXQiLCJpbnN0YWxsVGltZXJGdW5jdGlvbnMiLCJvcHRzIiwidXNlTmF0aXZlVGltZXJzIiwic2V0VGltZW91dEZuIiwiYmluZCIsImNsZWFyVGltZW91dEZuIiwiVHJhbnNwb3J0RXJyb3IiLCJyZWFzb24iLCJkZXNjcmlwdGlvbiIsInN1cGVyIiwiVHJhbnNwb3J0Iiwid3JpdGFibGUiLCJxdWVyeSIsInNvY2tldCIsIm9uRXJyb3IiLCJvcGVuIiwicmVhZHlTdGF0ZSIsImRvT3BlbiIsImNsb3NlIiwiZG9DbG9zZSIsIm9uQ2xvc2UiLCJzZW5kIiwicGFja2V0cyIsIndyaXRlIiwib25PcGVuIiwib25EYXRhIiwib25QYWNrZXQiLCJkZXRhaWxzIiwicGF1c2UiLCJvblBhdXNlIiwiY3JlYXRlVXJpIiwic2NoZW1hIiwiX2hvc3RuYW1lIiwiX3BvcnQiLCJwYXRoIiwiX3F1ZXJ5IiwiaG9zdG5hbWUiLCJpbmRleE9mIiwicG9ydCIsInNlY3VyZSIsIk51bWJlciIsImVuY29kZWRRdWVyeSIsInN0ciIsImVuY29kZVVSSUNvbXBvbmVudCIsImFscGhhYmV0Iiwic2VlZCIsIm51bSIsInllYXN0Iiwibm93IiwiRGF0ZSIsIlhNTEh0dHBSZXF1ZXN0IiwiZXJyIiwiaGFzQ09SUyIsIlhIUiIsInhkb21haW4iLCJjb25jYXQiLCJlbXB0eSIsImhhc1hIUjIiLCJyZXNwb25zZVR5cGUiLCJSZXF1ZXN0IiwidXJpIiwibWV0aG9kIiwiX2EiLCJ4ZCIsInhociIsImV4dHJhSGVhZGVycyIsInNldERpc2FibGVIZWFkZXJDaGVjayIsInNldFJlcXVlc3RIZWFkZXIiLCJjb29raWVKYXIiLCJhZGRDb29raWVzIiwid2l0aENyZWRlbnRpYWxzIiwicmVxdWVzdFRpbWVvdXQiLCJ0aW1lb3V0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicGFyc2VDb29raWVzIiwic3RhdHVzIiwib25Mb2FkIiwiaW5kZXgiLCJyZXF1ZXN0c0NvdW50IiwicmVxdWVzdHMiLCJjbGVhbnVwIiwiZnJvbUVycm9yIiwiYWJvcnQiLCJyZXNwb25zZVRleHQiLCJ1bmxvYWRIYW5kbGVyIiwiYXR0YWNoRXZlbnQiLCJuZXh0VGljayIsIlByb21pc2UiLCJyZXNvbHZlIiwiV2ViU29ja2V0IiwiTW96V2ViU29ja2V0IiwiaXNSZWFjdE5hdGl2ZSIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ0b0xvd2VyQ2FzZSIsInNob3VsZEluY2x1ZGVCaW5hcnlIZWFkZXIiLCJ0cmFuc3BvcnRzIiwid2Vic29ja2V0IiwiZm9yY2VCYXNlNjQiLCJjaGVjayIsInByb3RvY29scyIsImhlYWRlcnMiLCJ3cyIsImFkZEV2ZW50TGlzdGVuZXJzIiwib25vcGVuIiwiYXV0b1VucmVmIiwiX3NvY2tldCIsInVucmVmIiwib25jbG9zZSIsImNsb3NlRXZlbnQiLCJvbm1lc3NhZ2UiLCJldiIsIm9uZXJyb3IiLCJsYXN0UGFja2V0IiwidGltZXN0YW1wUmVxdWVzdHMiLCJ0aW1lc3RhbXBQYXJhbSIsImI2NCIsIndlYnRyYW5zcG9ydCIsIldlYlRyYW5zcG9ydCIsInRyYW5zcG9ydCIsInRyYW5zcG9ydE9wdGlvbnMiLCJjbG9zZWQiLCJjYXRjaCIsInJlYWR5IiwiY3JlYXRlQmlkaXJlY3Rpb25hbFN0cmVhbSIsInN0cmVhbSIsInJlYWRlciIsInJlYWRhYmxlIiwiZ2V0UmVhZGVyIiwiYmluYXJ5RmxhZyIsIndyaXRlciIsImdldFdyaXRlciIsInJlYWQiLCJkb25lIiwiaXNCaW5hcnkiLCJUZXh0RGVjb2RlciIsImlzUGxhaW5CaW5hcnkiLCJkZWNvZGVQYWNrZXRGcm9tQmluYXJ5IiwiaGFuZHNoYWtlIiwic2lkIiwib2YiLCJwb2xsaW5nIiwibG9jYXRpb24iLCJpc1NTTCIsInByb3RvY29sIiwiY3JlYXRlQ29va2llSmFyIiwicG9sbCIsInRvdGFsIiwiZG9Qb2xsIiwiZW5jb2RlZFBheWxvYWQiLCJlbmNvZGVkUGFja2V0cyIsImRlY29kZWRQYWNrZXQiLCJkZWNvZGVQYXlsb2FkIiwiY291bnQiLCJlbmNvZGVQYXlsb2FkIiwiZG9Xcml0ZSIsInJlcXVlc3QiLCJhc3NpZ24iLCJyZXEiLCJ4aHJTdGF0dXMiLCJwb2xsWGhyIiwicmUiLCJwYXJ0cyIsInBhcnNlIiwiYiIsInJlcGxhY2UiLCJtIiwiZXhlYyIsInNvdXJjZSIsImhvc3QiLCJhdXRob3JpdHkiLCJpcHY2dXJpIiwicGF0aE5hbWVzIiwibmFtZXMiLCJxdWVyeUtleSIsIiQwIiwiJDEiLCIkMiIsIlNvY2tldCIsIndyaXRlQnVmZmVyIiwicHJldkJ1ZmZlckxlbiIsImFnZW50IiwidXBncmFkZSIsInJlbWVtYmVyVXBncmFkZSIsImFkZFRyYWlsaW5nU2xhc2giLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJwZXJNZXNzYWdlRGVmbGF0ZSIsInRocmVzaG9sZCIsImNsb3NlT25CZWZvcmV1bmxvYWQiLCJxcyIsInFyeSIsInBhaXJzIiwibCIsInBhaXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ1cGdyYWRlcyIsInBpbmdJbnRlcnZhbCIsInBpbmdUaW1lb3V0IiwicGluZ1RpbWVvdXRUaW1lciIsImJlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIiLCJvZmZsaW5lRXZlbnRMaXN0ZW5lciIsImNyZWF0ZVRyYW5zcG9ydCIsIkVJTyIsInByaW9yV2Vic29ja2V0U3VjY2VzcyIsInNoaWZ0Iiwic2V0VHJhbnNwb3J0Iiwib25EcmFpbiIsInByb2JlIiwiZmFpbGVkIiwib25UcmFuc3BvcnRPcGVuIiwibXNnIiwidXBncmFkaW5nIiwiZmx1c2giLCJmcmVlemVUcmFuc3BvcnQiLCJlcnJvciIsIm9uVHJhbnNwb3J0Q2xvc2UiLCJvbnVwZ3JhZGUiLCJ0byIsIm9uSGFuZHNoYWtlIiwiSlNPTiIsInJlc2V0UGluZ1RpbWVvdXQiLCJzZW5kUGFja2V0IiwiY29kZSIsImZpbHRlclVwZ3JhZGVzIiwibWF4UGF5bG9hZCIsImdldFdyaXRhYmxlUGFja2V0cyIsInBheWxvYWRTaXplIiwidXRmOExlbmd0aCIsImNlaWwiLCJvcHRpb25zIiwiY29tcHJlc3MiLCJjbGVhbnVwQW5kQ2xvc2UiLCJ3YWl0Rm9yVXBncmFkZSIsImZpbHRlcmVkVXBncmFkZXMiLCJqIiwid2l0aE5hdGl2ZUZpbGUiLCJGaWxlIiwiaGFzQmluYXJ5IiwiaXNBcnJheSIsImRlY29uc3RydWN0UGFja2V0IiwiYnVmZmVycyIsInBhY2tldERhdGEiLCJwYWNrIiwiX2RlY29uc3RydWN0UGFja2V0IiwiYXR0YWNobWVudHMiLCJwbGFjZWhvbGRlciIsIl9wbGFjZWhvbGRlciIsIm5ld0RhdGEiLCJyZWNvbnN0cnVjdFBhY2tldCIsIl9yZWNvbnN0cnVjdFBhY2tldCIsIlJFU0VSVkVEX0VWRU5UUyIsIlBhY2tldFR5cGUiLCJFbmNvZGVyIiwicmVwbGFjZXIiLCJFVkVOVCIsIkFDSyIsImVuY29kZUFzU3RyaW5nIiwiZW5jb2RlQXNCaW5hcnkiLCJCSU5BUllfRVZFTlQiLCJCSU5BUllfQUNLIiwibnNwIiwic3RyaW5naWZ5IiwiZGVjb25zdHJ1Y3Rpb24iLCJ1bnNoaWZ0IiwiaXNPYmplY3QiLCJEZWNvZGVyIiwicmV2aXZlciIsInJlY29uc3RydWN0b3IiLCJkZWNvZGVTdHJpbmciLCJpc0JpbmFyeUV2ZW50IiwiQmluYXJ5UmVjb25zdHJ1Y3RvciIsInRha2VCaW5hcnlEYXRhIiwiYnVmIiwibmV4dCIsInBheWxvYWQiLCJ0cnlQYXJzZSIsInN1YnN0ciIsImlzUGF5bG9hZFZhbGlkIiwiQ09OTkVDVCIsIkRJU0NPTk5FQ1QiLCJDT05ORUNUX0VSUk9SIiwiZGVzdHJveSIsImZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24iLCJyZWNvblBhY2siLCJiaW5EYXRhIiwiZnJlZXplIiwiY29ubmVjdCIsImNvbm5lY3RfZXJyb3IiLCJkaXNjb25uZWN0IiwiZGlzY29ubmVjdGluZyIsIm5ld0xpc3RlbmVyIiwiaW8iLCJjb25uZWN0ZWQiLCJyZWNvdmVyZWQiLCJyZWNlaXZlQnVmZmVyIiwic2VuZEJ1ZmZlciIsIl9xdWV1ZSIsIl9xdWV1ZVNlcSIsImlkcyIsImFja3MiLCJmbGFncyIsImF1dGgiLCJfb3B0cyIsIl9hdXRvQ29ubmVjdCIsImRpc2Nvbm5lY3RlZCIsInN1YkV2ZW50cyIsInN1YnMiLCJvbnBhY2tldCIsImFjdGl2ZSIsIl9yZWFkeVN0YXRlIiwicmV0cmllcyIsImZyb21RdWV1ZSIsInZvbGF0aWxlIiwiX2FkZFRvUXVldWUiLCJhY2siLCJfcmVnaXN0ZXJBY2tDYWxsYmFjayIsImlzVHJhbnNwb3J0V3JpdGFibGUiLCJub3RpZnlPdXRnb2luZ0xpc3RlbmVycyIsImFja1RpbWVvdXQiLCJ0aW1lciIsImVtaXRXaXRoQWNrIiwid2l0aEVyciIsInJlamVjdCIsImFyZzEiLCJhcmcyIiwidHJ5Q291bnQiLCJwZW5kaW5nIiwicmVzcG9uc2VBcmdzIiwiX2RyYWluUXVldWUiLCJmb3JjZSIsIl9wYWNrZXQiLCJfc2VuZENvbm5lY3RQYWNrZXQiLCJfcGlkIiwicGlkIiwib2Zmc2V0IiwiX2xhc3RPZmZzZXQiLCJvbmNvbm5lY3QiLCJvbmV2ZW50Iiwib25hY2siLCJvbmRpc2Nvbm5lY3QiLCJtZXNzYWdlIiwiZW1pdEV2ZW50IiwiX2FueUxpc3RlbmVycyIsInNlbnQiLCJlbWl0QnVmZmVyZWQiLCJzdWJEZXN0cm95Iiwib25BbnkiLCJwcmVwZW5kQW55Iiwib2ZmQW55IiwibGlzdGVuZXJzQW55Iiwib25BbnlPdXRnb2luZyIsIl9hbnlPdXRnb2luZ0xpc3RlbmVycyIsInByZXBlbmRBbnlPdXRnb2luZyIsIm9mZkFueU91dGdvaW5nIiwibGlzdGVuZXJzQW55T3V0Z29pbmciLCJCYWNrb2ZmIiwibXMiLCJtaW4iLCJtYXgiLCJmYWN0b3IiLCJqaXR0ZXIiLCJhdHRlbXB0cyIsImR1cmF0aW9uIiwicG93IiwicmFuZCIsImRldmlhdGlvbiIsInJlc2V0Iiwic2V0TWluIiwic2V0TWF4Iiwic2V0Sml0dGVyIiwiTWFuYWdlciIsIm5zcHMiLCJyZWNvbm5lY3Rpb24iLCJyZWNvbm5lY3Rpb25BdHRlbXB0cyIsIkluZmluaXR5IiwicmVjb25uZWN0aW9uRGVsYXkiLCJyZWNvbm5lY3Rpb25EZWxheU1heCIsInJhbmRvbWl6YXRpb25GYWN0b3IiLCJiYWNrb2ZmIiwiX3BhcnNlciIsInBhcnNlciIsImVuY29kZXIiLCJkZWNvZGVyIiwiYXV0b0Nvbm5lY3QiLCJfcmVjb25uZWN0aW9uIiwiX3JlY29ubmVjdGlvbkF0dGVtcHRzIiwiX3JlY29ubmVjdGlvbkRlbGF5IiwiX3JhbmRvbWl6YXRpb25GYWN0b3IiLCJfcmVjb25uZWN0aW9uRGVsYXlNYXgiLCJfdGltZW91dCIsIm1heWJlUmVjb25uZWN0T25PcGVuIiwiX3JlY29ubmVjdGluZyIsInJlY29ubmVjdCIsInNraXBSZWNvbm5lY3QiLCJvcGVuU3ViRGVzdHJveSIsImVycm9yU3ViIiwib25waW5nIiwib25kYXRhIiwib25kZWNvZGVkIiwiX2Rlc3Ryb3kiLCJfY2xvc2UiLCJkZWxheSIsIm9ucmVjb25uZWN0IiwiYXR0ZW1wdCIsImNhY2hlIiwicGFyc2VkIiwibG9jIiwidGVzdCIsImhyZWYiLCJ1cmwiLCJzYW1lTmFtZXNwYWNlIiwiZm9yY2VOZXciLCJtdWx0aXBsZXgiLCJTb2NrZXRNYW5hZ2VyIiwiZW1pdHRlcnMiLCJ1bnJlZ2lzdGVyZWQiLCJzb2NrZXRFdmVudE1hcCIsImVtaXR0ZXIiLCJUZXh0IiwidGV4dCIsImZpbGxUZXh0IiwidG9Kc29uIiwiTGFiZWwiLCJUaW1lZFNwcml0ZVNoZWV0Iiwic3RhdGUiLCJzdGF0ZUNoYW5nZSIsIm51bVN0YXRlcyIsInJlY2VpdmVyIiwic2VuZGVyIiwiU3dvcmRBbmltIiwiSW1hZ2VCdXR0b24iLCJpbWFnZVVybCIsIm9uY2xpY2siLCJvbkNsaWNrIiwidW5tb3VudCIsInN0cmF0ZWd5QXJyIiwiY3NzVGV4dCIsImNoaWxkSW1hZ2UiLCJEaXYiLCJjaGlsZHJlbiIsInJlbW92ZSIsInRlbXAiLCJodG1sVGFnIiwidGV4dENvbnRlbnQiLCJEaXZVSSIsImJvdHRvbWRpdiIsInRlbXBsYXJCdXR0b24iLCJnZW5lcmF0ZUJ1dHRvbiIsIktuaWdodEJ1dHRvbiIsImFyY2hlckJ1dHRvbiIsInByaWVzdEJ1dHRvbiIsInJvZ3VlQnV0dG9uIiwiY2hhcmFjdGVyTmFtZSIsImRpdklkIiwiYnV0dG9uIiwicmVtb3ZlRW50aXR5IiwiU29ja2V0Q2xpZW50Iiwic29ja2V0TWFwIiwiZW1pc3Npb25RdWV1ZSIsImxpc3RlblF1ZXVlIiwibGlzdGVuZXJMb2NrIiwicXVldWVFdmVudCIsIlF1YWRUcmVlIiwiZ2V0UXVhZCIsInBhcmVudE5vZGUiLCJRdWFkVHJlZU5vZGUiLCJib3giLCJpbnNlcnQiLCJxdWFkTm9kZSIsImRlcHRoIiwibWF4RGVwdGgiLCJhcmVhIiwicmVzaXplIiwicXVlcnlIZWxwZXIiLCJhbnN3ZXIiLCJjb250YWlucyIsImdldEl0ZW1MaXN0IiwidGFicyIsInJldHVybmVkIiwiY29udGFpbmVyIiwiY29udGFpbmVkIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyZWN0YW5nbGUxIiwicmVjdGFuZ2xlMiIsIlJlY3RhbmdsZSIsImNvbG9yIiwib3V0bGluZSIsImJvcmRlck91dGxpbmUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIlJlY3RhbmdsZUVudGl0eSIsIldvcmxkIiwic29tZXRoaW5nIiwicXVhZHRyZWUiLCJxdWFkTWFwIiwicGFkZGluZyIsImFicyIsImdldFJhbmRvbUNvbG9yIiwiY2xpY2tFdmVudCIsInF1YWQiLCJxdWFkUmVjdCIsImNsaWNrZXZudCIsImVudGl0eVNlbnQiLCJnZXRTY2VuZSIsImVudGl0eUZhY3RvcnkiLCJlbnRpdHlDbGFzcyIsImVudGl0eUZhY3RvcnlNYXAiLCJyb29tQXJyIiwicGF0aG5hbWUiLCJzZXNzaW9uU3RvcmFnZSIsImdldEl0ZW0iXSwic291cmNlUm9vdCI6IiJ9