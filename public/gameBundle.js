(()=>{"use strict";class t{constructor(t){this.tag="GRAPHICS",this.graphicsConfig=t,this.components=[],document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.body.style.height="100%",document.body.style.width="100%",document.body.style.margin="0",this.setup(),this.canvas=this.generateCanvas(),this.ctx=this.canvas.getContext("2d"),this.div=this.generateDiv(this.graphicsConfig.parent),this.entities=[]}update(t){for(var e of(console.log("Graphics"),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.components))console.log(e.componentId),e.update(t,this.ctx),console.log("Inside Graphics Component"),console.log(e.componentId)}generateDiv(t){var e=document.createElement("div");return e.id=t,e.style.position="absolute",e.style.height="100%",e.style.width="100%",e.style.zIndex="1",e.style.backgroundImage="/images/test.jpg",e.appendChild(this.canvas),document.body.appendChild(e),console.log("test"),e}generateCanvas(){var t=document.createElement("CANVAS");return t.id=this.graphicsConfig.canvasID,console.log(this.parseStyle(this.graphicsConfig.style)),console.log("Before"),t.setAttribute("style",this.parseStyle(this.graphicsConfig.style)),t}getCtx(){return this.getCanvas().getContext("2d")}getCanvas(){var t=document.getElementById(this.graphicsConfig.canvasID);if(t instanceof HTMLCanvasElement)return t;throw Error("engineCanvas should be a reserved id for DOM Components")}parseStyle(t){var e=Object.entries(t).map((([t,e])=>t+":"+e+";"));return console.log(this.graphicsConfig.parent),e.join(" ")}setup(){var t=new Image;t.src="/images/test.jpg",t.style.position="absolute",t.style.zIndex="-1",t.style.width="100%",t.style.height="100%",document.body.appendChild(t)}}class e{constructor(){this.tag="PHYSICS",this.components=[]}update(t){for(var e of this.components)e.update(t)}}class s{constructor(t="engineDiv",e="engineCanvas",s={},n){this.parent=t,this.canvasID=e,this.style=s,this.background=n}}class n{}class i{constructor(t,e=[],s){this.name=t,this.entities=e,this.background=s}}class o{constructor(t,e){for(var s of(this.name=t.name,this.entities=new Map,this.engineComponents=new Map,e))this.engineComponents.set(s.tag,[]);for(var n of t.entities)this.addEntity(n);console.log(this.engineComponents),this.background=t.background,this.time=0}addEntity(t){var e=r.getUniqueId();for(var s of(t.id=e,t.scene=this,this.entities.set(e,t),t.components)){var n=this.engineComponents.get(s.engineTag);if(!n){for(var i of(console.log(s.engineTag),this.engineComponents.keys()))console.log(i);throw Error("something wrong adding entities")}n.push(this.createComponent(s))}}removeEntity(t){var e=this.getEntity(t);if(e)for(var s of e.components){var n=this.engineComponents.get(s.engineTag);if(n)for(var i=0;i<n.length;i++)n[i].entity==e&&n.splice(i,1)}return e}getEntity(t){return this.entities.get(t)}createComponent(t){return t.componentId=r.getUniqueComponentId(),t}}class r{constructor(t=[new i("Default")],e,s=0){this.sceneConfigs=t,this.scenes=[];for(var n=0;n<t.length;n++){var r=t[n];console.log("In Scene Manager"),console.log(e),this.scenes.push(new o(r,e))}this.sceneConfigs=t,this.currentIdx=s}switchScenes(t){return this.currentIdx=t,this.getCurrentScene()}getCurrentScene(){return this.scenes[this.currentIdx]}getCurrentEntities(){return this.scenes[this.currentIdx].entities}addCurrentEntity(t){}static getUniqueId(){return r.id++}static getUniqueComponentId(){return r.componentId++}}r.id=0,r.componentId=0;class h{constructor(s=new n,i){if(this.canvasID="engineCanvas",this.systems=[],this.time=0,this.engineConfig=s,this.engineConfig.physicsConfig&&this.systems.push(new e),i)for(var o of i)this.systems.push(o);for(var o of(this.engineConfig.graphicsConfig&&(this.graphics=new t(this.engineConfig.graphicsConfig),this.systems.push(this.graphics)),this.sceneManager=new r(this.engineConfig.sceneConfig,this.systems),this.running=!0,this.systems)){var h=this.sceneManager.getCurrentScene().engineComponents.get(o.tag);if(!h)throw Error("error in start method");o.components=h,console.log(o.components)}this.running=!1}start(t){if(this.running=!0,this.graphics)this.update(t),window.requestAnimationFrame((()=>this.start(t)));else for(;this.running;)this.update(t)}update(t){for(var e of this.systems)e.update(t);this.time+=t,console.log(this.time)}}class a{constructor(t,e={x:0,y:0,z:0},s={x:0,y:0,z:0},n={x:0,y:0,z:0}){this.engineTag="PHYSICS",this.entity=t,this.pos=e,this.vel=s,this.accel=n}update(t){this.vel.x=this.vel.x+this.accel.x*t,this.vel.y=this.vel.y+this.accel.y*t,this.vel.z=this.vel.z+this.accel.z*t,this.pos.x=this.pos.x+this.vel.x*t,this.pos.y=this.pos.y+this.vel.y*t,this.pos.z=this.pos.z+this.vel.z*t}}class c{constructor(t,e){this.engineTag="GRAPHICS",this.entity=t,this.transform=e}update(t,e){if(e){var s=255*Math.random(),n=255*Math.random(),i=255*Math.random();e.fillStyle=`rgb(\n                ${s},\n                ${n},\n                ${i})`,e.fillRect(this.transform.pos.x,this.transform.pos.y,20,20)}}}class g{constructor(){this.transform=new a(this,{x:20,y:20,z:20},{x:1,y:1,z:0}),this.renderer=new c(this,this.transform),this.components=[this.transform,this.renderer]}}window.onload=()=>{new h({physicsConfig:{},graphicsConfig:new s("test","193as",{"background-color":"white",width:"100%",height:"100%"}),sceneConfig:[{name:"as",entities:[new g]}]}).start(1)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMxSCxLQUFLbUgsVUFBVVAsSUFBSUMsRUFBRzdHLEtBQUttSCxVQUFVUCxJQUFJRSxFQUFHLEdBQUksTUNibEUsTUFBTWEsRUFDVDdILGNBQ0lFLEtBQUttSCxVQUFZLElBQUlSLEVBQVUzRyxLQUFNLENBQ2pDNkcsRUFBRyxHQUNIQyxFQUFHLEdBQ0hDLEVBQUcsSUFDSixDQUNDRixFQUFHLEVBQ0hDLEVBQUcsRUFDSEMsRUFBRyxJQUVQL0csS0FBSzRILFNBQVcsSUFBSVYsRUFBVWxILEtBQU1BLEtBQUttSCxXQUN6Q25ILEtBQUtFLFdBQWEsQ0FDZEYsS0FBS21ILFVBQ0xuSCxLQUFLNEgsV0NiakJuQixPQUFPb0IsT0FBUyxLQXVDQyxJQUFJN0IsRUFBTyxDQUNwQkcsY0FBZSxHQUNmcEcsZUFBZ0IsSUFBSXFELEVBQWUsT0FBUSxRQUFTLENBQUUsbUJBQW9CLFFBQVMsTUFBUyxPQUFRLE9BQVUsU0FDOUdLLFlBQWEsQ0FDVCxDQUNJRCxLQUFNLEtBQ050QyxTQUFVLENBQ04sSUFBSXlHLE9BS2JuQixNQUFNLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJuLWJhY2tlbmQtc3RhcnRlci1raXQvLi9kaXN0L2VuZ2luZS9zcmMvZ3JhcGhpY3MvR3JhcGhpY0VuZ2luZS5qcyIsIndlYnBhY2s6Ly9tZXJuLWJhY2tlbmQtc3RhcnRlci1raXQvLi9kaXN0L2VuZ2luZS9zcmMvY29uc3RhbnRzL2NvbXBvbmVudFR5cGUuanMiLCJ3ZWJwYWNrOi8vbWVybi1iYWNrZW5kLXN0YXJ0ZXIta2l0Ly4vZGlzdC9lbmdpbmUvc3JjL3BoeXNpY3MvUGh5c2ljc0VuZ2luZS5qcyIsIndlYnBhY2s6Ly9tZXJuLWJhY2tlbmQtc3RhcnRlci1raXQvLi9kaXN0L2VuZ2luZS9zcmMvdHlwZXMvY29uZmlnLmpzIiwid2VicGFjazovL21lcm4tYmFja2VuZC1zdGFydGVyLWtpdC8uL2Rpc3QvZW5naW5lL3NyYy90eXBlcy9zY2VuZS5qcyIsIndlYnBhY2s6Ly9tZXJuLWJhY2tlbmQtc3RhcnRlci1raXQvLi9kaXN0L2VuZ2luZS9zcmMvY29yZS9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vbWVybi1iYWNrZW5kLXN0YXJ0ZXIta2l0Ly4vZGlzdC9lbmdpbmUvc3JjL2NvcmUvZW5naW5lLmpzIiwid2VicGFjazovL21lcm4tYmFja2VuZC1zdGFydGVyLWtpdC8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL1BoeXNpY3MvdHJhbnNmb3JtLmpzIiwid2VicGFjazovL21lcm4tYmFja2VuZC1zdGFydGVyLWtpdC8uL2Rpc3QvZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL1JlY3RhbmdsZS5qcyIsIndlYnBhY2s6Ly9tZXJuLWJhY2tlbmQtc3RhcnRlci1raXQvLi9kaXN0L0dhbWVGcm9udGVuZC9zY2VuZXMvZW50aXRpZXMvUGxheWVyLmpzIiwid2VicGFjazovL21lcm4tYmFja2VuZC1zdGFydGVyLWtpdC8uL2Rpc3QvR2FtZUZyb250ZW5kL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdSQVBISUNTX1RBRyB9IGZyb20gXCIuLi9jb25zdGFudHMvY29tcG9uZW50VHlwZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgR3JhcGhpY3NFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoZ3JhcGhpY3NDb25maWcpIHtcclxuICAgICAgICB0aGlzLnRhZyA9IEdSQVBISUNTX1RBRztcclxuICAgICAgICB0aGlzLmdyYXBoaWNzQ29uZmlnID0gZ3JhcGhpY3NDb25maWc7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW107XHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICB0aGlzLnNldHVwKCk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSB0aGlzLmdlbmVyYXRlQ2FudmFzKCk7XHJcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgdGhpcy5kaXYgPSB0aGlzLmdlbmVyYXRlRGl2KHRoaXMuZ3JhcGhpY3NDb25maWcucGFyZW50KTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzID0gW107XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkdyYXBoaWNzXCIpO1xyXG4gICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmN0eC5jYW52YXMud2lkdGgsIHRoaXMuY3R4LmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIGZvciAodmFyIGNvbXAgb2YgdGhpcy5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbXAuY29tcG9uZW50SWQpO1xyXG4gICAgICAgICAgICBjb21wLnVwZGF0ZShkdCwgdGhpcy5jdHgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkluc2lkZSBHcmFwaGljcyBDb21wb25lbnRcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbXAuY29tcG9uZW50SWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdlbmVyYXRlRGl2KHBhcmVudCkge1xyXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXYuaWQgPSBwYXJlbnQ7XHJcbiAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gXCIxXCI7XHJcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwiL2ltYWdlcy90ZXN0LmpwZ1wiO1xyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGVzdFwiKTtcclxuICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgfVxyXG4gICAgZ2VuZXJhdGVDYW52YXMoKSB7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJDQU5WQVNcIik7XHJcbiAgICAgICAgY2FudmFzLmlkID0gdGhpcy5ncmFwaGljc0NvbmZpZy5jYW52YXNJRDtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBhcnNlU3R5bGUodGhpcy5ncmFwaGljc0NvbmZpZy5zdHlsZSkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQmVmb3JlXCIpO1xyXG4gICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgdGhpcy5wYXJzZVN0eWxlKHRoaXMuZ3JhcGhpY3NDb25maWcuc3R5bGUpKTtcclxuICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgfVxyXG4gICAgZ2V0Q3R4KCkge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmdldENhbnZhcygpO1xyXG4gICAgICAgIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgfVxyXG4gICAgZ2V0Q2FudmFzKCkge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdyYXBoaWNzQ29uZmlnLmNhbnZhc0lEKTtcclxuICAgICAgICBpZiAoY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiZW5naW5lQ2FudmFzIHNob3VsZCBiZSBhIHJlc2VydmVkIGlkIGZvciBET00gQ29tcG9uZW50c1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwYXJzZVN0eWxlKHN0eWxlT2JqZWN0KSB7XHJcbiAgICAgICAgdmFyIGNzc0FycmF5ID0gT2JqZWN0LmVudHJpZXMoc3R5bGVPYmplY3QpLm1hcCgoW2ssIHZdKSA9PiBrICsgXCI6XCIgKyB2ICsgXCI7XCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ3JhcGhpY3NDb25maWcucGFyZW50KTtcclxuICAgICAgICByZXR1cm4gY3NzQXJyYXkuam9pbihcIiBcIik7XHJcbiAgICB9XHJcbiAgICBzZXR1cCgpIHtcclxuICAgICAgICBpZiAodHJ1ZSkge1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gXCIvaW1hZ2VzL3Rlc3QuanBnXCI7XHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS56SW5kZXggPSBcIi0xXCI7XHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGltYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R3JhcGhpY0VuZ2luZS5qcy5tYXAiLCJleHBvcnQgY29uc3QgUEhZU0lDU19UQUcgPSBcIlBIWVNJQ1NcIjtcclxuZXhwb3J0IGNvbnN0IEdSQVBISUNTX1RBRyA9IFwiR1JBUEhJQ1NcIjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50VHlwZS5qcy5tYXAiLCJpbXBvcnQgeyBQSFlTSUNTX1RBRyB9IGZyb20gXCIuLi9jb25zdGFudHMvY29tcG9uZW50VHlwZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgUGh5c2ljc0VuZ2luZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnRhZyA9IFBIWVNJQ1NfVEFHO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtdO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgY29tcCBvZiB0aGlzLmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgY29tcC51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1QaHlzaWNzRW5naW5lLmpzLm1hcCIsIi8qKlxyXG4gKiBEZXNjcmliZXMgdGhlIENTUyBwcm9wZXJ0aWVzIG9mIHRoZSBjYW52YXMgZWxlbWVudFxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBoeXNpY3NDb25maWcge1xyXG59XHJcbmV4cG9ydCBjbGFzcyBHcmFwaGljc0NvbmZpZyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQgPSBcImVuZ2luZURpdlwiLCBjYW52YXNJRCA9IFwiZW5naW5lQ2FudmFzXCIsIHN0eWxlID0ge30sIGJhY2tncm91bmQpIHtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICB0aGlzLmNhbnZhc0lEID0gY2FudmFzSUQ7XHJcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGNsYXNzIEVuZ2luZUNvbmZpZyB7XHJcbn1cclxuZXhwb3J0IGNsYXNzIFNjZW5lQ29uZmlnIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGVudGl0aWVzID0gW10sIGJhY2tncm91bmQpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSBlbnRpdGllcztcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXAiLCJpbXBvcnQgeyBTY2VuZU1hbmFnZXIgfSBmcm9tIFwiLi4vY29yZS9tYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanNcIjtcclxuZXhwb3J0IGNsYXNzIFNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lQ29uZmlnLCBzeXN0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gc2NlbmVDb25maWcubmFtZTtcclxuICAgICAgICB0aGlzLmVudGl0aWVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZW5naW5lQ29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICBmb3IgKHZhciBzeXN0ZW0gb2Ygc3lzdGVtcykge1xyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZUNvbXBvbmVudHMuc2V0KHN5c3RlbS50YWcsIFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgZSBvZiBzY2VuZUNvbmZpZy5lbnRpdGllcykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZEVudGl0eShlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5lbmdpbmVDb21wb25lbnRzKTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBzY2VuZUNvbmZpZy5iYWNrZ3JvdW5kO1xyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICB9XHJcbiAgICBhZGRFbnRpdHkoZW50aXR5KSB7XHJcbiAgICAgICAgdmFyIHVuaXF1ZUlkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUlkKCk7XHJcbiAgICAgICAgZW50aXR5LmlkID0gdW5pcXVlSWQ7XHJcbiAgICAgICAgZW50aXR5LnNjZW5lID0gdGhpcztcclxuICAgICAgICB0aGlzLmVudGl0aWVzLnNldCh1bmlxdWVJZCwgZW50aXR5KTtcclxuICAgICAgICBmb3IgKHZhciBjb21wIG9mIGVudGl0eS5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wTGlzdCA9IHRoaXMuZW5naW5lQ29tcG9uZW50cy5nZXQoY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICBpZiAoY29tcExpc3QpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBMaXN0LnB1c2godGhpcy5jcmVhdGVDb21wb25lbnQoY29tcCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29tcC5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IG9mIHRoaXMuZW5naW5lQ29tcG9uZW50cy5rZXlzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJzb21ldGhpbmcgd3JvbmcgYWRkaW5nIGVudGl0aWVzXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVtb3ZlRW50aXR5KGlkKSB7XHJcbiAgICAgICAgdmFyIGVudGl0eSA9IHRoaXMuZ2V0RW50aXR5KGlkKTtcclxuICAgICAgICBpZiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGUgb2YgZW50aXR5LmNvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbmdpbmVDb21wTGlzdCA9IHRoaXMuZW5naW5lQ29tcG9uZW50cy5nZXQoZS5lbmdpbmVUYWcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZ2luZUNvbXBMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbmdpbmVDb21wTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5naW5lQ29tcExpc3RbaV0uZW50aXR5ID09IGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5naW5lQ29tcExpc3Quc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbnRpdHk7XHJcbiAgICB9XHJcbiAgICBnZXRFbnRpdHkoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbnRpdGllcy5nZXQoaWQpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlQ29tcG9uZW50KGNvbXApIHtcclxuICAgICAgICBjb21wLmNvbXBvbmVudElkID0gU2NlbmVNYW5hZ2VyLmdldFVuaXF1ZUNvbXBvbmVudElkKCk7XHJcbiAgICAgICAgcmV0dXJuIGNvbXA7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NlbmUuanMubWFwIiwiaW1wb3J0IHsgU2NlbmVDb25maWcgfSBmcm9tIFwiLi4vLi4vdHlwZXMvY29uZmlnLmpzXCI7XHJcbmltcG9ydCB7IFNjZW5lIH0gZnJvbSBcIi4uLy4uL3R5cGVzL3NjZW5lLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBTY2VuZU1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0gW25ldyBTY2VuZUNvbmZpZyhcIkRlZmF1bHRcIildLCBzeXN0ZW1zLCBpbmRleCA9IDApIHtcclxuICAgICAgICB0aGlzLnNjZW5lQ29uZmlncyA9IGNvbmZpZztcclxuICAgICAgICB0aGlzLnNjZW5lcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyQ29uZmlnID0gY29uZmlnW2ldO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkluIFNjZW5lIE1hbmFnZXJcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN5c3RlbXMpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lcy5wdXNoKG5ldyBTY2VuZShjdXJyQ29uZmlnLCBzeXN0ZW1zKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NlbmVDb25maWdzID0gY29uZmlnO1xyXG4gICAgICAgIHRoaXMuY3VycmVudElkeCA9IGluZGV4O1xyXG4gICAgfVxyXG4gICAgc3dpdGNoU2NlbmVzKGluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SWR4ID0gaW5kZXg7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFNjZW5lKCk7XHJcbiAgICB9XHJcbiAgICBnZXRDdXJyZW50U2NlbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmVzW3RoaXMuY3VycmVudElkeF07XHJcbiAgICB9XHJcbiAgICBnZXRDdXJyZW50RW50aXRpZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmVzW3RoaXMuY3VycmVudElkeF0uZW50aXRpZXM7XHJcbiAgICB9XHJcbiAgICBhZGRDdXJyZW50RW50aXR5KGVudGl0eSkge1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldFVuaXF1ZUlkKCkge1xyXG4gICAgICAgIHJldHVybiBTY2VuZU1hbmFnZXIuaWQrKztcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXRVbmlxdWVDb21wb25lbnRJZCgpIHtcclxuICAgICAgICByZXR1cm4gU2NlbmVNYW5hZ2VyLmNvbXBvbmVudElkKys7XHJcbiAgICB9XHJcbn1cclxuU2NlbmVNYW5hZ2VyLmlkID0gMDtcclxuU2NlbmVNYW5hZ2VyLmNvbXBvbmVudElkID0gMDtcclxuY2xhc3MgRGVmYXVsdFNjZW5lIGV4dGVuZHMgU2NlbmUge1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjZW5lTWFuYWdlci5qcy5tYXAiLCJpbXBvcnQgeyBHcmFwaGljc0VuZ2luZSB9IGZyb20gXCIuLi9ncmFwaGljcy9HcmFwaGljRW5naW5lLmpzXCI7XHJcbmltcG9ydCB7IFBoeXNpY3NFbmdpbmUgfSBmcm9tIFwiLi4vcGh5c2ljcy9QaHlzaWNzRW5naW5lLmpzXCI7XHJcbmltcG9ydCB7IEVuZ2luZUNvbmZpZyB9IGZyb20gXCIuLi90eXBlcy9jb25maWcuanNcIjtcclxuaW1wb3J0IHsgU2NlbmVNYW5hZ2VyIH0gZnJvbSBcIi4vbWFuYWdlcnMvU2NlbmVNYW5hZ2VyLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZUNvbmZpZyA9IG5ldyBFbmdpbmVDb25maWcoKSwgc3lzdGVtcykge1xyXG4gICAgICAgIHRoaXMuY2FudmFzSUQgPSBcImVuZ2luZUNhbnZhc1wiO1xyXG4gICAgICAgIHRoaXMuc3lzdGVtcyA9IFtdO1xyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5lbmdpbmVDb25maWcgPSBnYW1lQ29uZmlnO1xyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZUNvbmZpZy5waHlzaWNzQ29uZmlnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKG5ldyBQaHlzaWNzRW5naW5lKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3lzdGVtcykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBzeXMgb2Ygc3lzdGVtcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW1zLnB1c2goc3lzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmVDb25maWcuZ3JhcGhpY3NDb25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy5ncmFwaGljcyA9IG5ldyBHcmFwaGljc0VuZ2luZSh0aGlzLmVuZ2luZUNvbmZpZy5ncmFwaGljc0NvbmZpZyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHRoaXMuZ3JhcGhpY3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjZW5lTWFuYWdlciA9IG5ldyBTY2VuZU1hbmFnZXIodGhpcy5lbmdpbmVDb25maWcuc2NlbmVDb25maWcsIHRoaXMuc3lzdGVtcyk7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKHZhciBzeXMgb2YgdGhpcy5zeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wID0gdGhpcy5zY2VuZU1hbmFnZXIuZ2V0Q3VycmVudFNjZW5lKCkuZW5naW5lQ29tcG9uZW50cy5nZXQoc3lzLnRhZyk7XHJcbiAgICAgICAgICAgIGlmIChjb21wKSB7XHJcbiAgICAgICAgICAgICAgICBzeXMuY29tcG9uZW50cyA9IGNvbXA7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzeXMuY29tcG9uZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcImVycm9yIGluIHN0YXJ0IG1ldGhvZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKlxyXG4gICAgICAgICBcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnXHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIlxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gXCIwXCJcclxuICAgICAgICB0aGlzLnNldHVwKClcclxuICAgICAgICB0aGlzLmRpdiA9IHRoaXMuZ2VuZXJhdGVEaXYodGhpcy5lbmdpbmVDb25maWcucGFyZW50KSA7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2VcclxuICAgICAgICAqL1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICBwYXJzZVN0eWxlKHN0eWxlT2JqZWN0OiBPYmplY3QpOiAgc3RyaW5nIHtcclxuICAgICAgICB2YXIgY3NzQXJyYXk6IHN0cmluZ1tdID0gT2JqZWN0LmVudHJpZXMoc3R5bGVPYmplY3QpLm1hcCgoW2ssdl0pID0+IGsgKyBcIjpcIiArIHYgKyBcIjtcIilcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVuZ2luZUNvbmZpZy5wYXJlbnQpXHJcbiAgICAgICAgcmV0dXJuIGNzc0FycmF5LmpvaW4oXCIgXCIpXHJcbiAgICB9XHJcbiAgICAqL1xyXG4gICAgLyoqXHJcbiAgICBnZW5lcmF0ZURpdihwYXJlbnQ6IHN0cmluZykge1xyXG4gICAgICAgIHZhciBkaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBkaXYuaWQgPSBwYXJlbnRcclxuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcclxuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCJcclxuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBcIjFcIlxyXG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcIi9pbWFnZXMvdGVzdC5qcGdcIlxyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aGlzLmdlbmVyYXRlQ2FudmFzKCkpXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidGVzdFwiKVxyXG4gICAgICAgIHJldHVybiBkaXZcclxuICAgIH1cclxuICAgIGdlbmVyYXRlQ2FudmFzKCk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkNBTlZBU1wiKVxyXG4gICAgICAgIGNhbnZhcy5pZCA9IHRoaXMuY2FudmFzSURcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBhcnNlU3R5bGUodGhpcy5lbmdpbmVDb25maWcuc3R5bGUpKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQmVmb3JlXCIpXHJcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0aGlzLnBhcnNlU3R5bGUodGhpcy5lbmdpbmVDb25maWcuc3R5bGUpKVxyXG4gICAgICAgIHJldHVybiBjYW52YXNcclxuICAgIH1cclxuICAgIGdldEN0eCgpIHtcclxuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5nZXRDYW52YXMoKVxyXG4gICAgICAgIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpXHJcbiAgICB9XHJcbiAgICBnZXRDYW52YXMoKTogSFRNTENhbnZhc0VsZW1lbnQge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNhbnZhc0lEKVxyXG4gICAgICAgIGlmIChjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJlbmdpbmVDYW52YXMgc2hvdWxkIGJlIGEgcmVzZXJ2ZWQgaWQgZm9yIERPTSBDb21wb25lbnRzXCIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAgKlxyXG4gICAgIFxyXG4gICAgc2V0dXAoKSB7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZW5naW5lQ29uZmlnXHJcbiAgICAgICAgaWYgKHRydWUpIHtcclxuICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKClcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gXCIvaW1hZ2VzL3Rlc3QuanBnXCJcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUucG9zaXRpb24gPVwiYWJzb2x1dGVcIlxyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS56SW5kZXggPSBcIi0xXCJcclxuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS5oZWlnaHQ9IFwiMTAwJVwiXHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGltYWdlKVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAqL1xyXG4gICAgc3RhcnQoZHQpIHtcclxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnN0YXJ0KGR0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShkdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzeXMgb2YgdGhpcy5zeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIHN5cy51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50aW1lKTtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmdpbmUuanMubWFwIiwiZXhwb3J0IGNsYXNzIFRyYW5zZm9ybSB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbnRpdHksIHBvcyA9IHsgeDogMCwgeTogMCwgejogMCB9LCB2ZWwgPSB7IHg6IDAsIHk6IDAsIHo6IDAgfSwgYWNjZWwgPSB7IHg6IDAsIHk6IDAsIHo6IDAgfSkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lVGFnID0gXCJQSFlTSUNTXCI7XHJcbiAgICAgICAgdGhpcy5lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICAgICAgdGhpcy52ZWwgPSB2ZWw7XHJcbiAgICAgICAgdGhpcy5hY2NlbCA9IGFjY2VsO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgdGhpcy52ZWwueCA9IHRoaXMudmVsLnggKyB0aGlzLmFjY2VsLnggKiBkdDtcclxuICAgICAgICB0aGlzLnZlbC55ID0gdGhpcy52ZWwueSArIHRoaXMuYWNjZWwueSAqIGR0O1xyXG4gICAgICAgIHRoaXMudmVsLnogPSB0aGlzLnZlbC56ICsgdGhpcy5hY2NlbC56ICogZHQ7XHJcbiAgICAgICAgdGhpcy5wb3MueCA9IHRoaXMucG9zLnggKyB0aGlzLnZlbC54ICogZHQ7XHJcbiAgICAgICAgdGhpcy5wb3MueSA9IHRoaXMucG9zLnkgKyB0aGlzLnZlbC55ICogZHQ7XHJcbiAgICAgICAgdGhpcy5wb3MueiA9IHRoaXMucG9zLnogKyB0aGlzLnZlbC56ICogZHQ7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBSZWN0YW5nbGUge1xyXG4gICAgY29uc3RydWN0b3IoZW50aXR5LCB0cmFuc2Zvcm0pIHtcclxuICAgICAgICB0aGlzLmVuZ2luZVRhZyA9IFwiR1JBUEhJQ1NcIjtcclxuICAgICAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCwgY3R4KSB7XHJcbiAgICAgICAgaWYgKGN0eCkge1xyXG4gICAgICAgICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAyNTU7XHJcbiAgICAgICAgICAgIHZhciBnID0gTWF0aC5yYW5kb20oKSAqIDI1NTtcclxuICAgICAgICAgICAgdmFyIGIgPSBNYXRoLnJhbmRvbSgpICogMjU1O1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYHJnYihcclxuICAgICAgICAgICAgICAgICR7cn0sXHJcbiAgICAgICAgICAgICAgICAke2d9LFxyXG4gICAgICAgICAgICAgICAgJHtifSlgO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy50cmFuc2Zvcm0ucG9zLngsIHRoaXMudHJhbnNmb3JtLnBvcy55LCAyMCwgMjApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWN0YW5nbGUuanMubWFwIiwiaW1wb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSBcIi4uLy4uLy4uL2VuZ2luZS9zcmMvY29tcG9uZW50cy9QaHlzaWNzL3RyYW5zZm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5naW5lL3NyYy9jb21wb25lbnRzL0dyYXBoaWNzL1JlY3RhbmdsZS5qc1wiO1xyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSh0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IDIwLFxyXG4gICAgICAgICAgICB5OiAyMCxcclxuICAgICAgICAgICAgejogMjBcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIHg6IDEsXHJcbiAgICAgICAgICAgIHk6IDEsXHJcbiAgICAgICAgICAgIHo6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlY3RhbmdsZSh0aGlzLCB0aGlzLnRyYW5zZm9ybSk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gW1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSxcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlclxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxheWVyLmpzLm1hcCIsImltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuLi9lbmdpbmUvc3JjL2NvcmUvZW5naW5lLmpzXCI7XHJcbmltcG9ydCB7IEdyYXBoaWNzQ29uZmlnIH0gZnJvbSBcIi4uL2VuZ2luZS9zcmMvdHlwZXMvY29uZmlnLmpzXCI7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3NjZW5lcy9lbnRpdGllcy9QbGF5ZXIuanNcIjtcclxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICBcclxuICAgIHZhciBzb2NrZXQ6IFNvY2tldCA9IGlvKClcclxuXHJcbiAgICBsZXQgQ09ORklHOiBQaGFzZXIuVHlwZXMuQ29yZS5HYW1lQ29uZmlnID0ge1xyXG4gICAgICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgICAgIHRpdGxlOiAndGVzdCcsXHJcbiAgICAgICAgcGFyZW50OiAnZ2FtZScsXHJcbiAgICAgICAgc2NlbmU6IFtcclxuICAgICAgICAgICAgbmV3IFdhaXRpbmdTY2VuZShzb2NrZXQpXHJcbiAgICAgICAgXSxcclxuICAgICAgICBzY2FsZToge1xyXG4gICAgICAgICAgICBtb2RlOiBQaGFzZXIuU2NhbGUuQ0VOVEVSX0JPVEgsXHJcbiAgICAgICAgICAgIHdpZHRoOiB3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGggLSAod2luZG93Lm91dGVyV2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aCksXHJcbiAgICAgICAgICAgIGhlaWdodDogd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCAtICh3aW5kb3cub3V0ZXJIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzNhYmEzYVwiLFxyXG4gICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLFxyXG5cclxuICAgICAgICBkb206IHtcclxuICAgICAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgICAgIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCk9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQnKVxyXG4gICAgICAgICAgICB2YXIgcm9vbUlkOiBzdHJpbmcgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVcclxuICAgICAgICAgICAgdmFyIHJvb21BcnI6IHN0cmluZ1tdICA9IHJvb21JZC5zcGxpdChcIi9cIilcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocm9vbUFycltyb29tQXJyLmxlbmd0aC0xXSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocm9vbUlkKVxyXG4gICAgICAgICAgICBzb2NrZXQuZW1pdChcIkFkZFBsYXllclwiLCB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcIlBsYXllck5hbWVcIiksIHJvb21BcnJbcm9vbUFyci5sZW5ndGgtMV0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkaXNjb25uZWN0ZWQnKVxyXG4gICAgICAgIH0pXHJcbiAgICB2YXIgZ2FtZTogUGhhc2VyLkdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoQ09ORklHKVxyXG4gICAgKi9cclxuICAgIGxldCBlbmdpbmUgPSBuZXcgRW5naW5lKHtcclxuICAgICAgICBwaHlzaWNzQ29uZmlnOiB7fSxcclxuICAgICAgICBncmFwaGljc0NvbmZpZzogbmV3IEdyYXBoaWNzQ29uZmlnKFwidGVzdFwiLCBcIjE5M2FzXCIsIHsgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwid2hpdGVcIiwgXCJ3aWR0aFwiOiBcIjEwMCVcIiwgXCJoZWlnaHRcIjogXCIxMDAlXCIgfSksXHJcbiAgICAgICAgc2NlbmVDb25maWc6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJhc1wiLFxyXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgUGxheWVyKClcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuICAgIH0pO1xyXG4gICAgZW5naW5lLnN0YXJ0KDEpO1xyXG59O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOlsiR3JhcGhpY3NFbmdpbmUiLCJjb25zdHJ1Y3RvciIsImdyYXBoaWNzQ29uZmlnIiwidGhpcyIsInRhZyIsImNvbXBvbmVudHMiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiaGVpZ2h0Iiwid2lkdGgiLCJib2R5IiwibWFyZ2luIiwic2V0dXAiLCJjYW52YXMiLCJnZW5lcmF0ZUNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJkaXYiLCJnZW5lcmF0ZURpdiIsInBhcmVudCIsImVudGl0aWVzIiwidXBkYXRlIiwiZHQiLCJjb21wIiwiY29uc29sZSIsImxvZyIsImNsZWFyUmVjdCIsImNvbXBvbmVudElkIiwiY3JlYXRlRWxlbWVudCIsImlkIiwicG9zaXRpb24iLCJ6SW5kZXgiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJhcHBlbmRDaGlsZCIsImNhbnZhc0lEIiwicGFyc2VTdHlsZSIsInNldEF0dHJpYnV0ZSIsImdldEN0eCIsImdldENhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJFcnJvciIsInN0eWxlT2JqZWN0IiwiY3NzQXJyYXkiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiayIsInYiLCJqb2luIiwiaW1hZ2UiLCJJbWFnZSIsInNyYyIsIlBoeXNpY3NFbmdpbmUiLCJHcmFwaGljc0NvbmZpZyIsImJhY2tncm91bmQiLCJFbmdpbmVDb25maWciLCJTY2VuZUNvbmZpZyIsIm5hbWUiLCJzY2VuZUNvbmZpZyIsInN5c3RlbXMiLCJzeXN0ZW0iLCJNYXAiLCJlbmdpbmVDb21wb25lbnRzIiwic2V0IiwiZSIsImFkZEVudGl0eSIsInRpbWUiLCJlbnRpdHkiLCJ1bmlxdWVJZCIsIlNjZW5lTWFuYWdlciIsImdldFVuaXF1ZUlkIiwic2NlbmUiLCJjb21wTGlzdCIsImdldCIsImVuZ2luZVRhZyIsImtleSIsImtleXMiLCJwdXNoIiwiY3JlYXRlQ29tcG9uZW50IiwicmVtb3ZlRW50aXR5IiwiZ2V0RW50aXR5IiwiZW5naW5lQ29tcExpc3QiLCJpIiwibGVuZ3RoIiwic3BsaWNlIiwiZ2V0VW5pcXVlQ29tcG9uZW50SWQiLCJjb25maWciLCJpbmRleCIsInNjZW5lQ29uZmlncyIsInNjZW5lcyIsImN1cnJDb25maWciLCJjdXJyZW50SWR4Iiwic3dpdGNoU2NlbmVzIiwiZ2V0Q3VycmVudFNjZW5lIiwiZ2V0Q3VycmVudEVudGl0aWVzIiwiYWRkQ3VycmVudEVudGl0eSIsInN0YXRpYyIsIkVuZ2luZSIsImdhbWVDb25maWciLCJlbmdpbmVDb25maWciLCJwaHlzaWNzQ29uZmlnIiwic3lzIiwiZ3JhcGhpY3MiLCJzY2VuZU1hbmFnZXIiLCJydW5uaW5nIiwic3RhcnQiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJUcmFuc2Zvcm0iLCJwb3MiLCJ4IiwieSIsInoiLCJ2ZWwiLCJhY2NlbCIsIlJlY3RhbmdsZSIsInRyYW5zZm9ybSIsInIiLCJNYXRoIiwicmFuZG9tIiwiZyIsImIiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIlBsYXllciIsInJlbmRlcmVyIiwib25sb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==